/* esm.sh - agent0-sdk@1.4.2 */
import __Process$ from "/node/process.mjs";
import { Buffer as __Buffer$ } from "/node/buffer.mjs";
import*as __0$ from"/ipfs-utils/src/http?target=es2022";import*as __1$ from"/varint/encode?target=es2022";import*as __2$ from"/varint/decode?target=es2022";import*as __3$ from"/varint/length?target=es2022";var require=n=>{const e=m=>typeof m.default<"u"?m.default:m,c=m=>Object.assign({__esModule:true},m);switch(n){case"ipfs-utils/src/http":return e(__0$);case"varint/encode.js":return e(__1$);case"varint/decode.js":return e(__2$);case"varint/length.js":return e(__3$);default:console.error('module "'+n+'" not found');return null;}};
var Xn=Object.create;var Ye=Object.defineProperty;var Zn=Object.getOwnPropertyDescriptor;var ei=Object.getOwnPropertyNames;var ti=Object.getPrototypeOf,ni=Object.prototype.hasOwnProperty;var Se=(i=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(i,{get:(e,t)=>(typeof require<"u"?require:e)[t]}):i)(function(i){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+i+'" is not supported')});var L=(i,e)=>()=>(i&&(e=i(i=0)),e);var he=(i,e)=>()=>(e||i((e={exports:{}}).exports,e),e.exports),se=(i,e)=>{for(var t in e)Ye(i,t,{get:e[t],enumerable:!0})},Je=(i,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of ei(e))!ni.call(i,a)&&a!==t&&Ye(i,a,{get:()=>e[a],enumerable:!(n=Zn(e,a))||n.enumerable});return i},P=(i,e,t)=>(Je(i,e,"default"),t&&Je(t,e,"default")),ye=(i,e,t)=>(t=i!=null?Xn(ti(i)):{},Je(e||!i||!i.__esModule?Ye(t,"default",{value:i,enumerable:!0}):t,i));var ri,Me,$t=L(()=>{ri=i=>Promise.reject(new Error(`No base found for "${i}"`)),Me=class{constructor(e){this._basesByName={},this._basesByPrefix={},this._loadBase=e.loadBase||ri;for(let t of e.bases)this.addBase(t)}addBase(e){if(this._basesByName[e.name]||this._basesByPrefix[e.prefix])throw new Error(`Codec already exists for codec "${e.name}"`);this._basesByName[e.name]=e,this._basesByPrefix[e.prefix]=e}removeBase(e){delete this._basesByName[e.name],delete this._basesByPrefix[e.prefix]}async getBase(e){if(this._basesByName[e])return this._basesByName[e];if(this._basesByPrefix[e])return this._basesByPrefix[e];let t=await this._loadBase(e);return this._basesByName[t.name]==null&&this._basesByPrefix[t.prefix]==null&&this.addBase(t),t}listBases(){return Object.values(this._basesByName)}}});var si,De,qt=L(()=>{si=i=>Promise.reject(new Error(`No codec found for "${i}"`)),De=class{constructor(e){this._codecsByName={},this._codecsByCode={},this._loadCodec=e.loadCodec||si;for(let t of e.codecs)this.addCodec(t)}addCodec(e){if(this._codecsByName[e.name]||this._codecsByCode[e.code])throw new Error(`Resolver already exists for codec "${e.name}"`);this._codecsByName[e.name]=e,this._codecsByCode[e.code]=e}removeCodec(e){delete this._codecsByName[e.name],delete this._codecsByCode[e.code]}async getCodec(e){let t=typeof e=="string"?this._codecsByName:this._codecsByCode;if(t[e])return t[e];let n=await this._loadCodec(e);return t[e]==null&&this.addCodec(n),n}listCodecs(){return Object.values(this._codecsByName)}}});var oi,Be,Ht=L(()=>{oi=i=>Promise.reject(new Error(`No hasher found for "${i}"`)),Be=class{constructor(e){this._hashersByName={},this._hashersByCode={},this._loadHasher=e.loadHasher||oi;for(let t of e.hashers)this.addHasher(t)}addHasher(e){if(this._hashersByName[e.name]||this._hashersByCode[e.code])throw new Error(`Resolver already exists for codec "${e.name}"`);this._hashersByName[e.name]=e,this._hashersByCode[e.code]=e}removeHasher(e){delete this._hashersByName[e.name],delete this._hashersByCode[e.code]}async getHasher(e){let t=typeof e=="string"?this._hashersByName:this._hashersByCode;if(t[e])return t[e];let n=await this._loadHasher(e);return t[e]==null&&this.addHasher(n),n}listHashers(){return Object.values(this._hashersByName)}}});var N={};se(N,{CID:()=>j,format:()=>Oe,fromJSON:()=>li,toJSON:()=>di});import{base32 as Ne}from"/multiformats/dist/src/bases/base32?target=es2022";import{base36 as tt}from"/multiformats/dist/src/bases/base36?target=es2022";import{base58btc as Z}from"/multiformats/dist/src/bases/base58?target=es2022";import{coerce as ci}from"/multiformats/dist/src/bytes?target=es2022";import*as te from"/multiformats/dist/src/hashes/digest?target=es2022";import*as ee from"/multiformats/dist/src/varint?target=es2022";import*as ey from"/multiformats/dist/src/link/interface?target=es2022";function Oe(i,e){let{bytes:t,version:n}=i;return n===0?pi(t,nt(i),e??Z.encoder):mi(t,nt(i),e??Ne.encoder)}function di(i){return{"/":Oe(i)}}function li(i){return j.parse(i["/"])}function nt(i){let e=zt.get(i);if(e==null){let t=new Map;return zt.set(i,t),t}return e}function ui(i,e){switch(i[0]){case"Q":{let t=e??Z;return[Z.prefix,t.decode(`${Z.prefix}${i}`)]}case Z.prefix:{let t=e??Z;return[Z.prefix,t.decode(i)]}case Ne.prefix:{let t=e??Ne;return[Ne.prefix,t.decode(i)]}case tt.prefix:{let t=e??tt;return[tt.prefix,t.decode(i)]}default:{if(e==null)throw Error("To parse non base32, base36 or base58btc encoded CID multibase decoder must be provided");return[i[0],e.decode(i)]}}}function pi(i,e,t){let{prefix:n}=t;if(n!==Z.prefix)throw Error(`Cannot string encode V0 in ${t.name} encoding`);let a=e.get(n);if(a==null){let r=t.encode(i).slice(1);return e.set(n,r),r}else return a}function mi(i,e,t){let{prefix:n}=t,a=e.get(n);if(a==null){let r=t.encode(i);return e.set(n,r),r}else return a}function Vt(i,e,t){let n=ee.encodingLength(i),a=n+ee.encodingLength(e),r=new Uint8Array(a+t.byteLength);return ee.encodeTo(i,r,0),ee.encodeTo(e,r,n),r.set(t,a),r}var zt,j,be,gi,fi,ve=L(()=>{P(N,ey);zt=new WeakMap;j=class i{code;version;multihash;bytes;"/";constructor(e,t,n,a){this.code=t,this.version=e,this.multihash=n,this.bytes=a,this["/"]=a}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{let{code:e,multihash:t}=this;if(e!==be)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==gi)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return i.createV0(t)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{let{code:e,digest:t}=this.multihash,n=te.create(e,t);return i.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return i.equals(this,e)}static equals(e,t){let n=t;return n!=null&&e.code===n.code&&e.version===n.version&&te.equals(e.multihash,n.multihash)}toString(e){return Oe(this,e)}toJSON(){return{"/":Oe(this)}}link(){return this}[Symbol.toStringTag]="CID";[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(e==null)return null;let t=e;if(t instanceof i)return t;if(t["/"]!=null&&t["/"]===t.bytes||t.asCID===t){let{version:n,code:a,multihash:r,bytes:s}=t;return new i(n,a,r,s??Vt(n,a,r.bytes))}else if(t[fi]===!0){let{version:n,multihash:a,code:r}=t,s=te.decode(a);return i.create(n,r,s)}else return null}static create(e,t,n){if(typeof t!="number")throw new Error("String codecs are no longer supported");if(!(n.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(e){case 0:{if(t!==be)throw new Error(`Version 0 CID must use dag-pb (code: ${be}) block encoding`);return new i(e,t,n,n.bytes)}case 1:{let a=Vt(e,t,n.bytes);return new i(e,t,n,a)}default:throw new Error("Invalid version")}}static createV0(e){return i.create(0,be,e)}static createV1(e,t){return i.create(1,e,t)}static decode(e){let[t,n]=i.decodeFirst(e);if(n.length!==0)throw new Error("Incorrect length");return t}static decodeFirst(e){let t=i.inspectBytes(e),n=t.size-t.multihashSize,a=ci(e.subarray(n,n+t.multihashSize));if(a.byteLength!==t.multihashSize)throw new Error("Incorrect length");let r=a.subarray(t.multihashSize-t.digestSize),s=new te.Digest(t.multihashCode,t.digestSize,r,a);return[t.version===0?i.createV0(s):i.createV1(t.codec,s),e.subarray(t.size)]}static inspectBytes(e){let t=0,n=()=>{let[p,g]=ee.decode(e.subarray(t));return t+=g,p},a=n(),r=be;if(a===18?(a=0,t=0):r=n(),a!==0&&a!==1)throw new RangeError(`Invalid CID version ${a}`);let s=t,o=n(),c=n(),l=t+c,f=l-s;return{version:a,codec:r,multihashCode:o,digestSize:c,multihashSize:f,size:l}}static parse(e,t){let[n,a]=ui(e,t),r=i.decode(a);if(r.version===0&&e[0]!=="Q")throw Error("Version 0 CID string must not include multibase prefix");return nt(r).set(n,e),r}};be=112,gi=18;fi=Symbol.for("@ipld/js-cid/CID")});var it={};se(it,{code:()=>Ai,createLink:()=>vi,createNode:()=>bi,decode:()=>Ci,encode:()=>Ii,name:()=>xi,prepare:()=>_i,validate:()=>Wt});import{decodeNode as hi}from"/@ipld/dag-pb/src/pb-decode?target=es2022";import{encodeNode as yi}from"/@ipld/dag-pb/src/pb-encode?target=es2022";import{prepare as _i,validate as Wt,createNode as bi,createLink as vi,toByteView as wi}from"/@ipld/dag-pb/src/util?target=es2022";function Ii(i){Wt(i);let e={};return i.Links&&(e.Links=i.Links.map(t=>{let n={};return t.Hash&&(n.Hash=t.Hash.bytes),t.Name!==void 0&&(n.Name=t.Name),t.Tsize!==void 0&&(n.Tsize=t.Tsize),n})),i.Data&&(e.Data=i.Data),yi(e)}function Ci(i){let e=wi(i),t=hi(e),n={};return t.Data&&(n.Data=t.Data),t.Links&&(n.Links=t.Links.map(a=>{let r={};try{r.Hash=j.decode(a.Hash)}catch{}if(!r.Hash)throw new Error("Invalid Hash field found in link, expected CID");return a.Name!==void 0&&(r.Name=a.Name),a.Tsize!==void 0&&(r.Tsize=a.Tsize),r})),n}var xi,Ai,jt=L(()=>{ve();xi="dag-pb",Ai=112});import{encode as Gt,encodeInto as sy,rfc8949EncodeOptions as oy}from"/cborg/lib/encode?target=es2022";import{decode as Kt,decodeFirst as dy,Tokeniser as ly,tokensToObject as uy}from"/cborg/lib/decode?target=es2022";import{Token as H,Type as S}from"/cborg/lib/token?target=es2022";var at=L(()=>{});var Le={};se(Le,{code:()=>Bi,decode:()=>ot,decodeOptions:()=>Mi,encode:()=>st,encodeOptions:()=>Pi,name:()=>Di,toByteView:()=>Yt});function Yt(i){return i instanceof ArrayBuffer?new Uint8Array(i,0,i.byteLength):i}function Ti(i){if(i.asCID!==i&&i["/"]!==i.bytes)return null;let e=j.asCID(i);if(!e)return null;let t=new Uint8Array(e.bytes.byteLength+1);return t.set(e.bytes,1),[new H(S.tag,Jt),new H(S.bytes,t)]}function Ei(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")}function Si(i){if(Number.isNaN(i))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(i===1/0||i===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}function Ri(i){for(let e of i.keys())if(typeof e!="string"||e.length===0)throw new Error("Non-string Map keys are not supported by the IPLD Data Model and cannot be encoded");return null}function Fi(i){if(i[0]!==0)throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return j.decode(i.subarray(1))}var Jt,rt,Pi,Ue,Mi,Di,Bi,st,ot,ct=L(()=>{at();ve();Jt=42;rt={float64:!0,typeEncoders:{Map:Ri,Object:Ti,undefined:Ei,number:Si}},Pi={...rt,typeEncoders:{...rt.typeEncoders}};Ue={allowIndefinite:!1,coerceUndefinedToNull:!0,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,rejectDuplicateMapKeys:!0,tags:[]};Ue.tags[Jt]=Fi;Mi={...Ue,tags:Ue.tags.slice()},Di="dag-cbor",Bi=113,st=i=>Gt(i,rt),ot=i=>Kt(Yt(i),Ue)});import{encode as Qt}from"/cborg/lib/json/encode?target=es2022";import{decode as Xt,decodeFirst as hy,Tokenizer as Zt}from"/cborg/lib/json/decode?target=es2022";var en=L(()=>{});var Y={};se(Y,{CID:()=>$e,bytes:()=>Oi,digest:()=>Ui,hasher:()=>Li,varint:()=>$i});import*as Oi from"/multiformats/dist/src/bytes?target=es2022";import{CID as $e}from"/multiformats/dist/src/cid?target=es2022";import*as Ui from"/multiformats/dist/src/hashes/digest?target=es2022";import*as Li from"/multiformats/dist/src/hashes/hasher?target=es2022";import*as $i from"/multiformats/dist/src/varint?target=es2022";import*as _y from"/multiformats/dist/src/interface?target=es2022";var tn=L(()=>{P(Y,_y)});import{rfc4648 as qe}from"/multiformats/dist/src/bases/base?target=es2022";var dt,vy,wy,xy,nn=L(()=>{dt=qe({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),vy=qe({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),wy=qe({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),xy=qe({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6})});var pt={};se(pt,{code:()=>Ki,decode:()=>rn,encode:()=>an,format:()=>Ji,name:()=>Gi,parse:()=>Qi,stringify:()=>Ji});function qi(i){return i instanceof ArrayBuffer?new Uint8Array(i,0,i.byteLength):i}function Hi(i){if(i.asCID!==i&&i["/"]!==i.bytes)return null;let e=$e.asCID(i);if(!e)return null;let t=e.toString();return[new H(S.map,1/0,1),new H(S.string,"/",1),new H(S.string,t,t.length),new H(S.break,void 0,1)]}function He(i){let e=dt.encode(i).slice(1);return[new H(S.map,1/0,1),new H(S.string,"/",1),new H(S.map,1/0,1),new H(S.string,"bytes",5),new H(S.string,e,e.length),new H(S.break,void 0,1),new H(S.break,void 0,1)]}function K(i){return He(new Uint8Array(i.buffer,i.byteOffset,i.byteLength))}function zi(i){return He(new Uint8Array(i))}function Vi(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")}function Wi(i){if(Number.isNaN(i))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(i===1/0||i===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}var ji,lt,ut,Gi,Ki,an,rn,Ji,Yi,Qi,Xi,sn=L(()=>{at();en();tn();nn();ji={typeEncoders:{Object:Hi,Buffer:He,Uint8Array:He,Int8Array:K,Uint16Array:K,Int16Array:K,Uint32Array:K,Int32Array:K,Float32Array:K,Float64Array:K,Uint8ClampedArray:K,BigInt64Array:K,BigUint64Array:K,DataView:K,ArrayBuffer:zi,undefined:Vi,number:Wi}},lt=class extends Zt{constructor(e,t){super(e,t),this.tokenBuffer=[]}done(){return this.tokenBuffer.length===0&&super.done()}_next(){return this.tokenBuffer.length>0?this.tokenBuffer.pop():super.next()}next(){let e=this._next();if(S.equals(e.type,S.map)){let t=this._next();if(S.equals(t.type,S.string)&&t.value==="/"){let n=this._next();if(S.equals(n.type,S.string)){let a=this._next();if(!S.equals(a.type,S.break))throw new Error("Invalid encoded CID form");return this.tokenBuffer.push(n),new H(S.tag,42,0)}if(S.equals(n.type,S.map)){let a=this._next();if(S.equals(a.type,S.string)&&a.value==="bytes"){let r=this._next();if(S.equals(r.type,S.string)){for(let o=0;o<2;o++){let c=this._next();if(!S.equals(c.type,S.break))throw new Error("Invalid encoded Bytes form")}let s=dt.decode(`m${r.value}`);return new H(S.bytes,s,r.value.length)}this.tokenBuffer.push(r)}this.tokenBuffer.push(a)}this.tokenBuffer.push(n)}this.tokenBuffer.push(t)}return e}},ut={allowIndefinite:!1,allowUndefined:!1,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,rejectDuplicateMapKeys:!0,tags:[]};ut.tags[42]=$e.parse;Gi="dag-json",Ki=297,an=i=>Qt(i,ji),rn=i=>{let e=qi(i),t=Object.assign(ut,{tokenizer:new lt(e,ut)});return Xt(e,t)},Ji=i=>Yi.decode(an(i)),Yi=new TextDecoder,Qi=i=>rn(Xi.encode(i)),Xi=new TextEncoder});var mt={};se(mt,{code:()=>ea,decode:()=>aa,encode:()=>ia,name:()=>Zi,toGeneral:()=>dn});import*as le from"/dag-jose/lib/signing?target=es2022";import*as ue from"/dag-jose/lib/encryption?target=es2022";function on(i){return"payload"in i&&typeof i.payload=="string"&&"signatures"in i&&Array.isArray(i.signatures)}function ta(i){return"payload"in i&&i.payload instanceof Uint8Array&&"signatures"in i&&Array.isArray(i.signatures)}function na(i){return"ciphertext"in i&&i.ciphertext instanceof Uint8Array&&"iv"in i&&i.iv instanceof Uint8Array&&"protected"in i&&i.protected instanceof Uint8Array&&"tag"in i&&i.tag instanceof Uint8Array}function cn(i){return"ciphertext"in i&&typeof i.ciphertext=="string"&&"iv"in i&&typeof i.iv=="string"&&"protected"in i&&typeof i.protected=="string"&&"tag"in i&&typeof i.tag=="string"}function dn(i){if(typeof i=="string"){let e=i.split(".");if(e.length===3)return le.fromSplit(e);if(e.length===5)return ue.fromSplit(e);throw new Error("Not a valid JOSE string")}if(on(i)||cn(i))return i;throw new Error("Not a valid unencoded JOSE object")}function ia(i){typeof i=="string"&&(i=dn(i));let e;if(on(i))e=le.encode(i);else if(cn(i))e=ue.encode(i);else throw new Error("Not a valid JOSE object");return new Uint8Array(st(e))}function aa(i){let e;try{e=ot(i)}catch{throw new Error("Not a valid DAG-JOSE object")}if(ta(e))return le.decode(e);if(na(e))return ue.decode(e);throw new Error("Not a valid DAG-JOSE object")}var Zi,ea,ln=L(()=>{ct();Zi="dag-jose",ea=133});import{coerce as ra}from"/multiformats/dist/src/bytes?target=es2022";import*as un from"/multiformats/dist/src/hashes/digest?target=es2022";function oa(i,e){if(e?.truncate!=null&&e.truncate!==i.byteLength){if(e.truncate<0||e.truncate>i.byteLength)throw new Error(`Invalid truncate option, must be less than or equal to ${i.byteLength}`);i=i.subarray(0,e.truncate)}return un.create(pn,mn(i))}var pn,sa,mn,gt,gn=L(()=>{pn=0,sa="identity",mn=ra;gt={code:pn,name:sa,encode:mn,digest:oa}});import*as ca from"/multiformats/dist/src/bases/base10?target=es2022";import*as da from"/multiformats/dist/src/bases/base16?target=es2022";import*as la from"/multiformats/dist/src/bases/base2?target=es2022";import*as ua from"/multiformats/dist/src/bases/base256emoji?target=es2022";import*as pa from"/multiformats/dist/src/bases/base32?target=es2022";import*as ma from"/multiformats/dist/src/bases/base36?target=es2022";import*as ga from"/multiformats/dist/src/bases/base58?target=es2022";import*as fa from"/multiformats/dist/src/bases/base64?target=es2022";import*as ha from"/multiformats/dist/src/bases/base8?target=es2022";import*as ya from"/multiformats/dist/src/bases/identity?target=es2022";import*as _a from"/multiformats/dist/src/codecs/json?target=es2022";import*as ba from"/multiformats/dist/src/codecs/raw?target=es2022";import*as va from"/multiformats/dist/src/hashes/identity?target=es2022";import*as wa from"/multiformats/dist/src/hashes/sha2?target=es2022";import{CID as Ry,hasher as Py,digest as Fy,varint as My,bytes as Dy}from"/multiformats/dist/src/index?target=es2022";var fn,hn,yn,_n=L(()=>{fn={...ya,...la,...ha,...ca,...da,...pa,...ma,...ga,...fa,...ua},hn={...wa,...va},yn={raw:ba,json:_a}});var bn=he(()=>{});var wn=he((Uy,vn)=>{vn.exports={encode:Se("varint/encode.js"),decode:Se("varint/decode.js"),encodingLength:Se("varint/length.js")}});import{baseX as xn}from"/multiformats/dist/src/bases/base?target=es2022";var An,$y,In=L(()=>{An=xn({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),$y=xn({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})});var Tn=he((Hy,kn)=>{"use strict";function Cn(i,e){for(let t in e)Object.defineProperty(i,t,{value:e[t],enumerable:!0,configurable:!0});return i}function xa(i,e,t){if(!i||typeof i=="string")throw new TypeError("Please pass an Error to err-code");t||(t={}),typeof e=="object"&&(t=e,e=""),e&&(t.code=e);try{return Cn(i,t)}catch{t.message=i.message,t.stack=i.stack;let a=function(){};return a.prototype=Object.create(Object.getPrototypeOf(i)),Cn(new a,t)}}kn.exports=xa});import Aa from"/uint8arrays/dist/src/util/bases?target=es2022";function ft(i,e="utf8"){let t=Aa[e];if(t==null)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&__Buffer$!=null&&__Buffer$.from!=null?__Buffer$.from(i.buffer,i.byteOffset,i.byteLength).toString("utf8"):t.encoder.encode(i).substring(1)}var En=L(()=>{});function Sn(i,e){if(i===e)return!0;if(i.byteLength!==e.byteLength)return!1;for(let t=0;t<i.byteLength;t++)if(i[t]!==e[t])return!1;return!0}var Rn=L(()=>{});import*as z from"/@multiformats/multiaddr/dist/src/codec?target=es2022";import{getProtocol as V,names as Ia}from"/@multiformats/multiaddr/dist/src/protocols-table?target=es2022";function Ea(i){return!!i?.[Mn]}function Dn(i){return new _t(i)}var yt,Fn,pe,ht,we,xe,Ae,Pn,Ca,ka,Ta,Mn,_t,Bn=L(()=>{yt=ye(wn(),1);ve();In();Fn=ye(Tn(),1);En();Rn();pe=function(i,e,t,n){if(t==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?i!==e||!n:!e.has(i))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?n:t==="a"?n.call(i):n?n.value:e.get(i)},ht=function(i,e,t,n,a){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?i!==e||!a:!e.has(i))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?a.call(i,t):a?a.value=t:e.set(i,t),t},Ca=Symbol.for("nodejs.util.inspect.custom"),ka=[V("dns").code,V("dns4").code,V("dns6").code,V("dnsaddr").code],Ta=new Map,Mn=Symbol.for("@multiformats/js-multiaddr/multiaddr");_t=class i{constructor(e){if(we.set(this,void 0),xe.set(this,void 0),Ae.set(this,void 0),this[Pn]=!0,e==null&&(e=""),e instanceof Uint8Array)this.bytes=z.fromBytes(e);else if(typeof e=="string"){if(e.length>0&&e.charAt(0)!=="/")throw new Error(`multiaddr "${e}" must start with a "/"`);this.bytes=z.fromString(e)}else if(Ea(e))this.bytes=z.fromBytes(e.bytes);else throw new Error("addr must be a string, Buffer, or another Multiaddr")}toString(){return pe(this,we,"f")==null&&ht(this,we,z.bytesToString(this.bytes),"f"),pe(this,we,"f")}toJSON(){return this.toString()}toOptions(){let e,t,n,a,r="",s=V("tcp"),o=V("udp"),c=V("ip4"),l=V("ip6"),f=V("dns6"),p=V("ip6zone");for(let[m,h]of this.stringTuples())m===p.code&&(r=`%${h??""}`),ka.includes(m)&&(t=s.name,a=443,n=`${h??""}${r}`,e=m===f.code?6:4),(m===s.code||m===o.code)&&(t=V(m).name,a=parseInt(h??"")),(m===c.code||m===l.code)&&(t=V(m).name,n=`${h??""}${r}`,e=m===l.code?6:4);if(e==null||t==null||n==null||a==null)throw new Error('multiaddr must have a valid format: "/{ip4, ip6, dns4, dns6, dnsaddr}/{address}/{tcp, udp}/{port}".');return{family:e,host:n,transport:t,port:a}}protos(){return this.protoCodes().map(e=>Object.assign({},V(e)))}protoCodes(){let e=[],t=this.bytes,n=0;for(;n<t.length;){let a=yt.default.decode(t,n),r=yt.default.decode.bytes??0,s=V(a),o=z.sizeForAddr(s,t.slice(n+r));n+=o+r,e.push(a)}return e}protoNames(){return this.protos().map(e=>e.name)}tuples(){return pe(this,xe,"f")==null&&ht(this,xe,z.bytesToTuples(this.bytes),"f"),pe(this,xe,"f")}stringTuples(){return pe(this,Ae,"f")==null&&ht(this,Ae,z.tuplesToStringTuples(this.tuples()),"f"),pe(this,Ae,"f")}encapsulate(e){return e=new i(e),new i(this.toString()+e.toString())}decapsulate(e){let t=e.toString(),n=this.toString(),a=n.lastIndexOf(t);if(a<0)throw new Error(`Address ${this.toString()} does not contain subaddress: ${e.toString()}`);return new i(n.slice(0,a))}decapsulateCode(e){let t=this.tuples();for(let n=t.length-1;n>=0;n--)if(t[n][0]===e)return new i(z.tuplesToBytes(t.slice(0,n)));return this}getPeerId(){try{let t=this.stringTuples().filter(n=>n[0]===Ia.ipfs.code).pop();if(t?.[1]!=null){let n=t[1];return n[0]==="Q"||n[0]==="1"?ft(An.decode(`z${n}`),"base58btc"):ft(j.parse(n).multihash.bytes,"base58btc")}return null}catch{return null}}getPath(){let e=null;try{e=this.stringTuples().filter(t=>V(t[0]).path===!0)[0][1],e==null&&(e=null)}catch{e=null}return e}equals(e){return Sn(this.bytes,e.bytes)}async resolve(e){let t=this.protos().find(r=>r.resolvable);if(t==null)return[this];let n=Ta.get(t.name);if(n==null)throw(0,Fn.default)(new Error(`no available resolver for ${t.name}`),"ERR_NO_AVAILABLE_RESOLVER");return(await n(this,e)).map(r=>new i(r))}nodeAddress(){let e=this.toOptions();if(e.transport!=="tcp"&&e.transport!=="udp")throw new Error(`multiaddr must have a valid format - no protocol with name: "${e.transport}". Must have a valid transport protocol: "{tcp, udp}"`);return{family:e.family,address:e.host,port:e.port}}isThinWaistAddress(e){let t=(e??this).protos();return!(t.length!==2||t[0].code!==4&&t[0].code!==41||t[1].code!==6&&t[1].code!==273)}[(we=new WeakMap,xe=new WeakMap,Ae=new WeakMap,Pn=Mn,Ca)](){return`Multiaddr(${z.bytesToString(this.bytes)})`}}});var On=he((Xy,Nn)=>{"use strict";var Sa=Se("ipfs-utils/src/http"),Ra=(i,e)=>({path:decodeURIComponent(new URL(i).pathname.split("/").pop()||""),content:Pa(i,e)});async function*Pa(i,e){yield*(await new Sa().get(i,e)).iterator()}Nn.exports=Ra});var Ln={};se(Ln,{CID:()=>j,create:()=>pr,globSource:()=>mr,multiaddr:()=>Dn,urlSource:()=>$n.default});import{createBitswap as Fa}from"/ipfs-http-client@^60.0.1/src/bitswap/index?target=es2022";import{createBlock as Ma}from"/ipfs-http-client@^60.0.1/src/block/index?target=es2022";import{createBootstrap as Da}from"/ipfs-http-client@^60.0.1/src/bootstrap/index?target=es2022";import{createConfig as Ba}from"/ipfs-http-client@^60.0.1/src/config/index?target=es2022";import{createDag as Na}from"/ipfs-http-client@^60.0.1/src/dag/index?target=es2022";import{createDht as Oa}from"/ipfs-http-client@^60.0.1/src/dht/index?target=es2022";import{createDiag as Ua}from"/ipfs-http-client@^60.0.1/src/diag/index?target=es2022";import{createFiles as La}from"/ipfs-http-client@^60.0.1/src/files/index?target=es2022";import{createKey as $a}from"/ipfs-http-client@^60.0.1/src/key/index?target=es2022";import{createLog as qa}from"/ipfs-http-client@^60.0.1/src/log/index?target=es2022";import{createName as Ha}from"/ipfs-http-client@^60.0.1/src/name/index?target=es2022";import{createObject as za}from"/ipfs-http-client@^60.0.1/src/object/index?target=es2022";import{createPin as Va}from"/ipfs-http-client@^60.0.1/src/pin/index?target=es2022";import{createPubsub as Wa}from"/ipfs-http-client@^60.0.1/src/pubsub/index?target=es2022";import{createRefs as ja}from"/ipfs-http-client@^60.0.1/src/refs/index?target=es2022";import{createRepo as Ga}from"/ipfs-http-client@^60.0.1/src/repo/index?target=es2022";import{createStats as Ka}from"/ipfs-http-client@^60.0.1/src/stats/index?target=es2022";import{createSwarm as Ja}from"/ipfs-http-client@^60.0.1/src/swarm/index?target=es2022";import{createAdd as Ya}from"/ipfs-http-client@^60.0.1/src/add?target=es2022";import{createAddAll as Qa}from"/ipfs-http-client@^60.0.1/src/add-all?target=es2022";import{createCat as Xa}from"/ipfs-http-client@^60.0.1/src/cat?target=es2022";import{createCommands as Za}from"/ipfs-http-client@^60.0.1/src/commands?target=es2022";import{createDns as er}from"/ipfs-http-client@^60.0.1/src/dns?target=es2022";import{createGetEndpointConfig as tr}from"/ipfs-http-client@^60.0.1/src/get-endpoint-config?target=es2022";import{createGet as nr}from"/ipfs-http-client@^60.0.1/src/get?target=es2022";import{createId as ir}from"/ipfs-http-client@^60.0.1/src/id?target=es2022";import{createIsOnline as ar}from"/ipfs-http-client@^60.0.1/src/is-online?target=es2022";import{createLs as rr}from"/ipfs-http-client@^60.0.1/src/ls?target=es2022";import{createMount as sr}from"/ipfs-http-client@^60.0.1/src/mount?target=es2022";import{createPing as or}from"/ipfs-http-client@^60.0.1/src/ping?target=es2022";import{createResolve as cr}from"/ipfs-http-client@^60.0.1/src/resolve?target=es2022";import{createStart as dr}from"/ipfs-http-client@^60.0.1/src/start?target=es2022";import{createStop as lr}from"/ipfs-http-client@^60.0.1/src/stop?target=es2022";import{createVersion as ur}from"/ipfs-http-client@^60.0.1/src/version?target=es2022";function pr(i={}){let e={name:gt.name,code:gt.code,encode:l=>l,decode:l=>l},t=Object.values(fn);(i.ipld&&i.ipld.bases?i.ipld.bases:[]).forEach(l=>t.push(l));let n=new Me({bases:t,loadBase:i.ipld&&i.ipld.loadBase}),a=Object.values(yn);[it,Le,pt,mt,e].concat(i.ipld&&i.ipld.codecs||[]).forEach(l=>a.push(l));let r=new De({codecs:a,loadCodec:i.ipld&&i.ipld.loadCodec}),s=Object.values(hn);(i.ipld&&i.ipld.hashers?i.ipld.hashers:[]).forEach(l=>s.push(l));let o=new Be({hashers:s,loadHasher:i.ipld&&i.ipld.loadHasher});return{add:Ya(i),addAll:Qa(i),bitswap:Fa(i),block:Ma(i),bootstrap:Da(i),cat:Xa(i),commands:Za(i),config:Ba(i),dag:Na(r,i),dht:Oa(i),diag:Ua(i),dns:er(i),files:La(i),get:nr(i),getEndpointConfig:tr(i),id:ir(i),isOnline:ar(i),key:$a(i),log:qa(i),ls:rr(i),mount:sr(i),name:Ha(i),object:za(r,i),pin:Va(i),ping:or(i),pubsub:Wa(i),refs:ja(i),repo:Ga(i),resolve:cr(i),start:dr(i),stats:Ka(i),stop:lr(i),swarm:Ja(i),version:ur(i),bases:n,codecs:r,hashers:o}}var Un,$n,mr,qn=L(()=>{$t();qt();Ht();jt();ct();sn();ln();gn();_n();Un=ye(bn(),1);ve();Bn();$n=ye(On(),1);mr=Un.default});var zn=he((ne,Hn)=>{var ze=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof globalThis<"u"&&globalThis,Ve=(function(){function i(){this.fetch=!1,this.DOMException=ze.DOMException}return i.prototype=ze,new i})();(function(i){var e=(function(t){var n=typeof i<"u"&&i||typeof self<"u"&&self||typeof i<"u"&&i||{},a={searchParams:"URLSearchParams"in n,iterable:"Symbol"in n&&"iterator"in Symbol,blob:"FileReader"in n&&"Blob"in n&&(function(){try{return new Blob,!0}catch{return!1}})(),formData:"FormData"in n,arrayBuffer:"ArrayBuffer"in n};function r(d){return d&&DataView.prototype.isPrototypeOf(d)}if(a.arrayBuffer)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],o=ArrayBuffer.isView||function(d){return d&&s.indexOf(Object.prototype.toString.call(d))>-1};function c(d){if(typeof d!="string"&&(d=String(d)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(d)||d==="")throw new TypeError('Invalid character in header field name: "'+d+'"');return d.toLowerCase()}function l(d){return typeof d!="string"&&(d=String(d)),d}function f(d){var u={next:function(){var _=d.shift();return{done:_===void 0,value:_}}};return a.iterable&&(u[Symbol.iterator]=function(){return u}),u}function p(d){this.map={},d instanceof p?d.forEach(function(u,_){this.append(_,u)},this):Array.isArray(d)?d.forEach(function(u){if(u.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+u.length);this.append(u[0],u[1])},this):d&&Object.getOwnPropertyNames(d).forEach(function(u){this.append(u,d[u])},this)}p.prototype.append=function(d,u){d=c(d),u=l(u);var _=this.map[d];this.map[d]=_?_+", "+u:u},p.prototype.delete=function(d){delete this.map[c(d)]},p.prototype.get=function(d){return d=c(d),this.has(d)?this.map[d]:null},p.prototype.has=function(d){return this.map.hasOwnProperty(c(d))},p.prototype.set=function(d,u){this.map[c(d)]=l(u)},p.prototype.forEach=function(d,u){for(var _ in this.map)this.map.hasOwnProperty(_)&&d.call(u,this.map[_],_,this)},p.prototype.keys=function(){var d=[];return this.forEach(function(u,_){d.push(_)}),f(d)},p.prototype.values=function(){var d=[];return this.forEach(function(u){d.push(u)}),f(d)},p.prototype.entries=function(){var d=[];return this.forEach(function(u,_){d.push([_,u])}),f(d)},a.iterable&&(p.prototype[Symbol.iterator]=p.prototype.entries);function g(d){if(!d._noBody){if(d.bodyUsed)return Promise.reject(new TypeError("Already read"));d.bodyUsed=!0}}function m(d){return new Promise(function(u,_){d.onload=function(){u(d.result)},d.onerror=function(){_(d.error)}})}function h(d){var u=new FileReader,_=m(u);return u.readAsArrayBuffer(d),_}function y(d){var u=new FileReader,_=m(u),k=/charset=([A-Za-z0-9_-]+)/.exec(d.type),F=k?k[1]:"utf-8";return u.readAsText(d,F),_}function b(d){for(var u=new Uint8Array(d),_=new Array(u.length),k=0;k<u.length;k++)_[k]=String.fromCharCode(u[k]);return _.join("")}function v(d){if(d.slice)return d.slice(0);var u=new Uint8Array(d.byteLength);return u.set(new Uint8Array(d)),u.buffer}function x(){return this.bodyUsed=!1,this._initBody=function(d){this.bodyUsed=this.bodyUsed,this._bodyInit=d,d?typeof d=="string"?this._bodyText=d:a.blob&&Blob.prototype.isPrototypeOf(d)?this._bodyBlob=d:a.formData&&FormData.prototype.isPrototypeOf(d)?this._bodyFormData=d:a.searchParams&&URLSearchParams.prototype.isPrototypeOf(d)?this._bodyText=d.toString():a.arrayBuffer&&a.blob&&r(d)?(this._bodyArrayBuffer=v(d.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(d)||o(d))?this._bodyArrayBuffer=v(d):this._bodyText=d=Object.prototype.toString.call(d):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof d=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):a.searchParams&&URLSearchParams.prototype.isPrototypeOf(d)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},a.blob&&(this.blob=function(){var d=g(this);if(d)return d;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var d=g(this);return d||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(a.blob)return this.blob().then(h);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var d=g(this);if(d)return d;if(this._bodyBlob)return y(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(b(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a.formData&&(this.formData=function(){return this.text().then(A)}),this.json=function(){return this.text().then(JSON.parse)},this}var T=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function w(d){var u=d.toUpperCase();return T.indexOf(u)>-1?u:d}function I(d,u){if(!(this instanceof I))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');u=u||{};var _=u.body;if(d instanceof I){if(d.bodyUsed)throw new TypeError("Already read");this.url=d.url,this.credentials=d.credentials,u.headers||(this.headers=new p(d.headers)),this.method=d.method,this.mode=d.mode,this.signal=d.signal,!_&&d._bodyInit!=null&&(_=d._bodyInit,d.bodyUsed=!0)}else this.url=String(d);if(this.credentials=u.credentials||this.credentials||"same-origin",(u.headers||!this.headers)&&(this.headers=new p(u.headers)),this.method=w(u.method||this.method||"GET"),this.mode=u.mode||this.mode||null,this.signal=u.signal||this.signal||(function(){if("AbortController"in n){var E=new AbortController;return E.signal}})(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&_)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(_),(this.method==="GET"||this.method==="HEAD")&&(u.cache==="no-store"||u.cache==="no-cache")){var k=/([?&])_=[^&]*/;if(k.test(this.url))this.url=this.url.replace(k,"$1_="+new Date().getTime());else{var F=/\?/;this.url+=(F.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}I.prototype.clone=function(){return new I(this,{body:this._bodyInit})};function A(d){var u=new FormData;return d.trim().split("&").forEach(function(_){if(_){var k=_.split("="),F=k.shift().replace(/\+/g," "),E=k.join("=").replace(/\+/g," ");u.append(decodeURIComponent(F),decodeURIComponent(E))}}),u}function R(d){var u=new p,_=d.replace(/\r?\n[\t ]+/g," ");return _.split("\r").map(function(k){return k.indexOf(`
`)===0?k.substr(1,k.length):k}).forEach(function(k){var F=k.split(":"),E=F.shift().trim();if(E){var Ee=F.join(":").trim();try{u.append(E,Ee)}catch(Ke){console.warn("Response "+Ke.message)}}}),u}x.call(I.prototype);function C(d,u){if(!(this instanceof C))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(u||(u={}),this.type="default",this.status=u.status===void 0?200:u.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=u.statusText===void 0?"":""+u.statusText,this.headers=new p(u.headers),this.url=u.url||"",this._initBody(d)}x.call(C.prototype),C.prototype.clone=function(){return new C(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},C.error=function(){var d=new C(null,{status:200,statusText:""});return d.ok=!1,d.status=0,d.type="error",d};var D=[301,302,303,307,308];C.redirect=function(d,u){if(D.indexOf(u)===-1)throw new RangeError("Invalid status code");return new C(null,{status:u,headers:{location:d}})},t.DOMException=n.DOMException;try{new t.DOMException}catch{t.DOMException=function(u,_){this.message=u,this.name=_;var k=Error(u);this.stack=k.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function U(d,u){return new Promise(function(_,k){var F=new I(d,u);if(F.signal&&F.signal.aborted)return k(new t.DOMException("Aborted","AbortError"));var E=new XMLHttpRequest;function Ee(){E.abort()}E.onload=function(){var q={statusText:E.statusText,headers:R(E.getAllResponseHeaders()||"")};F.url.indexOf("file://")===0&&(E.status<200||E.status>599)?q.status=200:q.status=E.status,q.url="responseURL"in E?E.responseURL:q.headers.get("X-Request-URL");var re="response"in E?E.response:E.responseText;setTimeout(function(){_(new C(re,q))},0)},E.onerror=function(){setTimeout(function(){k(new TypeError("Network request failed"))},0)},E.ontimeout=function(){setTimeout(function(){k(new TypeError("Network request timed out"))},0)},E.onabort=function(){setTimeout(function(){k(new t.DOMException("Aborted","AbortError"))},0)};function Ke(q){try{return q===""&&n.location.href?n.location.href:q}catch{return q}}if(E.open(F.method,Ke(F.url),!0),F.credentials==="include"?E.withCredentials=!0:F.credentials==="omit"&&(E.withCredentials=!1),"responseType"in E&&(a.blob?E.responseType="blob":a.arrayBuffer&&(E.responseType="arraybuffer")),u&&typeof u.headers=="object"&&!(u.headers instanceof p||n.Headers&&u.headers instanceof n.Headers)){var Ct=[];Object.getOwnPropertyNames(u.headers).forEach(function(q){Ct.push(c(q)),E.setRequestHeader(q,l(u.headers[q]))}),F.headers.forEach(function(q,re){Ct.indexOf(re)===-1&&E.setRequestHeader(re,q)})}else F.headers.forEach(function(q,re){E.setRequestHeader(re,q)});F.signal&&(F.signal.addEventListener("abort",Ee),E.onreadystatechange=function(){E.readyState===4&&F.signal.removeEventListener("abort",Ee)}),E.send(typeof F._bodyInit>"u"?null:F._bodyInit)})}return U.polyfill=!0,n.fetch||(n.fetch=U,n.Headers=p,n.Request=I,n.Response=C),t.Headers=p,t.Request=I,t.Response=C,t.fetch=U,Object.defineProperty(t,"__esModule",{value:!0}),t})({})})(Ve);Ve.fetch.ponyfill=!0;delete Ve.fetch.polyfill;var me=ze.fetch?ze:Ve;ne=me.fetch;ne.default=me.fetch;ne.fetch=me.fetch;ne.Headers=me.Headers;ne.Request=me.Request;ne.Response=me.Response;Hn.exports=ne});export*from"./dist/models/index.mjs";export*from"./dist/utils/index.mjs";var M;(function(i){i.MCP="MCP",i.A2A="A2A",i.ENS="ENS",i.DID="DID",i.WALLET="wallet",i.OASF="OASF"})(M||(M={}));var X;(function(i){i.REPUTATION="reputation",i.CRYPTO_ECONOMIC="crypto-economic",i.TEE_ATTESTATION="tee-attestation"})(X||(X={}));function $(i){return i.startsWith("0x")||i.startsWith("0X")?"0x"+i.slice(2).toLowerCase():i.toLowerCase()}function B(i){if(!i||typeof i!="string")throw new Error(`Invalid AgentId: ${i}. Expected a non-empty string in format "chainId:tokenId"`);if(i.includes(":")){let[e,t]=i.split(":"),n=parseInt(e,10),a=parseInt(t,10);if(isNaN(n)||isNaN(a))throw new Error(`Invalid AgentId format: ${i}. ChainId and tokenId must be valid numbers`);return{chainId:n,tokenId:a}}throw new Error(`Invalid AgentId format: ${i}. Expected "chainId:tokenId"`)}function oe(i,e){return`${i}:${e}`}function kt(i){let e=i.lastIndexOf(":"),t=i.lastIndexOf(":",e-1);if(e===-1||t===-1)throw new Error(`Invalid feedback ID format: ${i}`);let n=i.slice(0,t),a=i.slice(t+1,e),r=i.slice(e+1),s=parseInt(r,10);if(isNaN(s))throw new Error(`Invalid feedback index: ${r}`);let o=$(a);return{agentId:n,clientAddress:o,feedbackIndex:s}}function Tt(i,e,t){let n=$(e);return`${i}:${n}:${t}`}var Re=["https://gateway.pinata.cloud/ipfs/","https://ipfs.io/ipfs/","https://dweb.link/ipfs/"],G={IPFS_GATEWAY:1e4,PINATA_UPLOAD:8e4,TRANSACTION_WAIT:45e3,ENDPOINT_CRAWLER_DEFAULT:5e3};import{getContract as Lr}from"/viem@^2.37.5/_esm/actions/getContract?target=es2022";import{WaitForCallsStatusTimeoutError as qr}from"/viem@^2.37.5/_esm/actions/wallet/waitForCallsStatus?target=es2022";import{createClient as zr,rpcSchema as Vr}from"/viem@^2.37.5/_esm/clients/createClient?target=es2022";import{createPublicClient as Qe}from"/viem@^2.37.5/_esm/clients/createPublicClient?target=es2022";import{createTestClient as Gr}from"/viem@^2.37.5/_esm/clients/createTestClient?target=es2022";import{createWalletClient as Xe}from"/viem@^2.37.5/_esm/clients/createWalletClient?target=es2022";import{publicActions as Yr}from"/viem@^2.37.5/_esm/clients/decorators/public?target=es2022";import{testActions as Xr}from"/viem@^2.37.5/_esm/clients/decorators/test?target=es2022";import{walletActions as es}from"/viem@^2.37.5/_esm/clients/decorators/wallet?target=es2022";import{createTransport as ns}from"/viem@^2.37.5/_esm/clients/transports/createTransport?target=es2022";import{custom as Ze}from"/viem@^2.37.5/_esm/clients/transports/custom?target=es2022";import{fallback as rs,shouldThrow as ss}from"/viem@^2.37.5/_esm/clients/transports/fallback?target=es2022";import{http as et}from"/viem@^2.37.5/_esm/clients/transports/http?target=es2022";import{webSocket as ds}from"/viem@^2.37.5/_esm/clients/transports/webSocket?target=es2022";import{erc20Abi as us,erc20Abi_bytes32 as ps,erc721Abi as ms,erc1155Abi as gs,erc4626Abi as fs,erc6492SignatureValidatorAbi as hs,erc6492SignatureValidatorAbi as ys,multicall3Abi as _s}from"/viem@^2.37.5/_esm/constants/abis?target=es2022";import{ethAddress as vs,zeroAddress as ws}from"/viem@^2.37.5/_esm/constants/address?target=es2022";import{zeroHash as As}from"/viem@^2.37.5/_esm/constants/bytes?target=es2022";import{deploylessCallViaBytecodeBytecode as Cs,deploylessCallViaFactoryBytecode as ks,erc6492SignatureValidatorByteCode as Ts,erc6492SignatureValidatorByteCode as Es}from"/viem@^2.37.5/_esm/constants/contracts?target=es2022";import{maxInt8 as Rs,maxInt16 as Ps,maxInt24 as Fs,maxInt32 as Ms,maxInt40 as Ds,maxInt48 as Bs,maxInt56 as Ns,maxInt64 as Os,maxInt72 as Us,maxInt80 as Ls,maxInt88 as $s,maxInt96 as qs,maxInt104 as Hs,maxInt112 as zs,maxInt120 as Vs,maxInt128 as Ws,maxInt136 as js,maxInt144 as Gs,maxInt152 as Ks,maxInt160 as Js,maxInt168 as Ys,maxInt176 as Qs,maxInt184 as Xs,maxInt192 as Zs,maxInt200 as eo,maxInt208 as to,maxInt216 as no,maxInt224 as io,maxInt232 as ao,maxInt240 as ro,maxInt248 as so,maxInt256 as oo,maxUint8 as co,maxUint16 as lo,maxUint24 as uo,maxUint32 as po,maxUint40 as mo,maxUint48 as go,maxUint56 as fo,maxUint64 as ho,maxUint72 as yo,maxUint80 as _o,maxUint88 as bo,maxUint96 as vo,maxUint104 as wo,maxUint112 as xo,maxUint120 as Ao,maxUint128 as Io,maxUint136 as Co,maxUint144 as ko,maxUint152 as To,maxUint160 as Eo,maxUint168 as So,maxUint176 as Ro,maxUint184 as Po,maxUint192 as Fo,maxUint200 as Mo,maxUint208 as Do,maxUint216 as Bo,maxUint224 as No,maxUint232 as Oo,maxUint240 as Uo,maxUint248 as Lo,maxUint256 as $o,minInt8 as qo,minInt16 as Ho,minInt24 as zo,minInt32 as Vo,minInt40 as Wo,minInt48 as jo,minInt56 as Go,minInt64 as Ko,minInt72 as Jo,minInt80 as Yo,minInt88 as Qo,minInt96 as Xo,minInt104 as Zo,minInt112 as ec,minInt120 as tc,minInt128 as nc,minInt136 as ic,minInt144 as ac,minInt152 as rc,minInt160 as sc,minInt168 as oc,minInt176 as cc,minInt184 as dc,minInt192 as lc,minInt200 as uc,minInt208 as pc,minInt216 as mc,minInt224 as gc,minInt232 as fc,minInt240 as hc,minInt248 as yc,minInt256 as _c}from"/viem@^2.37.5/_esm/constants/number?target=es2022";import{presignMessagePrefix as vc}from"/viem@^2.37.5/_esm/constants/strings?target=es2022";import{etherUnits as xc,gweiUnits as Ac,weiUnits as Ic}from"/viem@^2.37.5/_esm/constants/unit?target=es2022";import{AbiConstructorNotFoundError as kc,AbiConstructorParamsNotFoundError as Tc,AbiDecodingDataSizeInvalidError as Ec,AbiDecodingDataSizeTooSmallError as Sc,AbiDecodingZeroDataError as Rc,AbiEncodingArrayLengthMismatchError as Pc,AbiEncodingBytesSizeMismatchError as Fc,AbiEncodingLengthMismatchError as Mc,AbiErrorInputsNotFoundError as Dc,AbiErrorNotFoundError as Bc,AbiErrorSignatureNotFoundError as Nc,AbiEventNotFoundError as Oc,AbiEventSignatureEmptyTopicsError as Uc,AbiEventSignatureNotFoundError as Lc,AbiFunctionNotFoundError as $c,AbiFunctionOutputsNotFoundError as qc,AbiFunctionSignatureNotFoundError as Hc,BytesSizeMismatchError as zc,DecodeLogDataMismatch as Vc,DecodeLogTopicsMismatch as Wc,InvalidAbiDecodingTypeError as jc,InvalidAbiEncodingTypeError as Gc,InvalidArrayError as Kc,InvalidDefinitionTypeError as Jc,UnsupportedPackedAbiType as Yc}from"/viem@^2.37.5/_esm/errors/abi?target=es2022";import{InvalidAddressError as Xc}from"/viem@^2.37.5/_esm/errors/address?target=es2022";import{BaseError as ed,setErrorConfig as td}from"/viem@^2.37.5/_esm/errors/base?target=es2022";import{BlockNotFoundError as id}from"/viem@^2.37.5/_esm/errors/block?target=es2022";import{BundleFailedError as rd}from"/viem@^2.37.5/_esm/errors/calls?target=es2022";import{ChainDoesNotSupportContract as od,ChainMismatchError as cd,ChainNotFoundError as dd,ClientChainNotConfiguredError as ld,InvalidChainIdError as ud}from"/viem@^2.37.5/_esm/errors/chain?target=es2022";import{CallExecutionError as md,ContractFunctionExecutionError as gd,ContractFunctionRevertedError as fd,ContractFunctionZeroDataError as hd,CounterfactualDeploymentFailedError as yd,RawContractError as _d}from"/viem@^2.37.5/_esm/errors/contract?target=es2022";import{SizeExceedsPaddingSizeError as vd,SliceOffsetOutOfBoundsError as wd}from"/viem@^2.37.5/_esm/errors/data?target=es2022";import{IntegerOutOfRangeError as Ad,InvalidBytesBooleanError as Id,InvalidHexBooleanError as Cd,InvalidHexValueError as kd,SizeOverflowError as Td}from"/viem@^2.37.5/_esm/errors/encoding?target=es2022";import{EnsAvatarInvalidNftUriError as Sd,EnsAvatarUnsupportedNamespaceError as Rd,EnsAvatarUriResolutionError as Pd,EnsInvalidChainIdError as Fd}from"/viem@^2.37.5/_esm/errors/ens?target=es2022";import{EstimateGasExecutionError as Dd}from"/viem@^2.37.5/_esm/errors/estimateGas?target=es2022";import{BaseFeeScalarError as Nd,Eip1559FeesNotSupportedError as Od,MaxFeePerGasTooLowError as Ud}from"/viem@^2.37.5/_esm/errors/fee?target=es2022";import{FilterTypeNotSupportedError as $d}from"/viem@^2.37.5/_esm/errors/log?target=es2022";import{ExecutionRevertedError as Hd,FeeCapTooHighError as zd,FeeCapTooLowError as Vd,InsufficientFundsError as Wd,IntrinsicGasTooHighError as jd,IntrinsicGasTooLowError as Gd,NonceMaxValueError as Kd,NonceTooHighError as Jd,NonceTooLowError as Yd,TipAboveFeeCapError as Qd,TransactionTypeNotSupportedError as Xd,UnknownNodeError as Zd}from"/viem@^2.37.5/_esm/errors/node?target=es2022";import{HttpRequestError as tl,RpcRequestError as nl,SocketClosedError as il,TimeoutError as al,WebSocketRequestError as rl}from"/viem@^2.37.5/_esm/errors/request?target=es2022";import{AtomicityNotSupportedError as ol,AtomicReadyWalletRejectedUpgradeError as cl,BundleTooLargeError as dl,ChainDisconnectedError as ll,DuplicateIdError as ul,InternalRpcError as pl,InvalidInputRpcError as ml,InvalidParamsRpcError as gl,InvalidRequestRpcError as fl,JsonRpcVersionUnsupportedError as hl,LimitExceededRpcError as yl,MethodNotFoundRpcError as _l,MethodNotSupportedRpcError as bl,ParseRpcError as vl,ProviderDisconnectedError as wl,ProviderRpcError as xl,ResourceNotFoundRpcError as Al,ResourceUnavailableRpcError as Il,RpcError as Cl,SwitchChainError as kl,TransactionRejectedRpcError as Tl,UnauthorizedProviderError as El,UnknownBundleIdError as Sl,UnknownRpcError as Rl,UnsupportedChainIdError as Pl,UnsupportedNonOptionalCapabilityError as Fl,UnsupportedProviderMethodError as Ml,UserRejectedRequestError as Dl}from"/viem@^2.37.5/_esm/errors/rpc?target=es2022";import{AccountStateConflictError as Nl,StateAssignmentConflictError as Ol}from"/viem@^2.37.5/_esm/errors/stateOverride?target=es2022";import{FeeConflictError as Ll,InvalidLegacyVError as $l,InvalidSerializableTransactionError as ql,InvalidSerializedTransactionError as Hl,InvalidSerializedTransactionTypeError as zl,InvalidStorageKeySizeError as Vl,TransactionExecutionError as Wl,TransactionNotFoundError as jl,TransactionReceiptNotFoundError as Gl,WaitForTransactionReceiptTimeoutError as Kl}from"/viem@^2.37.5/_esm/errors/transaction?target=es2022";import{UrlRequiredError as Yl}from"/viem@^2.37.5/_esm/errors/transport?target=es2022";import{InvalidDomainError as Xl,InvalidPrimaryTypeError as Zl,InvalidStructTypeError as eu}from"/viem@^2.37.5/_esm/errors/typedData?target=es2022";import{InvalidDecimalNumberError as nu}from"/viem@^2.37.5/_esm/errors/unit?target=es2022";import{ProviderRpcError as au}from"/viem@^2.37.5/_esm/types/eip1193?target=es2022";import{decodeAbiParameters as su}from"/viem@^2.37.5/_esm/utils/abi/decodeAbiParameters?target=es2022";import{decodeDeployData as cu}from"/viem@^2.37.5/_esm/utils/abi/decodeDeployData?target=es2022";import{decodeErrorResult as lu}from"/viem@^2.37.5/_esm/utils/abi/decodeErrorResult?target=es2022";import{decodeEventLog as Pe}from"/viem@^2.37.5/_esm/utils/abi/decodeEventLog?target=es2022";import{decodeFunctionData as mu}from"/viem@^2.37.5/_esm/utils/abi/decodeFunctionData?target=es2022";import{decodeFunctionResult as fu}from"/viem@^2.37.5/_esm/utils/abi/decodeFunctionResult?target=es2022";import{encodeAbiParameters as yu}from"/viem@^2.37.5/_esm/utils/abi/encodeAbiParameters?target=es2022";import{encodeDeployData as bu}from"/viem@^2.37.5/_esm/utils/abi/encodeDeployData?target=es2022";import{encodeErrorResult as wu}from"/viem@^2.37.5/_esm/utils/abi/encodeErrorResult?target=es2022";import{encodeEventTopics as Au}from"/viem@^2.37.5/_esm/utils/abi/encodeEventTopics?target=es2022";import{encodeFunctionData as Et}from"/viem@^2.37.5/_esm/utils/abi/encodeFunctionData?target=es2022";import{encodeFunctionResult as ku}from"/viem@^2.37.5/_esm/utils/abi/encodeFunctionResult?target=es2022";import{encodePacked as Eu}from"/viem@^2.37.5/_esm/utils/abi/encodePacked?target=es2022";import{getAbiItem as St}from"/viem@^2.37.5/_esm/utils/abi/getAbiItem?target=es2022";import{parseEventLogs as Pu}from"/viem@^2.37.5/_esm/utils/abi/parseEventLogs?target=es2022";import{prepareEncodeFunctionData as Mu}from"/viem@^2.37.5/_esm/utils/abi/prepareEncodeFunctionData?target=es2022";import{checksumAddress as Bu,getAddress as ce}from"/viem@^2.37.5/_esm/utils/address/getAddress?target=es2022";import{getContractAddress as Ou,getCreate2Address as Uu,getCreateAddress as Lu}from"/viem@^2.37.5/_esm/utils/address/getContractAddress?target=es2022";import{isAddress as Rt}from"/viem@^2.37.5/_esm/utils/address/isAddress?target=es2022";import{isAddressEqual as Hu}from"/viem@^2.37.5/_esm/utils/address/isAddressEqual?target=es2022";import{blobsToCommitments as Vu}from"/viem@^2.37.5/_esm/utils/blob/blobsToCommitments?target=es2022";import{blobsToProofs as ju}from"/viem@^2.37.5/_esm/utils/blob/blobsToProofs?target=es2022";import{commitmentsToVersionedHashes as Ku}from"/viem@^2.37.5/_esm/utils/blob/commitmentsToVersionedHashes?target=es2022";import{commitmentToVersionedHash as Yu}from"/viem@^2.37.5/_esm/utils/blob/commitmentToVersionedHash?target=es2022";import{fromBlobs as Xu}from"/viem@^2.37.5/_esm/utils/blob/fromBlobs?target=es2022";import{sidecarsToVersionedHashes as ep}from"/viem@^2.37.5/_esm/utils/blob/sidecarsToVersionedHashes?target=es2022";import{toBlobSidecars as np}from"/viem@^2.37.5/_esm/utils/blob/toBlobSidecars?target=es2022";import{toBlobs as ap}from"/viem@^2.37.5/_esm/utils/blob/toBlobs?target=es2022";import{ccipRequest as sp,ccipRequest as op,offchainLookup as cp,offchainLookupAbiItem as dp,offchainLookupSignature as lp}from"/viem@^2.37.5/_esm/utils/ccip?target=es2022";import{assertCurrentChain as pp}from"/viem@^2.37.5/_esm/utils/chain/assertCurrentChain?target=es2022";import{defineChain as Pt,extendSchema as gp}from"/viem@^2.37.5/_esm/utils/chain/defineChain?target=es2022";import{extractChain as hp}from"/viem@^2.37.5/_esm/utils/chain/extractChain?target=es2022";import{getChainContractAddress as _p}from"/viem@^2.37.5/_esm/utils/chain/getChainContractAddress?target=es2022";import{concat as vp,concatBytes as wp,concatHex as xp}from"/viem@^2.37.5/_esm/utils/data/concat?target=es2022";import{isBytes as Ip}from"/viem@^2.37.5/_esm/utils/data/isBytes?target=es2022";import{isHex as kp}from"/viem@^2.37.5/_esm/utils/data/isHex?target=es2022";import{pad as Ep,padBytes as Sp,padHex as Rp}from"/viem@^2.37.5/_esm/utils/data/pad?target=es2022";import{size as Fp}from"/viem@^2.37.5/_esm/utils/data/size?target=es2022";import{slice as Dp,sliceBytes as Bp,sliceHex as Np}from"/viem@^2.37.5/_esm/utils/data/slice?target=es2022";import{trim as Up}from"/viem@^2.37.5/_esm/utils/data/trim?target=es2022";import{bytesToBigInt as $p,bytesToBool as qp,bytesToNumber as Hp,bytesToString as zp,fromBytes as Vp}from"/viem@^2.37.5/_esm/utils/encoding/fromBytes?target=es2022";import{fromHex as jp,hexToBigInt as Gp,hexToBool as Kp,hexToNumber as Jp,hexToString as Yp}from"/viem@^2.37.5/_esm/utils/encoding/fromHex?target=es2022";import{fromRlp as Xp}from"/viem@^2.37.5/_esm/utils/encoding/fromRlp?target=es2022";import{boolToBytes as em,hexToBytes as Ft,numberToBytes as tm,stringToBytes as nm,toBytes as Mt}from"/viem@^2.37.5/_esm/utils/encoding/toBytes?target=es2022";import{boolToHex as am,bytesToHex as rm,numberToHex as sm,stringToHex as om,toHex as Dt}from"/viem@^2.37.5/_esm/utils/encoding/toHex?target=es2022";import{bytesToRlp as dm,hexToRlp as lm,toRlp as um}from"/viem@^2.37.5/_esm/utils/encoding/toRlp?target=es2022";import{labelhash as mm}from"/viem@^2.37.5/_esm/utils/ens/labelhash?target=es2022";import{namehash as fm}from"/viem@^2.37.5/_esm/utils/ens/namehash?target=es2022";import{toCoinType as ym}from"/viem@^2.37.5/_esm/utils/ens/toCoinType?target=es2022";import{getContractError as bm}from"/viem@^2.37.5/_esm/utils/errors/getContractError?target=es2022";import{defineBlock as wm,formatBlock as xm}from"/viem@^2.37.5/_esm/utils/formatters/block?target=es2022";import{formatLog as Im}from"/viem@^2.37.5/_esm/utils/formatters/log?target=es2022";import{defineTransaction as km,formatTransaction as Tm,transactionType as Em}from"/viem@^2.37.5/_esm/utils/formatters/transaction?target=es2022";import{defineTransactionReceipt as Rm,formatTransactionReceipt as Pm}from"/viem@^2.37.5/_esm/utils/formatters/transactionReceipt?target=es2022";import{defineTransactionRequest as Mm,formatTransactionRequest as Dm,rpcTransactionType as Bm}from"/viem@^2.37.5/_esm/utils/formatters/transactionRequest?target=es2022";import{isHash as Om}from"/viem@^2.37.5/_esm/utils/hash/isHash?target=es2022";import{keccak256 as Bt}from"/viem@^2.37.5/_esm/utils/hash/keccak256?target=es2022";import{ripemd160 as $m}from"/viem@^2.37.5/_esm/utils/hash/ripemd160?target=es2022";import{sha256 as Hm}from"/viem@^2.37.5/_esm/utils/hash/sha256?target=es2022";import{toEventHash as Vm}from"/viem@^2.37.5/_esm/utils/hash/toEventHash?target=es2022";import{toEventSelector as jm,toEventSelector as Gm}from"/viem@^2.37.5/_esm/utils/hash/toEventSelector?target=es2022";import{toEventSignature as Jm,toEventSignature as Ym}from"/viem@^2.37.5/_esm/utils/hash/toEventSignature?target=es2022";import{toFunctionHash as Xm}from"/viem@^2.37.5/_esm/utils/hash/toFunctionHash?target=es2022";import{toFunctionSelector as eg,toFunctionSelector as tg}from"/viem@^2.37.5/_esm/utils/hash/toFunctionSelector?target=es2022";import{toFunctionSignature as ig,toFunctionSignature as ag}from"/viem@^2.37.5/_esm/utils/hash/toFunctionSignature?target=es2022";import{defineKzg as sg}from"/viem@^2.37.5/_esm/utils/kzg/defineKzg?target=es2022";import{setupKzg as cg}from"/viem@^2.37.5/_esm/utils/kzg/setupKzg?target=es2022";import{createNonceManager as lg,nonceManager as ug}from"/viem@^2.37.5/_esm/utils/nonceManager?target=es2022";import{withCache as mg}from"/viem@^2.37.5/_esm/utils/promise/withCache?target=es2022";import{withRetry as fg}from"/viem@^2.37.5/_esm/utils/promise/withRetry?target=es2022";import{withTimeout as yg}from"/viem@^2.37.5/_esm/utils/promise/withTimeout?target=es2022";import{compactSignatureToSignature as bg}from"/viem@^2.37.5/_esm/utils/signature/compactSignatureToSignature?target=es2022";import{hashMessage as wg}from"/viem@^2.37.5/_esm/utils/signature/hashMessage?target=es2022";import{hashDomain as Nt,hashStruct as Ag,hashTypedData as Ig}from"/viem@^2.37.5/_esm/utils/signature/hashTypedData?target=es2022";import{isErc6492Signature as kg}from"/viem@^2.37.5/_esm/utils/signature/isErc6492Signature?target=es2022";import{isErc8010Signature as Eg}from"/viem@^2.37.5/_esm/utils/signature/isErc8010Signature?target=es2022";import{parseCompactSignature as Rg,parseCompactSignature as Pg}from"/viem@^2.37.5/_esm/utils/signature/parseCompactSignature?target=es2022";import{parseErc6492Signature as Mg}from"/viem@^2.37.5/_esm/utils/signature/parseErc6492Signature?target=es2022";import{parseErc8010Signature as Bg}from"/viem@^2.37.5/_esm/utils/signature/parseErc8010Signature?target=es2022";import{parseSignature as Og,parseSignature as Ug}from"/viem@^2.37.5/_esm/utils/signature/parseSignature?target=es2022";import{recoverAddress as $g}from"/viem@^2.37.5/_esm/utils/signature/recoverAddress?target=es2022";import{recoverMessageAddress as ii}from"/viem@^2.37.5/_esm/utils/signature/recoverMessageAddress?target=es2022";import{recoverPublicKey as zg}from"/viem@^2.37.5/_esm/utils/signature/recoverPublicKey?target=es2022";import{recoverTransactionAddress as Wg}from"/viem@^2.37.5/_esm/utils/signature/recoverTransactionAddress?target=es2022";import{recoverTypedDataAddress as Ot}from"/viem@^2.37.5/_esm/utils/signature/recoverTypedDataAddress?target=es2022";import{serializeCompactSignature as Kg,serializeCompactSignature as Jg}from"/viem@^2.37.5/_esm/utils/signature/serializeCompactSignature?target=es2022";import{serializeErc6492Signature as Qg}from"/viem@^2.37.5/_esm/utils/signature/serializeErc6492Signature?target=es2022";import{serializeErc8010Signature as Zg}from"/viem@^2.37.5/_esm/utils/signature/serializeErc8010Signature?target=es2022";import{serializeSignature as tf,serializeSignature as nf}from"/viem@^2.37.5/_esm/utils/signature/serializeSignature?target=es2022";import{signatureToCompactSignature as rf}from"/viem@^2.37.5/_esm/utils/signature/signatureToCompactSignature?target=es2022";import{toPrefixedMessage as of}from"/viem@^2.37.5/_esm/utils/signature/toPrefixedMessage?target=es2022";import{verifyHash as df}from"/viem@^2.37.5/_esm/utils/signature/verifyHash?target=es2022";import{verifyMessage as uf}from"/viem@^2.37.5/_esm/utils/signature/verifyMessage?target=es2022";import{verifyTypedData as mf}from"/viem@^2.37.5/_esm/utils/signature/verifyTypedData?target=es2022";import{stringify as ff}from"/viem@^2.37.5/_esm/utils/stringify?target=es2022";import{assertRequest as yf}from"/viem@^2.37.5/_esm/utils/transaction/assertRequest?target=es2022";import{assertTransactionEIP1559 as bf,assertTransactionEIP2930 as vf,assertTransactionLegacy as wf}from"/viem@^2.37.5/_esm/utils/transaction/assertTransaction?target=es2022";import{getSerializedTransactionType as Af}from"/viem@^2.37.5/_esm/utils/transaction/getSerializedTransactionType?target=es2022";import{getTransactionType as Cf}from"/viem@^2.37.5/_esm/utils/transaction/getTransactionType?target=es2022";import{parseTransaction as Tf}from"/viem@^2.37.5/_esm/utils/transaction/parseTransaction?target=es2022";import{serializeAccessList as Sf}from"/viem@^2.37.5/_esm/utils/transaction/serializeAccessList?target=es2022";import{serializeTransaction as Pf}from"/viem@^2.37.5/_esm/utils/transaction/serializeTransaction?target=es2022";import{domainSeparator as Mf,getTypesForEIP712Domain as Df,serializeTypedData as Bf,validateTypedData as Nf}from"/viem@^2.37.5/_esm/utils/typedData?target=es2022";import{formatEther as Uf}from"/viem@^2.37.5/_esm/utils/unit/formatEther?target=es2022";import{formatGwei as $f}from"/viem@^2.37.5/_esm/utils/unit/formatGwei?target=es2022";import{formatUnits as Hf}from"/viem@^2.37.5/_esm/utils/unit/formatUnits?target=es2022";import{parseEther as Vf}from"/viem@^2.37.5/_esm/utils/unit/parseEther?target=es2022";import{parseGwei as jf}from"/viem@^2.37.5/_esm/utils/unit/parseGwei?target=es2022";import{parseUnits as Kf}from"/viem@^2.37.5/_esm/utils/unit/parseUnits?target=es2022";import{createNonceManager as Qf,nonceManager as Xf}from"/viem@^2.37.5/_esm/utils/nonceManager?target=es2022";import{serializeSignature as eh,serializeSignature as th}from"/viem@^2.37.5/_esm/utils/signature/serializeSignature?target=es2022";import{generateMnemonic as ih}from"/viem@^2.37.5/_esm/accounts/generateMnemonic?target=es2022";import{generatePrivateKey as rh}from"/viem@^2.37.5/_esm/accounts/generatePrivateKey?target=es2022";import{hdKeyToAccount as oh}from"/viem@^2.37.5/_esm/accounts/hdKeyToAccount?target=es2022";import{mnemonicToAccount as dh}from"/viem@^2.37.5/_esm/accounts/mnemonicToAccount?target=es2022";import{privateKeyToAccount as Fe}from"/viem@^2.37.5/_esm/accounts/privateKeyToAccount?target=es2022";import{toAccount as ph}from"/viem@^2.37.5/_esm/accounts/toAccount?target=es2022";import{parseAccount as gh}from"/viem@^2.37.5/_esm/accounts/utils/parseAccount?target=es2022";import{privateKeyToAddress as hh}from"/viem@^2.37.5/_esm/accounts/utils/privateKeyToAddress?target=es2022";import{publicKeyToAddress as _h}from"/viem@^2.37.5/_esm/accounts/utils/publicKeyToAddress?target=es2022";import{setSignEntropy as vh,sign as wh}from"/viem@^2.37.5/_esm/accounts/utils/sign?target=es2022";import{signAuthorization as Ah}from"/viem@^2.37.5/_esm/accounts/utils/signAuthorization?target=es2022";import{signMessage as Ch}from"/viem@^2.37.5/_esm/accounts/utils/signMessage?target=es2022";import{signTransaction as Th}from"/viem@^2.37.5/_esm/accounts/utils/signTransaction?target=es2022";import{signTypedData as Sh}from"/viem@^2.37.5/_esm/accounts/utils/signTypedData?target=es2022";import{czech as Ph,english as Fh,french as Mh,italian as Dh,japanese as Bh,korean as Nh,portuguese as Oh,simplifiedChinese as Uh,spanish as Lh,traditionalChinese as $h}from"/viem@^2.37.5/_esm/accounts/wordlists?target=es2022";function de(i){let e=Ft(i);if(e.length!==65)return i;let t=e[64];if(t===0||t===1){e[64]=t+27;let n="0x";for(let a of e)n+=a.toString(16).padStart(2,"0");return n}return i}async function Ut(i){let e=await Ot({domain:i.domain,types:i.types,primaryType:i.primaryType,message:i.message,signature:i.signature});return ce(e)}function ai(i){let e=i.trim();return e.startsWith("0x")?e:`0x${e}`}function Lt(i){if(!i)return{};let e={};return i.gasLimit!==void 0&&(e.gas=i.gasLimit),i.gasPrice!==void 0&&(e.gasPrice=i.gasPrice),i.maxFeePerGas!==void 0&&(e.maxFeePerGas=i.maxFeePerGas),i.maxPriorityFeePerGas!==void 0&&(e.maxPriorityFeePerGas=i.maxPriorityFeePerGas),e}var _e=class{constructor(e){this.chainId=e.chainId,this.rpcUrl=e.rpcUrl;let t=Pt({id:this.chainId,name:`chain-${this.chainId}`,nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:[this.rpcUrl]}}});this.publicClient=Qe({chain:t,transport:et(this.rpcUrl)}),e.privateKey?(this.account=Fe(ai(e.privateKey)),this.walletClient=Xe({chain:t,account:this.account,transport:et(this.rpcUrl)})):e.walletProvider&&(this.receiptClient=Qe({chain:t,transport:Ze(e.walletProvider)}),this.walletClient=Xe({chain:t,transport:Ze(e.walletProvider)}))}async getAddress(){if(this.account)return this.account.address;if(this.walletClient){try{let e=await this.walletClient.getAddresses?.();if(Array.isArray(e)&&typeof e[0]=="string")return e[0]}catch{}try{let e=this.walletClient.transport?.value,t=e?await e.request({method:"eth_accounts"}):void 0;if(Array.isArray(t)&&typeof t[0]=="string")return t[0]}catch{}}}async ensureAddress(){let e=await this.getAddress();if(e)return e;if(this.account)throw new Error("No account available (privateKey configured but address could not be resolved)");if(!this.walletClient)throw new Error("No signer available. Configure walletProvider (browser) or privateKey (server).");let t=this.walletClient.transport?.value;if(!t)throw new Error("No EIP-1193 provider available to request accounts.");let n=await t.request({method:"eth_requestAccounts"});if(Array.isArray(n)&&typeof n[0]=="string")return n[0];throw new Error("Wallet did not return accounts from eth_requestAccounts")}async readContract(e){let t=await this.publicClient.getChainId();if(t!==this.chainId)throw new Error(`RPC chainId mismatch: SDK configured for chainId=${this.chainId} but rpcUrl reports chainId=${t}`);return await this.publicClient.readContract({address:e.address,abi:e.abi,functionName:e.functionName,args:e.args??[]})}async writeContract(e){if(!this.walletClient)throw new Error("No signer available. Configure walletProvider (browser) or privateKey (server).");let t=this.account??await this.ensureAddress();try{let a=await this.walletClient.getChainId?.();if(typeof a=="number"&&a!==this.chainId)throw new Error(`Wallet chainId mismatch: expected chainId=${this.chainId}, got chainId=${a}. Please switch the wallet network.`)}catch{}return await this.walletClient.writeContract({address:e.address,abi:e.abi,functionName:e.functionName,args:e.args??[],account:t,...Lt(e.options)})}async sendTransaction(e){if(!this.walletClient)throw new Error("No signer available. Configure walletProvider (browser) or privateKey (server).");let t=this.account??await this.ensureAddress();return await this.walletClient.sendTransaction({to:e.to,data:e.data,account:t,...Lt(e.options)})}async waitForTransaction(e){let t;try{t=await this.publicClient.waitForTransactionReceipt({hash:e.hash,timeout:e.timeoutMs,confirmations:e.confirmations})}catch(r){let s=r instanceof Error?r.message:String(r);if(this.receiptClient&&s.toLowerCase().includes("timed out"))t=await this.receiptClient.waitForTransactionReceipt({hash:e.hash,timeout:e.timeoutMs,confirmations:e.confirmations});else throw r}let n=(t.logs||[]).map(r=>({address:r.address,data:r.data,topics:r.topics||[],blockNumber:r.blockNumber,transactionHash:r.transactionHash,logIndex:typeof r.logIndex=="number"?r.logIndex:void 0})),a=t.status==="reverted"?"reverted":"success";return{transactionHash:t.transactionHash,blockNumber:t.blockNumber,status:a,logs:n}}async getEventLogs(e){let t=St({abi:e.abi,name:e.eventName,type:"event"});return(await this.publicClient.getLogs({address:e.address,event:t,args:e.eventArgs??void 0,fromBlock:e.fromBlock,toBlock:e.toBlock})||[]).map(a=>({address:a.address,data:a.data,topics:a.topics||[],blockNumber:a.blockNumber,transactionHash:a.transactionHash,logIndex:typeof a.logIndex=="number"?a.logIndex:void 0}))}async getBlockNumber(){return await this.publicClient.getBlockNumber()}async getBlockTimestamp(e="latest"){return(await this.publicClient.getBlock({blockTag:e})).timestamp}keccak256Utf8(e){return Bt(Mt(e))}isAddress(e){return Rt(e)}toChecksumAddress(e){return ce(e)}async signMessage(e){if(!this.walletClient)throw new Error("No signer available. Configure walletProvider (browser) or privateKey (server).");let t=this.account?.address??await this.ensureAddress(),n=await this.walletClient.signMessage({account:t,message:typeof e=="string"?e:{raw:e}});return de(n)}async signTypedData(e){if(!this.walletClient)throw new Error("No signer available. Configure walletProvider (browser) or privateKey (server).");let t=this.account?.address??await this.ensureAddress(),n=await this.walletClient.signTypedData({account:t,domain:e.domain,types:e.types,primaryType:e.primaryType,message:e.message});return de(n)}encodeFunctionData(e){return Et({abi:e.abi,functionName:e.functionName,args:e.args??[]})}};var Ie=class{constructor(e){if(this.config=e,e.pinataEnabled)this.provider="pinata",this._verifyPinataJwt();else if(e.filecoinPinEnabled)this.provider="filecoinPin";else if(e.url)this.provider="node";else throw new Error("No IPFS provider configured. Specify url, pinataEnabled, or filecoinPinEnabled.")}async _ensureClient(){if(this.provider==="node"&&!this.client&&this.config.url){let{create:e}=await Promise.resolve().then(()=>(qn(),Ln));this.client=e({url:this.config.url})}}_verifyPinataJwt(){if(!this.config.pinataJwt)throw new Error("pinataJwt is required when pinataEnabled=true")}async _pinToPinata(e,t="file.json"){let n="https://uploads.pinata.cloud/v3/files",a={Authorization:`Bearer ${this.config.pinataJwt}`},r=new Blob([e],{type:"application/json"}),s=new FormData;s.append("file",r,t),s.append("network","public");try{let o=new AbortController,c=setTimeout(()=>o.abort(),G.PINATA_UPLOAD),l=await fetch(n,{method:"POST",headers:a,body:s,signal:o.signal});if(clearTimeout(c),!l.ok){let g=await l.text();throw new Error(`Failed to pin to Pinata: HTTP ${l.status} - ${g}`)}let f=await l.json(),p=f?.data?.cid||f?.cid||f?.IpfsHash;if(!p)throw new Error(`No CID returned from Pinata. Response: ${JSON.stringify(f)}`);try{let g=`https://gateway.pinata.cloud/ipfs/${p}`,m=await fetch(g,{signal:AbortSignal.timeout(5e3)});if(!m.ok)if(m.status===429)console.warn(`[IPFS] Pinata returned CID ${p} but gateway is rate-limited (HTTP 429). Content is likely available but verification skipped due to rate limiting.`);else throw new Error(`Pinata returned CID ${p} but content is not accessible on gateway (HTTP ${m.status}). This may indicate the upload failed. Full Pinata response: ${JSON.stringify(f)}`)}catch(g){g instanceof Error&&(g.message.includes("timeout")||g.message.includes("aborted")?console.warn(`[IPFS] Pinata returned CID ${p} but verification timed out. Content may propagate with delay. Full Pinata response: ${JSON.stringify(f)}`):g.message.includes("429")?console.warn(`[IPFS] Pinata returned CID ${p} but gateway is rate-limited. Content is likely available but verification skipped.`):console.warn(`[IPFS] Pinata returned CID ${p} but verification failed: ${g.message}. Content may propagate with delay. Full Pinata response: ${JSON.stringify(f)}`))}return p}catch(o){if(o instanceof Error&&o.name==="AbortError")throw new Error(`Pinata upload timed out after ${G.PINATA_UPLOAD/1e3} seconds`);let c=o instanceof Error?o.message:String(o);throw new Error(`Failed to pin to Pinata: ${c}`)}}async _pinToFilecoin(e){throw new Error("Filecoin Pin via TypeScript SDK not yet fully implemented. Please use the filecoin-pin CLI or implement the Filecoin Pin API integration.")}async _pinToLocalIpfs(e){if(await this._ensureClient(),!this.client)throw new Error("No IPFS client available");return(await this.client.add(e)).cid.toString()}async add(e,t){try{return this.provider==="pinata"?await this._pinToPinata(e,t):this.provider==="filecoinPin"?await this._pinToFilecoin(e):await this._pinToLocalIpfs(e)}catch(n){throw n}}async addFile(e,t){if(typeof __Process$>"u"||!__Process$.versions?.node)throw new Error("addFile() is only available in Node.js environments. For browser environments, use add() with file content directly.");let n=await import("/node/fs.mjs"),a=n.readFileSync(e,"utf-8");if(this.provider==="pinata")return this._pinToPinata(a,t);if(this.provider==="filecoinPin")return this._pinToFilecoin(e);{if(await this._ensureClient(),!this.client)throw new Error("No IPFS client available");let r=n.readFileSync(e);return(await this.client.add(r)).cid.toString()}}async get(e){if(e.startsWith("ipfs://")&&(e=e.slice(7)),this.provider==="pinata"||this.provider==="filecoinPin"){let n=Re.map(r=>`${r}${e}`).map(async r=>{try{let s=await fetch(r,{signal:AbortSignal.timeout(G.IPFS_GATEWAY)});if(s.ok)return await s.text();throw new Error(`HTTP ${s.status}`)}catch(s){throw s}}),a=await Promise.allSettled(n);for(let r of a)if(r.status==="fulfilled")return r.value;throw new Error("Failed to retrieve data from all IPFS gateways")}else{if(await this._ensureClient(),!this.client)throw new Error("No IPFS client available");let t=[];for await(let s of this.client.cat(e))t.push(s);let n=t.reduce((s,o)=>s+o.length,0),a=new Uint8Array(n),r=0;for(let s of t)a.set(s,r),r+=s.length;return new TextDecoder().decode(a)}}async getJson(e){let t=await this.get(e);return JSON.parse(t)}async pin(e){if(this.provider==="filecoinPin")return{pinned:[e]};if(await this._ensureClient(),!this.client)throw new Error("No IPFS client available");return await this.client.pin.add(e),{pinned:[e]}}async unpin(e){if(this.provider==="filecoinPin")return{unpinned:[e]};if(await this._ensureClient(),!this.client)throw new Error("No IPFS client available");return await this.client.pin.rm(e),{unpinned:[e]}}async addJson(e,t){let n=JSON.stringify(e,null,2);return this.add(n,t)}async addRegistrationFile(e,t,n){let a=[];for(let o of e.endpoints){let c={name:o.type,endpoint:o.value};o.meta&&Object.assign(c,o.meta),a.push(c)}let r=[];if(e.agentId){let o=e.agentId.split(":"),c,l;if(o.length===3&&o[0]==="eip155")c=parseInt(o[1],10),l=parseInt(o[2],10);else{let g=B(e.agentId);c=g.chainId,l=g.tokenId}if(l===void 0||Number.isNaN(l))throw new Error(`Invalid agentId for registration file: ${e.agentId}`);let f=t??c??1,p=n?`eip155:${f}:${n}`:`eip155:${f}:{identityRegistry}`;r.push({agentId:l,agentRegistry:p})}let s={type:"https://eips.ethereum.org/EIPS/eip-8004#registration-v1",name:e.name,description:e.description,...e.image&&{image:e.image},services:a,...r.length>0&&{registrations:r},...e.trustModels.length>0&&{supportedTrust:e.trustModels},active:e.active,x402Support:e.x402support};return this.addJson(s,"agent-registration.json")}async getRegistrationFile(e){return await this.getJson(e)}async close(){this.client&&(this.client=void 0)}};var ie=ye(zn(),1);import{defaultJsonSerializer as xt}from"/graphql-request@^6.1.0/build/esm/defaultJsonSerializer?target=es2022";import{HeadersInstanceToPlainObject as gr,uppercase as fr}from"/graphql-request@^6.1.0/build/esm/helpers?target=es2022";import{parseBatchRequestArgs as hr,parseRawRequestArgs as yr,parseRawRequestExtendedArgs as j_,parseRequestArgs as _r,parseRequestExtendedArgs as G_}from"/graphql-request@^6.1.0/build/esm/parseArgs?target=es2022";import{resolveRequestDocument as bt}from"/graphql-request@^6.1.0/build/esm/resolveRequestDocument?target=es2022";import{ClientError as br}from"/graphql-request@^6.1.0/build/esm/types?target=es2022";import{GraphQLWebSocketClient as X_}from"/graphql-request@^6.1.0/build/esm/graphql-ws?target=es2022";import{resolveRequestDocument as eb}from"/graphql-request@^6.1.0/build/esm/resolveRequestDocument?target=es2022";var ge=i=>{let e={};return i&&(typeof Headers<"u"&&i instanceof Headers||ie&&ie.Headers&&i instanceof ie.Headers?e=gr(i):Array.isArray(i)?i.forEach(([t,n])=>{t&&n!==void 0&&(e[t]=n)}):e=i),e},Vn=i=>i.replace(/([\s,]|#[^\n\r]+)+/g," ").trim(),vr=i=>{if(!Array.isArray(i.query)){let n=i,a=[`query=${encodeURIComponent(Vn(n.query))}`];return i.variables&&a.push(`variables=${encodeURIComponent(n.jsonSerializer.stringify(n.variables))}`),n.operationName&&a.push(`operationName=${encodeURIComponent(n.operationName)}`),a.join("&")}if(typeof i.variables<"u"&&!Array.isArray(i.variables))throw new Error("Cannot create query with given variable type, array expected");let e=i,t=i.query.reduce((n,a,r)=>(n.push({query:Vn(a),variables:e.variables?e.jsonSerializer.stringify(e.variables[r]):void 0}),n),[]);return`query=${encodeURIComponent(e.jsonSerializer.stringify(t))}`},wr=i=>async e=>{let{url:t,query:n,variables:a,operationName:r,fetch:s,fetchOptions:o,middleware:c}=e,l={...e.headers},f="",p;i==="POST"?(p=xr(n,a,r,o.jsonSerializer),typeof p=="string"&&(l["Content-Type"]="application/json")):f=vr({query:n,variables:a,operationName:r,jsonSerializer:o.jsonSerializer??xt});let g={method:i,headers:l,body:p,...o},m=t,h=g;if(c){let y=await Promise.resolve(c({...g,url:t,operationName:r,variables:a})),{url:b,...v}=y;m=b,h=v}return f&&(m=`${m}?${f}`),await s(m,h)},We=class{constructor(e,t={}){this.url=e,this.requestConfig=t,this.rawRequest=async(...n)=>{let[a,r,s]=n,o=yr(a,r,s),{headers:c,fetch:l=ie.default,method:f="POST",requestMiddleware:p,responseMiddleware:g,...m}=this.requestConfig,{url:h}=this;o.signal!==void 0&&(m.signal=o.signal);let{operationName:y}=bt(o.query);return vt({url:h,query:o.query,variables:o.variables,headers:{...ge(wt(c)),...ge(o.requestHeaders)},operationName:y,fetch:l,method:f,fetchOptions:m,middleware:p}).then(b=>(g&&g(b),b)).catch(b=>{throw g&&g(b),b})}}async request(e,...t){let[n,a]=t,r=_r(e,n,a),{headers:s,fetch:o=ie.default,method:c="POST",requestMiddleware:l,responseMiddleware:f,...p}=this.requestConfig,{url:g}=this;r.signal!==void 0&&(p.signal=r.signal);let{query:m,operationName:h}=bt(r.document);return vt({url:g,query:m,variables:r.variables,headers:{...ge(wt(s)),...ge(r.requestHeaders)},operationName:h,fetch:o,method:c,fetchOptions:p,middleware:l}).then(y=>(f&&f(y),y.data)).catch(y=>{throw f&&f(y),y})}batchRequests(e,t){let n=hr(e,t),{headers:a,...r}=this.requestConfig;n.signal!==void 0&&(r.signal=n.signal);let s=n.documents.map(({document:c})=>bt(c).query),o=n.documents.map(({variables:c})=>c);return vt({url:this.url,query:s,variables:o,headers:{...ge(wt(a)),...ge(n.requestHeaders)},operationName:void 0,fetch:this.requestConfig.fetch??ie.default,method:this.requestConfig.method||"POST",fetchOptions:r,middleware:this.requestConfig.requestMiddleware}).then(c=>(this.requestConfig.responseMiddleware&&this.requestConfig.responseMiddleware(c),c.data)).catch(c=>{throw this.requestConfig.responseMiddleware&&this.requestConfig.responseMiddleware(c),c})}setHeaders(e){return this.requestConfig.headers=e,this}setHeader(e,t){let{headers:n}=this.requestConfig;return n?n[e]=t:this.requestConfig.headers={[e]:t},this}setEndpoint(e){return this.url=e,this}},vt=async i=>{let{query:e,variables:t,fetchOptions:n}=i,a=wr(fr(i.method??"post")),r=Array.isArray(i.query),s=await a(i),o=await Ar(s,n.jsonSerializer??xt),c=Array.isArray(o)?!o.some(({data:f})=>!f):!!o.data,l=Array.isArray(o)||!o.errors||Array.isArray(o.errors)&&!o.errors.length||n.errorPolicy==="all"||n.errorPolicy==="ignore";if(s.ok&&l&&c){let{errors:f,...p}=(Array.isArray(o),o),g=n.errorPolicy==="ignore"?p:o;return{...r?{data:g}:g,headers:s.headers,status:s.status}}else{let f=typeof o=="string"?{error:o}:o;throw new br({...f,status:s.status,headers:s.headers},{query:e,variables:t})}};var xr=(i,e,t,n)=>{let a=n??xt;if(!Array.isArray(i))return a.stringify({query:i,variables:e,operationName:t});if(typeof e<"u"&&!Array.isArray(e))throw new Error("Cannot create request body with given variable type, array expected");let r=i.reduce((s,o,c)=>(s.push({query:o,variables:e?e[c]:void 0}),s),[]);return a.stringify(r)},Ar=async(i,e)=>{let t;return i.headers.forEach((n,a)=>{a.toLowerCase()==="content-type"&&(t=n)}),t&&(t.toLowerCase().startsWith("application/json")||t.toLowerCase().startsWith("application/graphql+json")||t.toLowerCase().startsWith("application/graphql-response+json"))?e.parse(await i.text()):i.text()},wt=i=>typeof i=="function"?i():i;var ae=class{constructor(e){this.client=new We(e,{headers:{"Content-Type":"application/json"}})}async query(e,t){try{return await this.client.request(e,t||{})}catch(n){let a=n instanceof Error?n.message:String(n);if((a.includes('Cannot query field "x402Support"')||a.includes("has no field `x402Support`"))&&e.includes("x402Support")){let r=e.split("x402Support").join("x402support");return await this.client.request(r,t||{})}throw new Error(`Failed to query subgraph: ${n}`)}}async getAgents(e={}){let{where:t={},first:n=100,skip:a=0,orderBy:r="createdAt",orderDirection:s="desc",includeRegistrationFile:o=!0}=e,c={};t.agentId&&(c.agentId=t.agentId),t.owner&&(c.owner=t.owner),t.owner_in&&(c.owner_in=t.owner_in),t.operators_contains&&(c.operators_contains=t.operators_contains),t.agentURI&&(c.agentURI=t.agentURI),t.registrationFile_not!==void 0&&(c.registrationFile_not=t.registrationFile_not),t.registrationFile&&(c.registrationFile_=t.registrationFile),t.registrationFile_&&(c.registrationFile_=t.registrationFile_);let l="";if(Object.keys(c).length>0){let m=[];for(let[h,y]of Object.entries(c))if((h==="registrationFile"||h==="registrationFile_")&&typeof y=="object"){let b=[];for(let[v,x]of Object.entries(y))typeof x=="boolean"?b.push(`${v}: ${x.toString().toLowerCase()}`):typeof x=="string"?b.push(`${v}: "${x}"`):x===null&&(v.endsWith("_not")?b.push(`${v}: null`):b.push(`${v}_not: null`));b.length>0&&m.push(`registrationFile_: { ${b.join(", ")} }`)}else if(typeof y=="boolean")m.push(`${h}: ${y.toString().toLowerCase()}`);else if(typeof y=="string")m.push(`${h}: "${y}"`);else if(typeof y=="number")m.push(`${h}: ${y}`);else if(Array.isArray(y))m.push(`${h}: ${JSON.stringify(y)}`);else if(y===null){let b=h.endsWith("_not")?h:`${h}_not`;m.push(`${b}: null`)}m.length>0&&(l=`where: { ${m.join(", ")} }`)}let p=`
      query GetAgents($first: Int!, $skip: Int!, $orderBy: Agent_orderBy!, $orderDirection: OrderDirection!) {
        agents(
          ${l}
          first: $first
          skip: $skip
          orderBy: $orderBy
          orderDirection: $orderDirection
        ) {
          id
          chainId
          agentId
          owner
          operators
          agentURI
          agentWallet
          createdAt
          updatedAt
          ${o?`
          registrationFile {
            id
            agentId
            name
            description
            image
            active
            x402Support
            supportedTrusts
            mcpEndpoint
            mcpVersion
            a2aEndpoint
            a2aVersion
            ens
            did
            mcpTools
            mcpPrompts
            mcpResources
            a2aSkills
          }
    `:""}
        }
      }
    `,g={first:n,skip:a,orderBy:r,orderDirection:s.toLowerCase()};try{return((await this.query(p,g)).agents||[]).map(h=>this._transformAgent(h))}catch(m){throw new Error(`Failed to get agents from subgraph: ${m}`)}}async getAgentById(e){let t=`
      query GetAgent($agentId: String!) {
        agent(id: $agentId) {
          id
          chainId
          agentId
          owner
          operators
          agentURI
          agentWallet
          createdAt
          updatedAt
          registrationFile {
            id
            agentId
            name
            description
            image
            active
            x402Support
            supportedTrusts
            mcpEndpoint
            mcpVersion
            a2aEndpoint
            a2aVersion
            ens
            did
            mcpTools
            mcpPrompts
            mcpResources
            a2aSkills
          }
        }
      }
    `;try{let n=await this.query(t,{agentId:e});return n.agent?this._transformAgent(n.agent):null}catch(n){throw new Error(`Failed to get agent from subgraph: ${n}`)}}_transformAgent(e){let t=parseInt(e.chainId?.toString()||"0",10),n=e.id||`${t}:${e.agentId?.toString()||"0"}`,a=e.registrationFile,r=(e.operators||[]).map(s=>typeof s=="string"?$(s):s);return{chainId:t,agentId:n,name:a?.name||n,image:a?.image||void 0,description:a?.description||"",owners:e.owner?[$(e.owner)]:[],operators:r,mcp:!!a?.mcpEndpoint,a2a:!!a?.a2aEndpoint,ens:a?.ens||void 0,did:a?.did||void 0,walletAddress:e.agentWallet?$(e.agentWallet):void 0,supportedTrusts:a?.supportedTrusts||[],a2aSkills:a?.a2aSkills||[],mcpTools:a?.mcpTools||[],mcpPrompts:a?.mcpPrompts||[],mcpResources:a?.mcpResources||[],active:a?.active??!1,x402support:a?.x402Support??a?.x402support??!1,extras:{}}}async searchAgents(e,t=100,n=0){let a={registrationFile_not:null};if(e.active!==void 0||e.mcp!==void 0||e.a2a!==void 0||e.x402support!==void 0||e.ens||e.walletAddress||e.supportedTrust||e.a2aSkills||e.mcpTools||e.name||e.owners||e.operators){let r={};e.active!==void 0&&(r.active=e.active),e.x402support!==void 0&&(r.x402Support=e.x402support),e.ens&&(r.ens=e.ens.toLowerCase()),e.mcp!==void 0&&(r[e.mcp?"mcpEndpoint_not":"mcpEndpoint"]=null),e.a2a!==void 0&&(r[e.a2a?"a2aEndpoint_not":"a2aEndpoint"]=null);let s={};if(Object.keys(r).length>0&&(s.registrationFile_=r),e.owners&&e.owners.length>0){let c=e.owners.map(l=>l.toLowerCase());c.length===1?s.owner=c[0]:s.owner_in=c}if(e.operators&&e.operators.length>0){let c=e.operators.map(l=>l.toLowerCase());s.operators_contains=c}return(await this.getAgents({where:s,first:t,skip:n})).filter(c=>!(e.name&&!c.name.toLowerCase().includes(e.name.toLowerCase())||e.supportedTrust&&e.supportedTrust.length>0&&!e.supportedTrust.every(f=>c.supportedTrusts.includes(f))||e.a2aSkills&&e.a2aSkills.length>0&&!e.a2aSkills.every(f=>c.a2aSkills.includes(f))||e.mcpTools&&e.mcpTools.length>0&&!e.mcpTools.every(f=>c.mcpTools.includes(f))))}return this.getAgents({where:a,first:t,skip:n})}async searchFeedback(e,t=100,n=0,a="createdAt",r="desc"){let s=[];if(e.agents&&e.agents.length>0){let p=e.agents.map(g=>`"${g}"`).join(", ");s.push(`agent_in: [${p}]`)}if(e.reviewers&&e.reviewers.length>0){let p=e.reviewers.map(g=>`"${g}"`).join(", ");s.push(`clientAddress_in: [${p}]`)}e.includeRevoked||s.push("isRevoked: false");let o=[...s],c=null;if(e.tags&&e.tags.length>0){let p=[];for(let g of e.tags){let m=[...o,`tag1: "${g}"`];p.push(`{ ${m.join(", ")} }`);let h=[...o,`tag2: "${g}"`];p.push(`{ ${h.join(", ")} }`)}c=p.join(", ")}e.minValue!==void 0&&s.push(`value_gte: ${e.minValue}`),e.maxValue!==void 0&&s.push(`value_lte: ${e.maxValue}`);let l="";c?l=`where: { or: [${c}] }`:s.length>0&&(l=`where: { ${s.join(", ")} }`);let f=`
      {
        feedbacks(
          ${l}
          first: ${t}
          skip: ${n}
          orderBy: ${a}
          orderDirection: ${r}
        ) {
          id
          agent { id agentId chainId }
          clientAddress
          value
          tag1
          tag2
          endpoint
          feedbackURI
          feedbackURIType
          feedbackHash
          isRevoked
          createdAt
          revokedAt
          feedbackFile {
            id
            feedbackId
            text
            proofOfPaymentFromAddress
            proofOfPaymentToAddress
            proofOfPaymentChainId
            proofOfPaymentTxHash
            tag1
            tag2
            createdAt
          }
          responses {
            id
            responder
            responseUri
            responseHash
            createdAt
          }
        }
      }
    `;try{return(await this.query(f)).feedbacks||[]}catch(p){let g=p instanceof Error?p.message:String(p);if(!g.includes("Cannot query field")||!g.includes("endpoint"))throw p;let m=`
        {
          feedbacks(
            ${l}
            first: ${t}
            skip: ${n}
            orderBy: ${a}
            orderDirection: ${r}
          ) {
            id
            agent { id agentId chainId }
            clientAddress
            value
            tag1
            tag2
            feedbackURI
            feedbackURIType
            feedbackHash
            isRevoked
            createdAt
            revokedAt
            feedbackFile {
              id
              feedbackId
              text
              proofOfPaymentFromAddress
              proofOfPaymentToAddress
              proofOfPaymentChainId
              proofOfPaymentTxHash
              tag1
              tag2
              createdAt
            }
            responses {
              id
              responder
              responseUri
              responseHash
              createdAt
            }
          }
        }
      `;return(await this.query(m)).feedbacks||[]}}async searchAgentsByReputation(e,t,n,a,r,s,o,c,l=!1,f=100,p=0,g="createdAt",m="desc"){let h=[];if(l||h.push("isRevoked: false"),t&&t.length>0){let x=[];for(let T of t)x.push(`{or: [{tag1: "${T}"}, {tag2: "${T}"}]}`);h.push(`or: [${x.join(", ")}]`)}if(n&&n.length>0){let x=n.map(T=>`"${T}"`).join(", ");h.push(`clientAddress_in: [${x}]`)}let y="";if(t||n){let T=`
        {
          feedbacks(
            where: ${h.length>0?`{ ${h.join(", ")} }`:"{}"}
            first: 1000
            skip: 0
          ) {
            agent {
              id
            }
          }
        }
      `;try{let I=(await this.query(T)).feedbacks||[],A=new Set;for(let D of I){let U=D.agent?.id;U&&A.add(U)}if(A.size===0)return[];let R=Array.from(A);if(e&&e.length>0&&(R=R.filter(D=>e.includes(D)),R.length===0))return[];y=`where: { id_in: [${R.map(D=>`"${D}"`).join(", ")}] }`}catch{return[]}}else{let x=[];if(e&&e.length>0){let T=e.map(w=>`"${w}"`).join(", ");x.push(`id_in: [${T}]`)}x.length>0&&(y=`where: { ${x.join(", ")} }`)}let b=h.length>0?`{ ${h.join(", ")} }`:"{}",v=`
      {
        agents(
          ${y}
          first: ${f}
          skip: ${p}
          orderBy: ${g}
          orderDirection: ${m}
        ) {
          id
          chainId
          agentId
          agentURI
          agentURIType
          agentWallet
          owner
          operators
          createdAt
          updatedAt
          totalFeedback
          lastActivity
          registrationFile {
            id
            name
            description
            image
            active
            x402Support
            supportedTrusts
            mcpEndpoint
            mcpVersion
            a2aEndpoint
            a2aVersion
            ens
            did
            mcpTools
            mcpPrompts
            mcpResources
            a2aSkills
            createdAt
          }
          feedback(where: ${b}) {
            value
            isRevoked
          }
        }
      }
    `;try{let w=((await this.query(v)).agents||[]).map(A=>{let R=A.feedback||[],C=null;if(R.length>0){let d=R.filter(u=>u.value!==null&&u.value!==void 0).map(u=>u.value);d.length>0&&(C=d.reduce((u,_)=>u+_,0)/d.length)}let{feedback:D,...U}=A;return{...U,averageValue:C}}),I=w;return c!==void 0&&(I=w.filter(A=>A.averageValue!==null&&A.averageValue>=c)),I}catch(x){throw new Error(`Subgraph reputation search failed: ${x}`)}}};var Ir=[{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"address",name:"to",type:"address"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"}],Cr=[{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}],O=[...Ir,...Cr,{inputs:[],name:"DOMAIN_SEPARATOR",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"eip712Domain",outputs:[{internalType:"bytes1",name:"fields",type:"bytes1"},{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"version",type:"string"},{internalType:"uint256",name:"chainId",type:"uint256"},{internalType:"address",name:"verifyingContract",type:"address"},{internalType:"bytes32",name:"salt",type:"bytes32"},{internalType:"uint256[]",name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"register",outputs:[{internalType:"uint256",name:"agentId",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"agentURI",type:"string"}],name:"register",outputs:[{internalType:"uint256",name:"agentId",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"agentURI",type:"string"},{components:[{internalType:"string",name:"metadataKey",type:"string"},{internalType:"bytes",name:"metadataValue",type:"bytes"}],internalType:"struct IdentityRegistryUpgradeable.MetadataEntry[]",name:"metadata",type:"tuple[]"}],name:"register",outputs:[{internalType:"uint256",name:"agentId",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"agentId",type:"uint256"},{internalType:"string",name:"key",type:"string"}],name:"getMetadata",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"agentId",type:"uint256"},{internalType:"string",name:"key",type:"string"},{internalType:"bytes",name:"value",type:"bytes"}],name:"setMetadata",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"agentId",type:"uint256"},{internalType:"string",name:"newURI",type:"string"}],name:"setAgentURI",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"agentId",type:"uint256"},{internalType:"address",name:"newWallet",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"setAgentWallet",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"agentId",type:"uint256"}],name:"unsetAgentWallet",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"agentId",type:"uint256"}],name:"getAgentWallet",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"agentId",type:"uint256"},{indexed:!1,internalType:"string",name:"agentURI",type:"string"},{indexed:!0,internalType:"address",name:"owner",type:"address"}],name:"Registered",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"agentId",type:"uint256"},{indexed:!1,internalType:"string",name:"newURI",type:"string"},{indexed:!0,internalType:"address",name:"updatedBy",type:"address"}],name:"URIUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"agentId",type:"uint256"},{indexed:!0,internalType:"string",name:"indexedMetadataKey",type:"string"},{indexed:!1,internalType:"string",name:"metadataKey",type:"string"},{indexed:!1,internalType:"bytes",name:"metadataValue",type:"bytes"}],name:"MetadataSet",type:"event"}],J=[{inputs:[],name:"getIdentityRegistry",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"agentId",type:"uint256"},{internalType:"int128",name:"value",type:"int128"},{internalType:"uint8",name:"valueDecimals",type:"uint8"},{internalType:"string",name:"tag1",type:"string"},{internalType:"string",name:"tag2",type:"string"},{internalType:"string",name:"endpoint",type:"string"},{internalType:"string",name:"feedbackURI",type:"string"},{internalType:"bytes32",name:"feedbackHash",type:"bytes32"}],name:"giveFeedback",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"agentId",type:"uint256"},{internalType:"uint64",name:"feedbackIndex",type:"uint64"}],name:"revokeFeedback",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"agentId",type:"uint256"},{internalType:"address",name:"clientAddress",type:"address"},{internalType:"uint64",name:"feedbackIndex",type:"uint64"},{internalType:"string",name:"responseURI",type:"string"},{internalType:"bytes32",name:"responseHash",type:"bytes32"}],name:"appendResponse",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"agentId",type:"uint256"},{internalType:"address",name:"clientAddress",type:"address"}],name:"getLastIndex",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"agentId",type:"uint256"},{internalType:"address",name:"clientAddress",type:"address"},{internalType:"uint64",name:"feedbackIndex",type:"uint64"}],name:"readFeedback",outputs:[{internalType:"int128",name:"value",type:"int128"},{internalType:"uint8",name:"valueDecimals",type:"uint8"},{internalType:"string",name:"tag1",type:"string"},{internalType:"string",name:"tag2",type:"string"},{internalType:"bool",name:"isRevoked",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"agentId",type:"uint256"},{internalType:"address[]",name:"clientAddresses",type:"address[]"},{internalType:"string",name:"tag1",type:"string"},{internalType:"string",name:"tag2",type:"string"}],name:"getSummary",outputs:[{internalType:"uint64",name:"count",type:"uint64"},{internalType:"int128",name:"summaryValue",type:"int128"},{internalType:"uint8",name:"summaryValueDecimals",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"agentId",type:"uint256"},{internalType:"address[]",name:"clientAddresses",type:"address[]"},{internalType:"string",name:"tag1",type:"string"},{internalType:"string",name:"tag2",type:"string"},{internalType:"bool",name:"includeRevoked",type:"bool"}],name:"readAllFeedback",outputs:[{internalType:"address[]",name:"clients",type:"address[]"},{internalType:"uint64[]",name:"feedbackIndexes",type:"uint64[]"},{internalType:"int128[]",name:"values",type:"int128[]"},{internalType:"uint8[]",name:"valueDecimals",type:"uint8[]"},{internalType:"string[]",name:"tag1s",type:"string[]"},{internalType:"string[]",name:"tag2s",type:"string[]"},{internalType:"bool[]",name:"revokedStatuses",type:"bool[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"agentId",type:"uint256"}],name:"getClients",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"agentId",type:"uint256"},{indexed:!0,internalType:"address",name:"clientAddress",type:"address"},{indexed:!1,internalType:"uint64",name:"feedbackIndex",type:"uint64"},{indexed:!1,internalType:"int128",name:"value",type:"int128"},{indexed:!1,internalType:"uint8",name:"valueDecimals",type:"uint8"},{indexed:!0,internalType:"string",name:"indexedTag1",type:"string"},{indexed:!1,internalType:"string",name:"tag1",type:"string"},{indexed:!1,internalType:"string",name:"tag2",type:"string"},{indexed:!1,internalType:"string",name:"endpoint",type:"string"},{indexed:!1,internalType:"string",name:"feedbackURI",type:"string"},{indexed:!1,internalType:"bytes32",name:"feedbackHash",type:"bytes32"}],name:"NewFeedback",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"agentId",type:"uint256"},{indexed:!0,internalType:"address",name:"clientAddress",type:"address"},{indexed:!0,internalType:"uint64",name:"feedbackIndex",type:"uint64"}],name:"FeedbackRevoked",type:"event"}],ab=[{inputs:[],name:"getIdentityRegistry",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"validatorAddress",type:"address"},{internalType:"uint256",name:"agentId",type:"uint256"},{internalType:"string",name:"requestUri",type:"string"},{internalType:"bytes32",name:"requestHash",type:"bytes32"}],name:"validationRequest",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"requestHash",type:"bytes32"},{internalType:"uint8",name:"response",type:"uint8"},{internalType:"string",name:"responseURI",type:"string"},{internalType:"bytes32",name:"responseHash",type:"bytes32"},{internalType:"string",name:"tag",type:"string"}],name:"validationResponse",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"requestHash",type:"bytes32"}],name:"getValidationStatus",outputs:[{internalType:"address",name:"validatorAddress",type:"address"},{internalType:"uint256",name:"agentId",type:"uint256"},{internalType:"uint8",name:"response",type:"uint8"},{internalType:"string",name:"tag",type:"string"},{internalType:"uint256",name:"lastUpdate",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"agentId",type:"uint256"},{internalType:"address[]",name:"validatorAddresses",type:"address[]"},{internalType:"string",name:"tag",type:"string"}],name:"getSummary",outputs:[{internalType:"uint64",name:"count",type:"uint64"},{internalType:"uint8",name:"avgResponse",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"agentId",type:"uint256"}],name:"getAgentValidations",outputs:[{internalType:"bytes32[]",name:"",type:"bytes32[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"validatorAddress",type:"address"}],name:"getValidatorRequests",outputs:[{internalType:"bytes32[]",name:"",type:"bytes32[]"}],stateMutability:"view",type:"function"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"validatorAddress",type:"address"},{indexed:!0,internalType:"uint256",name:"agentId",type:"uint256"},{indexed:!0,internalType:"bytes32",name:"requestHash",type:"bytes32"},{indexed:!1,internalType:"uint8",name:"response",type:"uint8"},{indexed:!1,internalType:"string",name:"responseURI",type:"string"},{indexed:!1,internalType:"bytes32",name:"responseHash",type:"bytes32"},{indexed:!1,internalType:"string",name:"tag",type:"string"}],name:"ValidationResponse",type:"event"}],Wn={1:{IDENTITY:"0x8004A169FB4a3325136EB29fA0ceB6D2e539a432",REPUTATION:"0x8004BAa17C55a88189AE136b182e5fdA19dE9b63"},11155111:{IDENTITY:"0x8004A818BFB912233c491871b3d84c89A494BD9e",REPUTATION:"0x8004B663056A597Dffe9eCcC1965A193B7388713"}},Q={1:"https://gateway.thegraph.com/api/7fd2e7d89ce3ef24cd0d4590298f0b2c/subgraphs/id/FV6RR6y13rsnCxBAicKuQEwDp8ioEGiNaWaZUmvr1F8k",11155111:"https://gateway.thegraph.com/api/00a452ad3cd1900273ea62c1bf283f93/subgraphs/id/6wQRC7geo9XYAhckfmfo8kbMRLeWU8KQd3XsJqFKmZLT"};var je=10n**38n;function At(i){let e=0;for(;e<i.length-1&&i[e]==="0";)e++;return i.slice(e)}function jn(i){let e=i.trim();if(e.length===0)throw new Error("Empty value");let t=e.toLowerCase();if(t==="nan"||t==="+nan"||t==="-nan")throw new Error("NaN not supported");if(t==="infinity"||t==="+infinity"||t==="-infinity")throw new Error("Infinity not supported");if(/[eE]/.test(e)){let o=e.match(/^([+-]?)(\d+(?:\.\d+)?)[eE]([+-]?\d+)$/);if(!o)throw new Error(`Invalid numeric string: ${i}`);let c=o[1]==="-"?"-":"",l=o[2],f=parseInt(o[3],10);if(!Number.isFinite(f))throw new Error(`Invalid exponent: ${i}`);let[p,g=""]=l.split("."),m=At((p||"0")+g),h=g.length,y=f-h;if(m==="0")return"0";if(y>=0)return c+m+"0".repeat(y);let b=m.length+y;if(b>0){let v=m.slice(0,b),x=m.slice(b);return c+v+"."+x}return c+"0."+"0".repeat(-b)+m}if(!/^([+-])?(\d+)(\.\d+)?$/.test(e))throw new Error(`Invalid numeric string: ${i}`);let n="",a=e;a[0]==="+"&&(a=a.slice(1)),a[0]==="-"&&(n="-",a=a.slice(1));let[r,s=""]=a.split(".");return r=At(r||"0"),s=s.replace(/0+$/,""),r==="0"&&s.length===0?"0":n+r+(s.length?"."+s:"")}function kr(i){return 10n**BigInt(i)}function Gn(i){let e;if(typeof i=="number"){if(!Number.isFinite(i))throw new Error("Non-finite number not supported");e=jn(i.toString())}else e=jn(i);if(e==="0")return{value:0n,valueDecimals:0,normalized:e};let t=e.startsWith("-"),n=t?e.slice(1):e,[a,r=""]=n.split("."),s=r,o=Math.min(s.length,18),c=s.slice(0,o),l=s.length>o?s.charCodeAt(o)-48:0,f=At((a||"0")+c.padEnd(o,"0"))||"0",p=BigInt(f);return s.length>o&&l>=5&&(p=p+1n),t&&(p=-p),p>je&&(p=je),p<-je&&(p=-je),{value:p,valueDecimals:o,normalized:e}}function Ge(i,e){let t=Number(kr(e));return Number(i)/t}var W=class{constructor(e,t,n){this.chainClient=t,this.computeResult=n,this.memo=new Map,this.hash=e}async waitMined(e={}){let t=JSON.stringify({timeoutMs:e.timeoutMs??null,confirmations:e.confirmations??null,throwOnRevert:e.throwOnRevert??null}),n=this.memo.get(t);if(n)return await n;let a=(async()=>{let r=await this.chainClient.waitForTransaction({hash:this.hash,timeoutMs:e.timeoutMs,confirmations:e.confirmations});if((e.throwOnRevert??!0)&&r.status==="reverted")throw new Error(`Transaction reverted: ${this.hash}`);let o=await this.computeResult(r);return{receipt:r,result:o}})();return this.memo.set(t,a),await a}async waitConfirmed(e={}){return await this.waitMined(e)}};var Tr=300000n,Ce=class{constructor(e,t,n,a,r){this.chainClient=e,this.ipfsClient=t,this.reputationRegistryAddress=n,this.identityRegistryAddress=a,this.subgraphClient=r}setSubgraphClientGetter(e,t){this.getSubgraphClientForChain=e,this.defaultChainId=t}setReputationRegistryAddress(e){this.reputationRegistryAddress=e}setIdentityRegistryAddress(e){this.identityRegistryAddress=e}prepareFeedbackFile(e,t){let n=new Date().toISOString(),a={};for(let[r,s]of Object.entries(e||{}))s!=null&&(a[r]=s);return a.createdAt||(a.createdAt=n),t&&Object.assign(a,t),a}async giveFeedback(e,t,n,a,r,s,o){let{tokenId:c,chainId:l}=B(e),f=await this.chainClient.ensureAddress();if(this.chainClient.chainId!==l)throw new Error(`Chain mismatch for giveFeedback: agentId=${e} targets chainId=${l}, but the SDK is configured for chainId=${this.chainClient.chainId}. Initialize SDK with chainId=${l} and the correct rpcUrl.`);let p;try{if(!this.reputationRegistryAddress)throw new Error("Reputation registry not available");let A=await this.chainClient.readContract({address:this.reputationRegistryAddress,abi:J,functionName:"getLastIndex",args:[BigInt(c),f]});p=Number(A)+1}catch(A){let R=A instanceof Error?A.message:String(A);throw new Error(`Failed to get feedback index: ${R}`)}let g=Gn(t),m=g.value,h=g.valueDecimals,y=n||"",b=a||"",v=r||"",x=!!(s&&Object.keys(s).length>0),T="",w="0x"+"00".repeat(32);if(this.ipfsClient&&x)try{let A=this.identityRegistryAddress||"0x0000000000000000000000000000000000000000",R=typeof s?.createdAt=="string"?s.createdAt:new Date().toISOString(),C={agentRegistry:`eip155:${l}:${A}`,agentId:c,clientAddress:`eip155:${l}:${f}`,createdAt:R,value:Number(m),valueDecimals:h,...y?{tag1:y}:{},...b?{tag2:b}:{},...v?{endpoint:v}:{},...s||{}};T=`ipfs://${await this.ipfsClient.addJson(C,"feedback.json")}`;let U=JSON.stringify(C,Object.keys(C).sort());w=this.chainClient.keccak256Utf8(U)}catch(A){let R=A instanceof Error?A.message:String(A);console.error(`[Feedback] Failed to store feedback file on IPFS: ${R}`)}else if(!this.ipfsClient&&x)throw new Error("feedbackFile provided, but no IPFS backend is configured (pinata/filecoinPin/node).");if(!this.reputationRegistryAddress)throw new Error("Reputation registry not available");let I;try{let A={gasLimit:Tr};I=await this.chainClient.writeContract({address:this.reputationRegistryAddress,abi:J,functionName:"giveFeedback",args:[BigInt(c),m,h,y,b,v,T,w],options:A})}catch(A){let R=A instanceof Error?A.message:String(A);throw new Error(`Failed to submit feedback to blockchain: ${R}`)}return new W(I,this.chainClient,async()=>{let A=kt(Tt(e,f,p)),R=s&&typeof s.text=="string"?s.text:void 0,C=s&&s.context&&typeof s.context=="object"&&!Array.isArray(s.context)?s.context:void 0,D=s&&s.proofOfPayment&&typeof s.proofOfPayment=="object"&&!Array.isArray(s.proofOfPayment)?s.proofOfPayment:void 0;return{id:[A.agentId,A.clientAddress,A.feedbackIndex],agentId:e,reviewer:f,txHash:I,value:Ge(m,h),tags:[y||void 0,b||void 0].filter(Boolean),endpoint:v||void 0,text:R,context:C,proofOfPayment:D,fileURI:T||void 0,createdAt:Math.floor(Date.now()/1e3),answers:[],isRevoked:!1,capability:s&&typeof s.capability=="string"?s.capability:void 0,name:s&&typeof s.name=="string"?s.name:void 0,skill:s&&typeof s.skill=="string"?s.skill:void 0,task:s&&typeof s.task=="string"?s.task:void 0}})}async getFeedback(e,t,n){return await this._getFeedbackFromBlockchain(e,t,n)}async _getFeedbackFromBlockchain(e,t,n){if(!this.reputationRegistryAddress)throw new Error("Reputation registry not available");let{tokenId:a}=B(e);try{let[r,s,o,c,l]=await this.chainClient.readContract({address:this.reputationRegistryAddress,abi:J,functionName:"readFeedback",args:[BigInt(a),t,BigInt(n)]}),f=[o,c].filter(m=>m&&m!==""),p,g;try{let m=await this.chainClient.getBlockNumber(),h=m>200000n?m-200000n:0n,y=await this.chainClient.getEventLogs({address:this.reputationRegistryAddress,abi:J,eventName:"NewFeedback",eventArgs:{agentId:BigInt(a),clientAddress:t},fromBlock:h,toBlock:m});for(let b of y)try{if(!b.topics||b.topics.length===0)continue;let v=Pe({abi:J,data:b.data,topics:b.topics});if(v.eventName!=="NewFeedback")continue;let x=v.args?.feedbackIndex;if(x!==void 0&&Number(x)===n){let T=v.args?.endpoint,w=v.args?.feedbackURI??v.args?.feedbackUri;typeof T=="string"&&T.length>0&&(p=T),typeof w=="string"&&w.length>0&&(g=w);break}}catch{}}catch{}if((!p||p==="")&&g&&this.ipfsClient&&g.startsWith("ipfs://"))try{let m=g.replace("ipfs://",""),y=(await this.ipfsClient.getJson(m))?.endpoint;typeof y=="string"&&y.length>0&&(p=y)}catch{}return{id:[e,t.toLowerCase(),n],agentId:e,reviewer:t,value:Ge(r,Number(s)),tags:f,endpoint:p,fileURI:g,createdAt:Math.floor(Date.now()/1e3),answers:[],isRevoked:!!l}}catch(r){let s=r instanceof Error?r.message:String(r);throw new Error(`Failed to read feedback from blockchain: ${s}`)}}async searchFeedback(e){let t=this.subgraphClient,n;if(e.agents&&e.agents.length>0&&this.getSubgraphClientForChain){let s=e.agents[0],o,c;s.includes(":")?(o=B(s).chainId,c=s,t=this.getSubgraphClientForChain(o),n=e.agents.map(f=>f.includes(":")?f:oe(o,parseInt(f,10)))):(o=this.defaultChainId,this.defaultChainId!==void 0?n=e.agents.map(l=>l.includes(":")?l:oe(this.defaultChainId,parseInt(l,10))):n=e.agents)}else n=e.agents;if(!t)return[];let a=await t.searchFeedback({agents:n||e.agents,reviewers:e.reviewers,tags:e.tags,capabilities:e.capabilities,skills:e.skills,tasks:e.tasks,names:e.names,minValue:e.minValue,maxValue:e.maxValue,includeRevoked:e.includeRevoked||!1},100,0,"createdAt","desc"),r=[];for(let s of a){let o=s.id,c=o.split(":"),l,f,p;c.length>=2?(l=`${c[0]}:${c[1]}`,f=c.length>2?c[2]:"",p=c.length>3?parseInt(c[3],10):1):(l=o,f="",p=1);let g=this._mapSubgraphFeedbackToModel(s,l,f,p);r.push(g)}return r}_mapSubgraphFeedbackToModel(e,t,n,a){let r=e.feedbackFile||{},o=(e.responses||[]).map(h=>({responder:h.responder,responseUri:h.responseUri,responseHash:h.responseHash,createdAt:h.createdAt?parseInt(h.createdAt,10):void 0})),c=[],l=e.tag1||r.tag1,f=e.tag2||r.tag2;(l||f)&&c.push(...this._hexBytes32ToTags(l||"",f||""));let p;r.proofOfPaymentFromAddress&&(p={fromAddress:r.proofOfPaymentFromAddress,toAddress:r.proofOfPaymentToAddress,chainId:r.proofOfPaymentChainId,txHash:r.proofOfPaymentTxHash});let g;if(r.context)try{g=typeof r.context=="string"?JSON.parse(r.context):r.context}catch{g={raw:r.context}}return{id:[t,n,a],agentId:t,reviewer:n,value:e.value!==void 0&&e.value!==null?Number(e.value):void 0,tags:c,endpoint:typeof e.endpoint=="string"?e.endpoint||void 0:typeof r.endpoint=="string"&&r.endpoint||void 0,text:r.text||void 0,context:g,proofOfPayment:p,fileURI:e.feedbackURI||e.feedbackUri||void 0,createdAt:e.createdAt?parseInt(e.createdAt,10):Math.floor(Date.now()/1e3),answers:o,isRevoked:e.isRevoked||!1,capability:r.capability||void 0,name:r.name||void 0,skill:r.skill||void 0,task:r.task||void 0}}_hexBytes32ToTags(e,t){let n=[];return e&&e.trim()!==""&&n.push(e),t&&t.trim()!==""&&n.push(t),n}async appendResponse(e,t,n,a,r){if(!this.reputationRegistryAddress)throw new Error("Reputation registry not available");let{tokenId:s}=B(e);try{let o=await this.chainClient.writeContract({address:this.reputationRegistryAddress,abi:J,functionName:"appendResponse",args:[BigInt(s),t,BigInt(n),a,r]});return new W(o,this.chainClient,async()=>({...await this.getFeedback(e,t,n),txHash:o}))}catch(o){let c=o instanceof Error?o.message:String(o);throw new Error(`Failed to append response: ${c}`)}}async revokeFeedback(e,t){if(!this.reputationRegistryAddress)throw new Error("Reputation registry not available");let{tokenId:n}=B(e),a=await this.chainClient.ensureAddress();try{let r=await this.chainClient.writeContract({address:this.reputationRegistryAddress,abi:J,functionName:"revokeFeedback",args:[BigInt(n),BigInt(t)]});return new W(r,this.chainClient,async()=>({...await this.getFeedback(e,a,t),txHash:r}))}catch(r){let s=r instanceof Error?r.message:String(r);throw new Error(`Failed to revoke feedback: ${s}`)}}async getReputationSummary(e,t,n){let a,r,s,o;if(e.includes(":")){let c=B(e);a=c.chainId,s=c.tokenId,r=e,this.getSubgraphClientForChain&&(o=this.getSubgraphClientForChain(a))}else a=this.defaultChainId,s=parseInt(e,10),this.defaultChainId!==void 0?r=oe(this.defaultChainId,s):r=e,o=this.subgraphClient;if(o)try{let c=await o.searchFeedback({agents:[r]},1e3,0,"createdAt","desc"),l=c;(t||n)&&(l=c.filter(p=>{let g=p.tag1||"",m=p.tag2||"";return t&&n?g===t&&m===n||g===n&&m===t:t?g===t||m===t:n?g===n||m===n:!0}));let f=l.filter(p=>!p.isRevoked);if(f.length>0){let p=f.map(g=>g.value).filter(g=>g!=null);if(p.length>0){let m=p.reduce((h,y)=>h+Number(y),0)/p.length;return{count:f.length,averageValue:Math.round(m*100)/100}}}return{count:0,averageValue:0}}catch{}if(!this.reputationRegistryAddress)throw new Error("Reputation registry not available");if(a!==void 0&&this.defaultChainId!==void 0&&a!==this.defaultChainId)throw new Error(`Blockchain reputation summary not supported for chain ${a}. SDK is configured for chain ${this.defaultChainId}. Use subgraph-based summary instead.`);try{let c=await this.chainClient.readContract({address:this.reputationRegistryAddress,abi:J,functionName:"getClients",args:[BigInt(s)]});if(!c||c.length===0)return{count:0,averageValue:0};let[l,f,p]=await this.chainClient.readContract({address:this.reputationRegistryAddress,abi:J,functionName:"getSummary",args:[BigInt(s),c,t||"",n||""]});return{count:Number(l),averageValue:Ge(f,Number(p))}}catch(c){let l=c instanceof Error?c.message:String(c);throw new Error(`Failed to get reputation summary: ${l}`)}}};var ke=class{constructor(e,t){this.subgraphClient=e,this.subgraphUrlOverrides=t}async getAgent(e){if(this.subgraphClient){let t=await this.subgraphClient.getAgentById(e);if(t)return t}throw new Error(`Agent ${e} not found. Subgraph required for querying.`)}async searchAgents(e={},t=50,n,a=[]){let r=e||{};if(r.chains==="all"&&(r.chains=this._getAllConfiguredChains()),r.chains&&Array.isArray(r.chains)&&r.chains.length>0){let p=new Set(this._getAllConfiguredChains());if([...new Set(r.chains)].filter(h=>!p.has(h)).length>0){let h=r.chains.filter(y=>p.has(y));if(h.length===0)return{items:[],nextCursor:void 0,meta:{chains:r.chains,successfulChains:[],failedChains:r.chains,totalResults:0,timing:{totalMs:0}}};r.chains=h}if(r.chains.length>1)return this._searchAgentsAcrossChains(r,a,t,n)}if(!this.subgraphClient)throw new Error("Subgraph client required for agent search");let s=n?parseInt(n,10):0,o=await this.subgraphClient.searchAgents(r,t+1,s);o=this._filterAgents(o,r);let c=o.length>t,l=c?o.slice(0,t):o,f=c?String(s+t):void 0;return{items:l,nextCursor:f}}_filterAgents(e,t){let{name:n,mcp:a,a2a:r,ens:s,did:o,walletAddress:c,supportedTrust:l,a2aSkills:f,mcpTools:p,mcpPrompts:g,mcpResources:m,active:h,x402support:y,chains:b}=t;return e.filter(v=>{if(n&&!v.name?.toLowerCase().includes(n.toLowerCase())||a!==void 0&&v.mcp!==a||r!==void 0&&v.a2a!==r||s&&v.ens&&$(v.ens)!==$(s)||o&&v.did!==o||c&&v.walletAddress&&$(v.walletAddress)!==$(c))return!1;if(l&&l.length>0){let x=v.supportedTrusts||[];if(!l.some(T=>x.includes(T)))return!1}if(f&&f.length>0){let x=v.a2aSkills||[];if(!f.some(T=>x.includes(T)))return!1}if(p&&p.length>0){let x=v.mcpTools||[];if(!p.some(T=>x.includes(T)))return!1}if(g&&g.length>0){let x=v.mcpPrompts||[];if(!g.some(T=>x.includes(T)))return!1}if(m&&m.length>0){let x=v.mcpResources||[];if(!m.some(T=>x.includes(T)))return!1}return!(h!==void 0&&v.active!==h||y!==void 0&&v.x402support!==y||b&&Array.isArray(b)&&b.length>0&&!b.includes(v.chainId))})}_getAllConfiguredChains(){let e=[];this.subgraphUrlOverrides&&e.push(...Object.keys(this.subgraphUrlOverrides).map(Number));for(let t of Object.keys(Q)){let n=Number(t);e.includes(n)||e.push(n)}return e.sort((t,n)=>t-n)}_getSubgraphClientForChain(e){let t;return this.subgraphUrlOverrides&&e in this.subgraphUrlOverrides?t=this.subgraphUrlOverrides[e]:e in Q&&(t=Q[e]),t?new ae(t):null}_parseMultiChainCursor(e){if(!e)return{_global_offset:0};try{let t=JSON.parse(e);return{_global_offset:typeof t._global_offset=="number"?t._global_offset:0}}catch{let t=parseInt(e,10);return{_global_offset:isNaN(t)?0:t}}}_createMultiChainCursor(e){return JSON.stringify({_global_offset:e})}_applyCrossChainFilters(e,t){return this._filterAgents(e,t)}_deduplicateAgentsCrossChain(e,t){return e}_sortAgentsCrossChain(e,t){if(!t||t.length===0)return e;let n=t[0].split(":"),a=n[0]||"createdAt",r=n[1]||"desc";return[...e].sort((s,o)=>{let c,l;switch(a){case"createdAt":c=s.extras?.createdAt||0,l=o.extras?.createdAt||0;break;case"name":c=s.name?.toLowerCase()||"",l=o.name?.toLowerCase()||"";break;case"chainId":c=s.chainId,l=o.chainId;break;default:c=s.extras?.[a]||0,l=o.extras?.[a]||0}return c<l?r==="asc"?-1:1:c>l?r==="asc"?1:-1:0})}async _searchAgentsAcrossChains(e,t,n,a,r=3e4){let s=Date.now(),o=e.chains&&Array.isArray(e.chains)&&e.chains.length>0?e.chains:this._getAllConfiguredChains();if(o.length===0)return{items:[],nextCursor:void 0,meta:{chains:[],successfulChains:[],failedChains:[],totalResults:0,timing:{totalMs:0}}};let l=this._parseMultiChainCursor(a)._global_offset,f=async C=>{try{let D=this._getSubgraphClientForChain(C);if(!D)return{chainId:C,status:"unavailable",agents:[],error:`No subgraph configured for chain ${C}`};let U={...e};delete U.chains;let d=await D.searchAgents(U,n*3,0);return{chainId:C,status:"success",agents:d}}catch(D){return{chainId:C,status:"error",agents:[],error:D instanceof Error?D.message:String(D)}}},p=o.map(C=>Promise.race([f(C),new Promise(D=>{setTimeout(()=>{D({chainId:C,status:"timeout",agents:[]})},r)})])),g=await Promise.allSettled(p),m=[],h=[],y=[];for(let C=0;C<g.length;C++){let D=g[C],U=o[C];if(D.status==="fulfilled"){let d=D.value;d.status==="success"?(h.push(U),m.push(...d.agents)):y.push(U)}else y.push(U)}if(h.length===0){let C=Date.now()-s;return{items:[],nextCursor:void 0,meta:{chains:o,successfulChains:[],failedChains:y,totalResults:0,timing:{totalMs:C}}}}let b=this._applyCrossChainFilters(m,e),v=this._deduplicateAgentsCrossChain(b,e),x=this._sortAgentsCrossChain(v,t),T=l,w=T+n,I=x.slice(T,w),A=x.length>w?this._createMultiChainCursor(w):void 0,R=Date.now()-s;return{items:I,nextCursor:A,meta:{chains:o,successfulChains:h,failedChains:y,totalResults:x.length,timing:{totalMs:R,averagePerChainMs:o.length>0?Math.floor(R/o.length):void 0}}}}async searchAgentsByReputation(e,t,n,a,r,s,o,c,l=!1,f=50,p=0,g=["createdAt:desc"],m){let h;if(m==="all"?h=this._getAllConfiguredChains():m&&Array.isArray(m)&&m.length>0&&(h=m),h&&h.length>0)return this._searchAgentsByReputationAcrossChains(e,t,n,a,r,s,o,c,l,f,p,g,h);if(!this.subgraphClient)throw new Error("Subgraph client required for reputation search");let y="createdAt",b="desc";if(g&&g.length>0){let v=g[0].split(":");y=v[0]||y,b=v[1]||b}try{let x=(await this.subgraphClient.searchAgentsByReputation(e,t,n,a,r,s,o,c,l,f,p,y,b)).map(w=>{let I=w.registrationFile;return{chainId:parseInt(w.chainId?.toString()||"0",10),agentId:w.id||"",name:I?.name||"",image:I?.image||void 0,description:I?.description||"",owners:w.owner?[$(w.owner)]:[],operators:(w.operators||[]).map(A=>$(A)),mcp:!!I?.mcpEndpoint,a2a:!!I?.a2aEndpoint,ens:I?.ens||void 0,did:I?.did||void 0,walletAddress:w.agentWallet?$(w.agentWallet):void 0,supportedTrusts:I?.supportedTrusts||[],a2aSkills:I?.a2aSkills||[],mcpTools:I?.mcpTools||[],mcpPrompts:I?.mcpPrompts||[],mcpResources:I?.mcpResources||[],active:I?.active??!1,x402support:I?.x402support??!1,extras:{averageValue:w.averageValue!==null?w.averageValue:void 0}}}),T=x.length===f?String(p+x.length):void 0;return{items:x,nextCursor:T}}catch(v){throw new Error(`Failed to search agents by reputation: ${v}`)}}async _searchAgentsByReputationAcrossChains(e,t,n,a,r,s,o,c,l=!1,f=50,p=0,g=["createdAt:desc"],m=[],h=3e4){let y=Date.now();if(m.length===0)return{items:[],nextCursor:void 0,meta:{chains:[],successfulChains:[],failedChains:[],totalResults:0,timing:{totalMs:0}}};let b="createdAt",v="desc";if(g&&g.length>0){let u=g[0].split(":");b=u[0]||b,v=u[1]||v}let x=async u=>{try{let _=this._getSubgraphClientForChain(u);if(!_)return{chainId:u,status:"unavailable",agents:[],error:`No subgraph configured for chain ${u}`};try{let k=await _.searchAgentsByReputation(e,t,n,a,r,s,o,c,l,f*3,0,b,v);return{chainId:u,status:"success",agents:k}}catch(k){return{chainId:u,status:"error",agents:[],error:k instanceof Error?k.message:String(k)}}}catch(_){return{chainId:u,status:"error",agents:[],error:_ instanceof Error?_.message:String(_)}}},T=m.map(u=>Promise.race([x(u),new Promise(_=>{setTimeout(()=>{_({chainId:u,status:"timeout",agents:[]})},h)})])),w=await Promise.allSettled(T),I=[],A=[],R=[];for(let u=0;u<w.length;u++){let _=w[u],k=m[u];if(_.status==="fulfilled"){let F=_.value;F.status==="success"?(A.push(k),I.push(...F.agents)):R.push(k)}else R.push(k)}if(A.length===0){let u=Date.now()-y;return{items:[],nextCursor:void 0,meta:{chains:m,successfulChains:[],failedChains:R,totalResults:0,timing:{totalMs:u}}}}let C=I.map(u=>{let _=u.registrationFile||{};return{chainId:parseInt(u.chainId?.toString()||"0",10),agentId:u.id||"",name:_?.name||"",image:_?.image||void 0,description:_?.description||"",owners:u.owner?[$(u.owner)]:[],operators:(u.operators||[]).map(k=>$(k)),mcp:!!_?.mcpEndpoint,a2a:!!_?.a2aEndpoint,ens:_?.ens||void 0,did:_?.did||void 0,walletAddress:u.agentWallet?$(u.agentWallet):void 0,supportedTrusts:_?.supportedTrusts||[],a2aSkills:_?.a2aSkills||[],mcpTools:_?.mcpTools||[],mcpPrompts:_?.mcpPrompts||[],mcpResources:_?.mcpResources||[],active:_?.active??!1,x402support:_?.x402support??!1,extras:{averageValue:u.averageValue!==null?u.averageValue:void 0}}});C.sort((u,_)=>{let k=u.extras?.averageValue??0,F=_.extras?.averageValue??0;return k!==F?F-k:u.chainId!==_.chainId?u.chainId-_.chainId:u.agentId.localeCompare(_.agentId)});let D=C.slice(p,p+f),U=C.length>p+f?String(p+f):void 0,d=Date.now()-y;return{items:D,nextCursor:U,meta:{chains:m,successfulChains:A,failedChains:R,totalResults:C.length,timing:{totalMs:d,averagePerChainMs:m.length>0?Math.floor(d/m.length):void 0}}}}};function Er(i,e,t=1){return{jsonrpc:"2.0",method:i,id:t,params:e||{}}}var Te=class{constructor(e=5e3){this.timeout=e}async fetchMcpCapabilities(e){if(!e.startsWith("http://")&&!e.startsWith("https://"))return null;let t=await this._fetchViaJsonRpc(e);if(t)return t;try{let n=`${e}/agentcard.json`,a=await fetch(n,{signal:AbortSignal.timeout(this.timeout),redirect:"follow"});if(a.ok){let r=await a.json(),s={mcpTools:this._extractList(r,"tools"),mcpPrompts:this._extractList(r,"prompts"),mcpResources:this._extractList(r,"resources")};if(s.mcpTools?.length||s.mcpPrompts?.length||s.mcpResources?.length)return s}}catch{}return null}async _fetchViaJsonRpc(e){try{let[t,n,a]=await Promise.all([this._jsonRpcCall(e,"tools/list"),this._jsonRpcCall(e,"resources/list"),this._jsonRpcCall(e,"prompts/list")]),r=[],s=[],o=[];if(t&&typeof t=="object"&&"tools"in t){let c=t.tools;if(Array.isArray(c))for(let l of c)l&&typeof l=="object"&&"name"in l&&r.push(l.name)}if(n&&typeof n=="object"&&"resources"in n){let c=n.resources;if(Array.isArray(c))for(let l of c)l&&typeof l=="object"&&"name"in l&&s.push(l.name)}if(a&&typeof a=="object"&&"prompts"in a){let c=a.prompts;if(Array.isArray(c))for(let l of c)l&&typeof l=="object"&&"name"in l&&o.push(l.name)}if(r.length||s.length||o.length)return{mcpTools:r.length>0?r:void 0,mcpResources:s.length>0?s:void 0,mcpPrompts:o.length>0?o:void 0}}catch{}return null}async _jsonRpcCall(e,t,n){try{let a=Er(t,n),r=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json, text/event-stream"},body:JSON.stringify(a),signal:AbortSignal.timeout(this.timeout)});if(!r.ok)return null;let s=r.headers.get("content-type")||"",o=await r.text();if(s.includes("text/event-stream")||o.includes("event: message")){let l=this._parseSseResponse(o);if(l)return l}let c=JSON.parse(o);return c.result!==void 0?c.result:c}catch{return null}}_parseSseResponse(e){try{let t=e.split(`
`);for(let n of t)if(n.startsWith("data: ")){let a=n.slice(6),r=JSON.parse(a);return r.result!==void 0?r.result:r}}catch{}return null}async fetchA2aCapabilities(e){try{if(!e.startsWith("http://")&&!e.startsWith("https://"))return null;let t=[e,`${e}/.well-known/agent-card.json`,`${e.replace(/\/$/,"")}/.well-known/agent-card.json`,`${e}/.well-known/agent.json`,`${e.replace(/\/$/,"")}/.well-known/agent.json`,`${e}/agentcard.json`];for(let n of t)try{let a=await fetch(n,{signal:AbortSignal.timeout(this.timeout),redirect:"follow"});if(a.ok){let r=await a.json(),s=this._extractA2aSkills(r);if(s&&s.length>0)return{a2aSkills:s}}}catch{continue}}catch{}return null}_extractA2aSkills(e){let t=[];if("skills"in e&&Array.isArray(e.skills)){for(let r of e.skills)if(r&&typeof r=="object"&&"tags"in r){let s=r.tags;if(Array.isArray(s))for(let o of s)typeof o=="string"&&t.push(o)}}let n=new Set,a=[];for(let r of t)n.has(r)||(n.add(r),a.push(r));return a}_extractList(e,t){let n=[];if(t in e&&Array.isArray(e[t])){for(let a of e[t])if(typeof a=="string")n.push(a);else if(a&&typeof a=="object"){let r=["name","id","identifier","title"];for(let s of r)if(s in a&&typeof a[s]=="string"){n.push(a[s]);break}}}if(n.length===0){let a=["capabilities","abilities","features"];for(let r of a)if(r in e&&e[r]&&typeof e[r]=="object"){if(t in e[r]&&Array.isArray(e[r][t])){for(let s of e[r][t])if(typeof s=="string")n.push(s);else if(s&&typeof s=="object"){let o=["name","id","identifier","title"];for(let c of o)if(c in s&&typeof s[c]=="string"){n.push(s[c]);break}}}if(n.length>0)break}}return n}};var Sr={metadata:{version:"0.8.0",description:"Comprehensive collection of all OASF skills",identifier_format:"Slash-separated path matching file structure (e.g., 'natural_language_processing/summarization')",total_skills:136},categories:{caption:"Skills",description:"A structured view of distinct abilities, defining the capabilities within the Open Agentic Schema Framework.",name:"skill_categories",attributes:{natural_language_processing:{caption:"Natural Language Processing",description:"Natural Language Processing (NLP) tasks are the application of computational techniques to the analysis and synthesis of natural language and speech."},images_computer_vision:{caption:"Images / Computer Vision",description:"Images / Computer Vision tasks are the application of computational techniques to the analysis and synthesis of images."},audio:{caption:"Audio",description:"Audio tasks are the application of computational techniques to the analysis and synthesis of audio data."},tabular_text:{caption:"Tabular / Text",description:"Tabular / Text tasks are the application of computational techniques to the analysis and synthesis of tabular data and text."},analytical_skills:{caption:"Analytical skills",description:"Analytical skills encompass a range of capabilities that involve logical reasoning, problem-solving, and the ability to process and interpret complex data."},retrieval_augmented_generation:{caption:"Retrieval Augmented Generation",description:"Retrieval Augmented Generation tasks are the application of computational techniques to the analysis and synthesis of data from multiple modalities."},multi_modal:{caption:"Multi-modal",description:"Multi-modal tasks are the application of computational techniques to the analysis and synthesis of data from multiple modalities."},security_privacy:{caption:"Security & Privacy",description:"Skills focused on identifying, assessing, and mitigating security vulnerabilities, threats, sensitive data exposure, and privacy risks."},data_engineering:{caption:"Data Engineering",description:"Skills for preparing, transforming, validating, and structuring data assets including cleaning, schema inference, and feature engineering."},agent_orchestration:{caption:"Agent Orchestration",description:"Skills enabling coordination across multiple agents: planning, task decomposition, delegation, and collaboration protocols."},evaluation_monitoring:{caption:"Evaluation & Monitoring",description:"Skills for assessing performance, generating tests, executing benchmarks, detecting anomalies, and tracking output quality over time."},devops_mlops:{caption:"DevOps / MLOps",description:"Skills for provisioning infrastructure, managing deployments, CI/CD workflows, model/version lifecycle, and operational observability."},governance_compliance:{caption:"Governance & Compliance",description:"Skills addressing regulatory alignment, policy mapping, auditing, risk classification, and ensuring responsible operations."},tool_interaction:{caption:"Tool Interaction",description:"Skills for understanding APIs, integrating tools, orchestrating workflows, and using external systems effectively."},advanced_reasoning_planning:{caption:"Advanced Reasoning & Planning",description:"Skills for multi-step strategic reasoning, long-horizon planning, hypothesis formation, and structured thought processes."}}},skills:{"advanced_reasoning_planning/advanced_reasoning_planning":{caption:"Advanced Reasoning & Planning",category:"advanced_reasoning_planning",extends:"base_skill",name:"advanced_reasoning_planning",attributes:{}},"advanced_reasoning_planning/chain_of_thought_structuring":{caption:"Chain-of-Thought Structuring",description:"Organizing intermediate reasoning steps into clear, justifiable sequences.",extends:"advanced_reasoning_planning",name:"chain_of_thought_structuring",attributes:{}},"advanced_reasoning_planning/hypothesis_generation":{caption:"Hypothesis Generation",description:"Proposing plausible explanations or solution pathways for incomplete or uncertain scenarios.",extends:"advanced_reasoning_planning",name:"hypothesis_generation",attributes:{}},"advanced_reasoning_planning/long_horizon_reasoning":{caption:"Long-Horizon Reasoning",description:"Maintaining coherent reasoning chains over extended sequences of steps or time.",extends:"advanced_reasoning_planning",name:"long_horizon_reasoning",attributes:{}},"advanced_reasoning_planning/strategic_planning":{caption:"Strategic Planning",description:"Formulating high-level multi-phase strategies aligned with long-term objectives.",extends:"advanced_reasoning_planning",name:"strategic_planning",attributes:{}},"agent_orchestration/agent_coordination":{caption:"Agent Coordination",description:"Managing real-time collaboration and state synchronization among agents.",extends:"agent_orchestration",name:"agent_coordination",attributes:{}},"agent_orchestration/agent_orchestration":{caption:"Agent Orchestration",category:"agent_orchestration",extends:"base_skill",name:"agent_orchestration",attributes:{}},"agent_orchestration/multi_agent_planning":{caption:"Multi-Agent Planning",description:"Coordinating plans across multiple agents, resolving dependencies and optimizing sequencing.",extends:"agent_orchestration",name:"multi_agent_planning",attributes:{}},"agent_orchestration/negotiation_resolution":{caption:"Negotiation & Resolution",description:"Facilitating negotiation, conflict handling, and consensus-building between agents.",extends:"agent_orchestration",name:"negotiation_resolution",attributes:{}},"agent_orchestration/role_assignment":{caption:"Role Assignment",description:"Allocating responsibilities to agents based on capabilities and task requirements.",extends:"agent_orchestration",name:"role_assignment",attributes:{}},"agent_orchestration/task_decomposition":{caption:"Task Decomposition",description:"Breaking complex objectives into structured, atomic subtasks.",extends:"agent_orchestration",name:"task_decomposition",attributes:{}},"analytical_skills/analytical_skills":{caption:"Analytical Skills",category:"analytical_skills",extends:"base_skill",name:"analytical_skills",attributes:{}},"analytical_skills/coding_skills/code_optimization":{caption:"Code Refactoring and Optimization",description:"Rewriting and optimizing existing code through refactoring techniques.",extends:"coding_skills",name:"code_optimization",attributes:{}},"analytical_skills/coding_skills/code_templates":{caption:"Code Template Filling",description:"Automatically filling in code templates with appropriate content.",extends:"coding_skills",name:"code_templates",attributes:{}},"analytical_skills/coding_skills/code_to_docstrings":{caption:"Code to Docstrings",description:"Generating natural language documentation for code segments.",extends:"coding_skills",name:"code_to_docstrings",attributes:{}},"analytical_skills/coding_skills/coding_skills":{caption:"Coding Skills",description:"Capabilities for code generation, documentation, and optimization.",extends:"analytical_skills",name:"coding_skills",attributes:{}},"analytical_skills/coding_skills/text_to_code":{caption:"Text to Code",description:"Translating natural language instructions into executable code.",extends:"coding_skills",name:"text_to_code",attributes:{}},"analytical_skills/mathematical_reasoning/geometry":{caption:"Geometry",description:"Solving geometric problems and spatial reasoning tasks.",extends:"mathematical_reasoning",name:"geometry",attributes:{}},"analytical_skills/mathematical_reasoning/math_word_problems":{caption:"Math Word Problems",description:"Solving mathematical exercises presented in natural language format.",extends:"mathematical_reasoning",name:"math_word_problems",attributes:{}},"analytical_skills/mathematical_reasoning/mathematical_reasoning":{caption:"Mathematical Reasoning",description:"Capabilities for solving mathematical problems and proving theorems.",extends:"analytical_skills",name:"mathematical_reasoning",attributes:{}},"analytical_skills/mathematical_reasoning/pure_math_operations":{caption:"Pure Mathematical Operations",description:"Executing pure mathematical operations, such as arithmetic calculations.",extends:"mathematical_reasoning",name:"pure_math_operations",attributes:{}},"analytical_skills/mathematical_reasoning/theorem_proving":{caption:"Automated Theorem Proving",description:"Proving mathematical theorems using computational methods.",extends:"mathematical_reasoning",name:"theorem_proving",attributes:{}},"audio/audio":{caption:"Audio Processing",category:"audio",extends:"base_skill",name:"audio",attributes:{}},"audio/audio_classification":{caption:"Audio Classification",description:"Assigning labels or classes to audio content based on its characteristics.",extends:"audio",name:"audio_classification",attributes:{}},"audio/audio_to_audio":{caption:"Audio to Audio",description:"Transforming audio through various manipulations including cutting, filtering, and mixing.",extends:"audio",name:"audio_to_audio",attributes:{}},"data_engineering/data_cleaning":{caption:"Data Cleaning",description:"Detecting and correcting errors, inconsistencies, and missing values to improve dataset quality.",extends:"data_engineering",name:"data_cleaning",attributes:{}},"data_engineering/data_engineering":{caption:"Data Engineering",category:"data_engineering",extends:"base_skill",name:"data_engineering",attributes:{}},"data_engineering/data_quality_assessment":{caption:"Data Quality Assessment",description:"Evaluating datasets for completeness, validity, consistency, and timeliness.",extends:"data_engineering",name:"data_quality_assessment",attributes:{}},"data_engineering/data_transformation_pipeline":{caption:"Data Transformation Pipeline",description:"Designing or explaining multi-step sequences that extract, transform, and load datasets.",extends:"data_engineering",name:"data_transformation_pipeline",attributes:{}},"data_engineering/feature_engineering":{caption:"Feature Engineering",description:"Constructing informative transformed variables to improve downstream model performance.",extends:"data_engineering",name:"feature_engineering",attributes:{}},"data_engineering/schema_inference":{caption:"Schema Inference",description:"Deriving structural metadata (fields, types, relationships) from raw or semi-structured data.",extends:"data_engineering",name:"schema_inference",attributes:{}},"devops_mlops/ci_cd_configuration":{caption:"CI/CD Configuration",description:"Designing or modifying continuous integration and delivery workflows and pipelines.",extends:"devops_mlops",name:"ci_cd_configuration",attributes:{}},"devops_mlops/deployment_orchestration":{caption:"Deployment Orchestration",description:"Coordinating multi-stage application or model deployments, rollbacks, and version transitions.",extends:"devops_mlops",name:"deployment_orchestration",attributes:{}},"devops_mlops/devops_mlops":{caption:"DevOps / MLOps",category:"devops_mlops",extends:"base_skill",name:"devops_mlops",attributes:{}},"devops_mlops/infrastructure_provisioning":{caption:"Infrastructure Provisioning",description:"Defining or explaining steps to allocate and configure compute, storage, and networking resources.",extends:"devops_mlops",name:"infrastructure_provisioning",attributes:{}},"devops_mlops/model_versioning":{caption:"Model Versioning",description:"Tracking, promoting, and documenting different iterations of models and their artifacts.",extends:"devops_mlops",name:"model_versioning",attributes:{}},"devops_mlops/monitoring_alerting":{caption:"Monitoring & Alerting",description:"Configuring and interpreting telemetry signals, thresholds, and alerts for operational health.",extends:"devops_mlops",name:"monitoring_alerting",attributes:{}},"evaluation_monitoring/anomaly_detection":{caption:"Anomaly Detection",description:"Identifying unusual patterns, drifts, or deviations in data or model outputs.",extends:"evaluation_monitoring",name:"anomaly_detection",attributes:{}},"evaluation_monitoring/benchmark_execution":{caption:"Benchmark Execution",description:"Running standardized benchmarks or evaluation suites and summarizing results.",extends:"evaluation_monitoring",name:"benchmark_execution",attributes:{}},"evaluation_monitoring/evaluation_monitoring":{caption:"Evaluation & Monitoring",category:"evaluation_monitoring",extends:"base_skill",name:"evaluation_monitoring",attributes:{}},"evaluation_monitoring/performance_monitoring":{caption:"Performance Monitoring",description:"Tracking latency, throughput, resource utilization, and service reliability over time.",extends:"evaluation_monitoring",name:"performance_monitoring",attributes:{}},"evaluation_monitoring/quality_evaluation":{caption:"Quality Evaluation",description:"Assessing outputs for accuracy, relevance, coherence, safety, and style adherence.",extends:"evaluation_monitoring",name:"quality_evaluation",attributes:{}},"evaluation_monitoring/test_case_generation":{caption:"Test Case Generation",description:"Creating targeted test inputs or scenarios to probe system behavior and edge cases.",extends:"evaluation_monitoring",name:"test_case_generation",attributes:{}},"governance_compliance/audit_trail_summarization":{caption:"Audit Trail Summarization",description:"Condensing system event or transaction logs into human-readable compliance or oversight summaries.",extends:"governance_compliance",name:"audit_trail_summarization",attributes:{}},"governance_compliance/compliance_assessment":{caption:"Compliance Assessment",description:"Evaluating processes or outputs against defined standards (e.g., GDPR, HIPAA) and identifying gaps.",extends:"governance_compliance",name:"compliance_assessment",attributes:{}},"governance_compliance/governance_compliance":{caption:"Governance & Compliance",category:"governance_compliance",extends:"base_skill",name:"governance_compliance",attributes:{}},"governance_compliance/policy_mapping":{caption:"Policy Mapping",description:"Translating organizational or regulatory policies into structured, enforceable rules or checklists.",extends:"governance_compliance",name:"policy_mapping",attributes:{}},"governance_compliance/risk_classification":{caption:"Risk Classification",description:"Categorizing potential operational or data-related risks by impact and likelihood for prioritization.",extends:"governance_compliance",name:"risk_classification",attributes:{}},"images_computer_vision/depth_estimation":{caption:"Depth Estimation",description:"Predicting the distance or depth of objects within a scene from a single image or multiple images.",extends:"images_computer_vision",name:"depth_estimation",attributes:{}},"images_computer_vision/image_classification":{caption:"Image Classification",description:"Assigning labels or categories to images based on their visual content.",extends:"images_computer_vision",name:"image_classification",attributes:{}},"images_computer_vision/image_feature_extraction":{caption:"Image Module Extraction",description:"Identifying and isolating key characteristics or patterns from an image to aid in tasks like classification or recognition.",extends:"images_computer_vision",name:"image_feature_extraction",attributes:{}},"images_computer_vision/image_generation":{caption:"Image Generation",description:"Creating new images from learned patterns or data using machine learning models.",extends:"images_computer_vision",name:"image_generation",attributes:{}},"images_computer_vision/image_segmentation":{caption:"Image Segmentation",description:"Assigning labels or categories to images based on their visual content.",extends:"images_computer_vision",name:"image_segmentation",attributes:{}},"images_computer_vision/image_to_3d":{caption:"Image-to-3D",description:"The process of converting a 2D image into a 3D representation or model, often by inferring depth and spatial relationships.",extends:"images_computer_vision",name:"image_to_3d",attributes:{}},"images_computer_vision/image_to_image":{caption:"Image-to-Image",description:"Transforming one image into another using a learned mapping, often for tasks like style transfer, colorization, or image enhancement.",extends:"images_computer_vision",name:"image_to_image",attributes:{}},"images_computer_vision/images_computer_vision":{caption:"Images / Computer Vision",category:"images_computer_vision",extends:"base_skill",name:"images_computer_vision",attributes:{}},"images_computer_vision/keypoint_detection":{caption:"Keypoint Detection",description:"Identifying and locating specific points of interest within an image or object.",extends:"images_computer_vision",name:"keypoint_detection",attributes:{}},"images_computer_vision/mask_generation":{caption:"Mask Generation",description:"Producing segmented regions in an image to highlight specific areas or objects, typically represented as separate layers or overlays.",extends:"images_computer_vision",name:"mask_generation",attributes:{}},"images_computer_vision/object_detection":{caption:"Object Detection",description:"Identifying and locating specific objects within an image or video, often by drawing bounding boxes around them.",extends:"images_computer_vision",name:"object_detection",attributes:{}},"images_computer_vision/video_classification":{caption:"Video Classification",description:"Assigning labels or categories to entire videos or segments based on their visual and audio content.",extends:"images_computer_vision",name:"video_classification",attributes:{}},"multi_modal/any_to_any":{caption:"Any to Any Transformation",description:"Converting between any supported modalities (text, image, audio, video, or 3D).",extends:"multi_modal",name:"any_to_any",attributes:{}},"multi_modal/audio_processing/audio_processing":{caption:"Audio Processing",description:"Capabilities for processing audio, including speech synthesis and recognition.",extends:"multi_modal",name:"audio_processing",attributes:{}},"multi_modal/audio_processing/speech_recognition":{caption:"Automatic Speech Recognition",description:"Converting spoken language into written text.",extends:"audio_processing",name:"speech_recognition",attributes:{}},"multi_modal/audio_processing/text_to_speech":{caption:"Text to Speech",description:"Converting text into natural-sounding speech audio.",extends:"audio_processing",name:"text_to_speech",attributes:{}},"multi_modal/image_processing/image_processing":{caption:"Image Processing",description:"Capabilities for processing and generating images from various inputs and generating textual descriptions of visual content.",extends:"multi_modal",name:"image_processing",attributes:{}},"multi_modal/image_processing/image_to_text":{caption:"Image to Text",description:"Generating textual descriptions or captions for images.",extends:"image_processing",name:"image_to_text",attributes:{}},"multi_modal/image_processing/text_to_3d":{caption:"Text to 3D",description:"Generating 3D objects or scenes based on textual descriptions.",extends:"image_processing",name:"text_to_3d",attributes:{}},"multi_modal/image_processing/text_to_image":{caption:"Text to Image",description:"Generating images based on textual descriptions or instructions.",extends:"image_processing",name:"text_to_image",attributes:{}},"multi_modal/image_processing/text_to_video":{caption:"Text to Video",description:"Generating video content based on textual descriptions or instructions.",extends:"image_processing",name:"text_to_video",attributes:{}},"multi_modal/image_processing/visual_qa":{caption:"Visual Question Answering",description:"Answering questions about images using natural language.",extends:"image_processing",name:"visual_qa",attributes:{}},"multi_modal/multi_modal":{caption:"Multi Modal",category:"multi_modal",description:"Capabilities for transforming content between different modalities (text, image, audio, video, or 3D).",extends:"base_skill",name:"multi_modal",attributes:{}},"natural_language_processing/analytical_reasoning/analytical_reasoning":{caption:"Analytical and Logical Reasoning",description:"Capabilities for performing logical analysis, inference, and problem-solving tasks.",extends:"natural_language_processing",name:"analytical_reasoning",attributes:{}},"natural_language_processing/analytical_reasoning/fact_verification":{caption:"Fact and Claim Verification",description:"Verifying facts and claims given a reference text.",extends:"analytical_reasoning",name:"fact_verification",attributes:{}},"natural_language_processing/analytical_reasoning/inference_deduction":{caption:"Inference and Deduction",description:"Making logical inferences based on provided information.",extends:"analytical_reasoning",name:"inference_deduction",attributes:{}},"natural_language_processing/analytical_reasoning/problem_solving":{caption:"Problem Solving",description:"Assisting with solving problems by generating potential solutions or strategies.",extends:"analytical_reasoning",name:"problem_solving",attributes:{}},"natural_language_processing/creative_content/creative_content":{caption:"Creative Content Generation",description:"Capabilities for generating various forms of creative content, including narratives, poetry, and other creative writing forms.",extends:"natural_language_processing",name:"creative_content",attributes:{}},"natural_language_processing/creative_content/poetry_writing":{caption:"Poetry and Creative Writing",description:"Composing poems, prose, or other forms of creative literature.",extends:"creative_content",name:"poetry_writing",attributes:{}},"natural_language_processing/creative_content/storytelling":{caption:"Storytelling",description:"Creating narratives, stories, or fictional content with creativity and coherence.",extends:"creative_content",name:"storytelling",attributes:{}},"natural_language_processing/ethical_interaction/bias_mitigation":{caption:"Bias Mitigation",description:"Reducing or eliminating biased language and ensuring fair and unbiased output.",extends:"ethical_interaction",name:"bias_mitigation",attributes:{}},"natural_language_processing/ethical_interaction/content_moderation":{caption:"Content Moderation",description:"Avoiding the generation of harmful, inappropriate, or sensitive content.",extends:"ethical_interaction",name:"content_moderation",attributes:{}},"natural_language_processing/ethical_interaction/ethical_interaction":{caption:"Ethical and Safe Interaction",description:"Capabilities for ensuring ethical, unbiased, and safe content generation and interaction.",extends:"natural_language_processing",name:"ethical_interaction",attributes:{}},"natural_language_processing/feature_extraction/feature_extraction":{caption:"Module Extraction",description:"Capabilities for extracting and representing textual features as vectors for downstream tasks.",extends:"natural_language_processing",name:"feature_extraction",attributes:{}},"natural_language_processing/feature_extraction/model_feature_extraction":{caption:"Model Module Extraction",description:"Representing parts of text with vectors to be used as input to other tasks.",extends:"feature_extraction",name:"model_feature_extraction",attributes:{}},"natural_language_processing/information_retrieval_synthesis/document_passage_retrieval":{caption:"Document and Passage Retrieval",description:"Capability to identify and retrieve relevant documents or text passages based on specific criteria or queries from a larger collection of texts.",extends:"information_retrieval_synthesis",name:"document_passage_retrieval",attributes:{}},"natural_language_processing/information_retrieval_synthesis/fact_extraction":{caption:"Fact Extraction",description:"Capability to identify and extract factual information from text documents or knowledge bases, including entities, relationships, and key data points.",extends:"information_retrieval_synthesis",name:"fact_extraction",attributes:{}},"natural_language_processing/information_retrieval_synthesis/information_retrieval_synthesis":{caption:"Information Retrieval and Synthesis",description:"Capabilities for retrieving relevant information from various sources and synthesizing it into coherent, contextually appropriate responses. This includes searching, extracting, combining, and presenting information in a meaningful way.",extends:"natural_language_processing",name:"information_retrieval_synthesis",attributes:{}},"natural_language_processing/information_retrieval_synthesis/knowledge_synthesis":{caption:"Knowledge Synthesis",description:"Capability to aggregate and combine information from multiple sources, creating comprehensive and coherent responses while maintaining context and relevance.",extends:"information_retrieval_synthesis",name:"knowledge_synthesis",attributes:{}},"natural_language_processing/information_retrieval_synthesis/question_answering":{caption:"Question Answering",description:"System capability to understand questions and provide accurate, relevant answers by analyzing available information sources.",extends:"information_retrieval_synthesis",name:"question_answering",attributes:{}},"natural_language_processing/information_retrieval_synthesis/search":{caption:"Search",description:"Capability to perform efficient and accurate searches within large textual databases based on various criteria, including keywords, semantic meaning, or complex queries.",extends:"information_retrieval_synthesis",name:"information_retrieval_synthesis_search",attributes:{}},"natural_language_processing/information_retrieval_synthesis/sentence_similarity":{caption:"Sentence Similarity",description:"Capability to analyze and determine the semantic similarity between sentences, supporting tasks like search, matching, and content comparison.",extends:"information_retrieval_synthesis",name:"sentence_similarity",attributes:{}},"natural_language_processing/language_translation/language_translation":{caption:"Language Translation and Multilingual Support",description:"Capabilities for handling multiple languages, including translation and multilingual text processing.",extends:"natural_language_processing",name:"language_translation",attributes:{}},"natural_language_processing/language_translation/multilingual_understanding":{caption:"Multilingual Understanding",description:"Recognizing and processing text in multiple languages.",extends:"language_translation",name:"multilingual_understanding",attributes:{}},"natural_language_processing/language_translation/translation":{caption:"Translation",description:"Converting text from one language to another while maintaining meaning and context.",extends:"language_translation",name:"translation",attributes:{}},"natural_language_processing/natural_language_generation/dialogue_generation":{caption:"Dialogue Generation",description:"Producing conversational responses that are contextually relevant and engaging within a dialogue context.",extends:"natural_language_generation",name:"dialogue_generation",attributes:{}},"natural_language_processing/natural_language_generation/natural_language_generation":{caption:"Natural Language Generation",description:"Natural Language Generation (NLG) describes the ability to generate human-like text from structured data or other inputs.",extends:"natural_language_processing",name:"natural_language_generation",attributes:{}},"natural_language_processing/natural_language_generation/paraphrasing":{caption:"Text Paraphrasing",description:"Rewriting text to express the same ideas using different words and structures while maintaining the original meaning.",extends:"natural_language_generation",name:"paraphrasing",attributes:{}},"natural_language_processing/natural_language_generation/question_generation":{caption:"Question Generation",description:"Automatically generating relevant and meaningful questions from a given text or context.",extends:"natural_language_generation",name:"question_generation",attributes:{}},"natural_language_processing/natural_language_generation/story_generation":{caption:"Story Generation",description:"Generating a piece of text given a description or a first sentence to complete.",extends:"natural_language_generation",name:"story_generation",attributes:{}},"natural_language_processing/natural_language_generation/style_transfer":{caption:"Text Style Transfer",description:"Rewriting text to match the style of a given reference text while preserving the original content.",extends:"natural_language_generation",name:"text_style_transfer",attributes:{}},"natural_language_processing/natural_language_generation/summarization":{caption:"Text Summarization",description:"Condensing longer texts into concise summaries while preserving essential information and maintaining coherence.",extends:"natural_language_generation",name:"summarization",attributes:{}},"natural_language_processing/natural_language_generation/text_completion":{caption:"Text Completion",description:"Continuing a given text prompt in a coherent and contextually appropriate manner to generate fluent and contextually relevant content.",extends:"natural_language_generation",name:"text_completion",attributes:{}},"natural_language_processing/natural_language_processing":{caption:"Natural Language Processing",category:"natural_language_processing",extends:"base_skill",name:"natural_language_processing",attributes:{}},"natural_language_processing/natural_language_understanding/contextual_comprehension":{caption:"Contextual Comprehension",description:"Understanding the context and nuances of text input to provide relevant responses.",extends:"natural_language_understanding",name:"contextual_comprehension",attributes:{}},"natural_language_processing/natural_language_understanding/entity_recognition":{caption:"Entity Recognition",description:"Identifying and categorizing key entities within the text, such as names, dates, or locations.",extends:"natural_language_understanding",name:"entity_recognition",attributes:{}},"natural_language_processing/natural_language_understanding/natural_language_understanding":{caption:"Natural Language Understanding",description:"Natural Language Understanding (NLU) focuses on the ability to interpret and comprehend human language, including understanding context, semantics, and identifying key entities within text.",extends:"natural_language_processing",name:"natural_language_understanding",attributes:{}},"natural_language_processing/natural_language_understanding/semantic_understanding":{caption:"Semantic Understanding",description:"Grasping the meaning and intent behind words and phrases.",extends:"natural_language_understanding",name:"semantic_understanding",attributes:{}},"natural_language_processing/personalization/personalization":{caption:"Personalisation and Adaptation",description:"Capabilities for adapting and personalizing content based on user context and preferences.",extends:"natural_language_processing",name:"personalization",attributes:{}},"natural_language_processing/personalization/style_adjustment":{caption:"Tone and Style Adjustment",description:"Modifying the tone or style of generated text to suit specific audiences or purposes.",extends:"personalization",name:"style_adjustment",attributes:{}},"natural_language_processing/personalization/user_adaptation":{caption:"User Adaptation",description:"Tailoring responses based on user preferences, history, or context.",extends:"personalization",name:"user_adaptation",attributes:{}},"natural_language_processing/text_classification/natural_language_inference":{caption:"Natural Language Inference",description:"Classifying the relation between two texts, like a contradiction, entailment, and others.",extends:"text_classification",name:"natural_language_inference",attributes:{}},"natural_language_processing/text_classification/sentiment_analysis":{caption:"Sentiment Analysis",description:"Classify the sentiment of a text, that is, a positive movie review.",extends:"text_classification",name:"sentiment_analysis",attributes:{}},"natural_language_processing/text_classification/text_classification":{caption:"Text Classification",description:"Capabilities for classifying and categorizing text into predefined categories or labels.",extends:"natural_language_processing",name:"text_classification",attributes:{}},"natural_language_processing/text_classification/topic_labeling":{caption:"Topic Labelling and Tagging",description:"Classifying a text as belong to one of several topics, which can be used to tag a text.",extends:"text_classification",name:"topic_labeling",attributes:{}},"natural_language_processing/token_classification/named_entity_recognition":{caption:"Named Entity Recognition",description:"Task to recognize names as entity, for example, people, locations, buildings, and so on.",extends:"token_classification",name:"named_entity_recognition",attributes:{}},"natural_language_processing/token_classification/pos_tagging":{caption:"Part-of-Speech Tagging",description:"Tagging each part of a sentence as nouns, adjectives, verbs, and so on.",extends:"token_classification",name:"pos_tagging",attributes:{}},"natural_language_processing/token_classification/token_classification":{caption:"Token Classification",description:"Capabilities for classifying individual tokens or words within text.",extends:"natural_language_processing",name:"token_classification",attributes:{}},"retrieval_augmented_generation/document_or_database_question_answering":{caption:"Document or Database Question Answering",description:"Document or database question answering is the process of retrieving and using information from a document or database to answer a specific question.",extends:"retrieval_augmented_generation",name:"document_or_database_question_answering",attributes:{}},"retrieval_augmented_generation/generation_of_any":{caption:"Generation of Any",description:"Generation of any is augmenting the creation of text, images, audio, or other media by incorporating retrieved information to improve or guide the generation process.",extends:"retrieval_augmented_generation",name:"generation_of_any",attributes:{}},"retrieval_augmented_generation/retrieval_augmented_generation":{caption:"Retrieval Augmented Generation",category:"retrieval_augmented_generation",extends:"base_skill",name:"retrieval_augmented_generation",attributes:{}},"retrieval_augmented_generation/retrieval_of_information/document_retrieval":{caption:"Document Retrieval",description:"Document retrieval is the process of retrieving relevant documents from a collection based on a specific query, typically through indexing and search techniques.",extends:"retrieval_of_information",name:"document_retrieval",attributes:{}},"retrieval_augmented_generation/retrieval_of_information/indexing":{caption:"Indexing",description:"Depth estimations the task of predicting the distance or depth of objects within a scene from a single image or multiple images.",extends:"retrieval_of_information",name:"indexing",attributes:{}},"retrieval_augmented_generation/retrieval_of_information/retrieval_of_information":{caption:"Retrieval of Information",description:"Retrieval of information is the process of fetching relevant data or documents from a large dataset or database based on a specific query or input.",extends:"retrieval_augmented_generation",name:"retrieval_of_information",attributes:{}},"retrieval_augmented_generation/retrieval_of_information/search":{caption:"Search",description:"Search is the process of exploring a dataset or index to find relevant information or results based on a given query.",extends:"retrieval_of_information",name:"retrieval_of_information_search",attributes:{}},"security_privacy/privacy_risk_assessment":{caption:"Privacy Risk Assessment",description:"Evaluating data handling or user flows to surface potential privacy risks and recommend mitigations.",extends:"security_privacy",name:"privacy_risk_assessment",attributes:{}},"security_privacy/secret_leak_detection":{caption:"Secret Leak Detection",description:"Scanning artifacts (code, logs, documents) to identify exposed credentials, tokens, or other sensitive secrets.",extends:"security_privacy",name:"secret_leak_detection",attributes:{}},"security_privacy/security_privacy":{caption:"Security & Privacy",category:"security_privacy",extends:"base_skill",name:"security_privacy",attributes:{}},"security_privacy/threat_detection":{caption:"Threat Detection",description:"Identifying indicators of malicious activity, suspicious patterns, or emerging threats across logs and data sources.",extends:"security_privacy",name:"threat_detection",attributes:{}},"security_privacy/vulnerability_analysis":{caption:"Vulnerability Analysis",description:"Reviewing code, configurations, or dependency manifests to surface potential security weaknesses and misconfigurations.",extends:"security_privacy",name:"vulnerability_analysis",attributes:{}},"tabular_text/tabular_classification":{caption:"Tabular Classification",description:"Classifying data based on attributes using classical machine learning approaches.",extends:"tabular_text",name:"tabular_classification",attributes:{}},"tabular_text/tabular_regression":{caption:"Tabular Regression",description:"Predicting numerical values based on tabular attributes and features.",extends:"tabular_text",name:"tabular_regression",attributes:{}},"tabular_text/tabular_text":{caption:"Tabular / Text",category:"tabular_text",extends:"base_skill",name:"tabular_text",attributes:{}},"tool_interaction/api_schema_understanding":{caption:"API Schema Understanding",description:"Interpreting and explaining API specifications, endpoints, parameters, and expected payloads.",extends:"tool_interaction",name:"api_schema_understanding",attributes:{}},"tool_interaction/script_integration":{caption:"Script Integration",description:"Linking custom scripts or functions with external tools to extend capabilities.",extends:"tool_interaction",name:"script_integration",attributes:{}},"tool_interaction/tool_interaction":{caption:"Tool Interaction",category:"tool_interaction",extends:"base_skill",name:"tool_interaction",attributes:{}},"tool_interaction/tool_use_planning":{caption:"Tool Use Planning",description:"Selecting and ordering tool invocations to accomplish a specified goal efficiently.",extends:"tool_interaction",name:"tool_use_planning",attributes:{}},"tool_interaction/workflow_automation":{caption:"Workflow Automation",description:"Designing or describing automated sequences integrating multiple tools or services.",extends:"tool_interaction",name:"workflow_automation",attributes:{}}}},Kn=Sr;var Rr={metadata:{version:"0.8.0",description:"Comprehensive collection of all OASF domains",identifier_format:"Slash-separated path matching file structure (e.g., 'technology/software_engineering/devops')",total_domains:204},categories:{caption:"Domains",description:"A comprehensive table outlining distinct fields of application and knowledge areas within the framework.",name:"domain_categories",attributes:{technology:{caption:"Technology",description:"Development, management, and use of systems, devices, and software to solve problems and enhance human capabilities."},finance_and_business:{caption:"Finance and Business",description:"Managing money, investments, and financial risks within businesses or for individuals. Subdomains: Corporate Finance, Personal Finance, Risk Management, Accounting, and Financial Analysis."},life_science:{caption:"Life Science",description:"Scientific research and innovations in biology, genetics, biotechnology, and other related fields, with the goal of understanding life processes and advancing medical and environmental solutions. Subdomains: Biotechnology, Pharmaceutical Research, Genomics, Bioinformatics, and Molecular Biology."},trust_and_safety:{caption:"Trust and Safety",description:"Maintaining a secure and reliable environment, primarily online, by managing risks, preventing harm, and ensuring safety and privacy. Subdomains: Online Safety, Content Moderation, Fraud Prevention, Data Privacy, and Risk Management."},human_resources:{caption:"Human Resources",description:"Managing and optimizing the workforce of an organization, focusing on recruitment, employee development, and workplace culture. Subdomains: Recruitment, Employee Relations, Training and Development, Compensation and Benefits, and HR Analytics."},education:{caption:"Education",description:"Systems, methods, and technologies used to teach, learn, and foster knowledge development in individuals and communities. Subdomains: E-Learning, Curriculum Design, Learning Management Systems, Educational Technology, and Pedagogy."},industrial_manufacturing:{caption:"Industrial Manufacturing",description:"Production of goods, use of automation and technology in manufacturing, and industrial processes to create products on a large scale. Subdomains: Automation, Robotics, Supply Chain Management, Lean Manufacturing, and Process Engineering."},transportation:{caption:"Transportation",description:"Systems and processes involved in the movement of goods and people, as well as the physical infrastructure supporting them. Subdomains: Logistics, Automotive, Public Transit, Supply Chain, Freight, and Autonomous Vehicles."},healthcare:{caption:"Healthcare",description:"Management, delivery, and innovation of medical services, treatments, and technologies aimed at improving the health and well-being of individuals and populations."},legal:{caption:"Legal",description:"Legal systems, compliance, regulatory frameworks, contract management, and judicial processes. Subdomains: Contract Law, Intellectual Property, Regulatory Compliance, Litigation, Legal Research, and Corporate Governance."},agriculture:{caption:"Agriculture",description:"Cultivation of plants and livestock, farm management, agtech innovations, and sustainable food production systems. Subdomains: Precision Agriculture, Crop Management, Livestock Management, Agricultural Technology, and Sustainable Farming."},energy:{caption:"Energy",description:"Production, distribution, and management of energy resources including renewable energy, power grids, and energy efficiency. Subdomains: Renewable Energy, Oil and Gas, Power Generation, Energy Storage, Smart Grids, and Energy Management."},media_and_entertainment:{caption:"Media and Entertainment",description:"Creation, distribution, and consumption of content across various media platforms including broadcasting, streaming, gaming, and publishing. Subdomains: Content Creation, Broadcasting, Streaming Services, Gaming, Publishing, and Digital Media."},real_estate:{caption:"Real Estate",description:"Property management, real estate transactions, construction, urban planning, and property technology. Subdomains: Property Management, Real Estate Investment, Construction, Urban Planning, PropTech, and Facilities Management."},hospitality_and_tourism:{caption:"Hospitality and Tourism",description:"Services related to travel, accommodation, food service, event management, and tourism operations. Subdomains: Hotel Management, Travel Services, Event Planning, Food and Beverage, Tourism Operations, and Guest Experience."},telecommunications:{caption:"Telecommunications",description:"Communication networks, mobile services, internet infrastructure, and connectivity solutions. Subdomains: Mobile Networks, Broadband, Satellite Communications, Network Infrastructure, VoIP, and 5G/6G Technologies."},environmental_science:{caption:"Environmental Science",description:"Study and management of environmental systems, climate change, conservation, and sustainability practices. Subdomains: Climate Science, Conservation, Environmental Monitoring, Sustainability, Waste Management, and Pollution Control."},government_and_public_sector:{caption:"Government and Public Sector",description:"Public administration, civic services, policy making, and governance systems. Subdomains: Public Administration, Policy Development, Civic Technology, Emergency Services, Urban Services, and Regulatory Agencies."},research_and_development:{caption:"Research and Development",description:"Scientific research, innovation, experimental development, and knowledge creation across disciplines. Subdomains: Scientific Research, Innovation Management, Laboratory Operations, Patent Development, Experimental Design, and Research Analytics."},retail_and_ecommerce:{caption:"Retail and E-commerce",description:"Sales operations, customer experience, inventory management, and online marketplace platforms. Subdomains: E-commerce Platforms, Retail Operations, Inventory Management, Customer Experience, Payment Systems, and Supply Chain."},social_services:{caption:"Social Services",description:"Welfare programs, community support, non-profit operations, and social welfare systems. Subdomains: Community Services, Non-profit Management, Social Welfare, Child Services, Elder Care, and Disability Services."},sports_and_fitness:{caption:"Sports and Fitness",description:"Athletic performance, fitness management, sports analytics, and recreational activities. Subdomains: Sports Analytics, Fitness Training, Sports Medicine, Event Management, Recreational Programs, and Performance Tracking."},insurance:{caption:"Insurance",description:"Risk assessment, policy management, claims processing, and insurance product development. Subdomains: Underwriting, Claims Management, Risk Assessment, Policy Administration, Actuarial Science, and InsurTech."},marketing_and_advertising:{caption:"Marketing and Advertising",description:"Brand management, customer engagement, digital marketing, advertising campaigns, and market research. Subdomains: Digital Marketing, Brand Management, Market Research, Advertising Technology, Content Marketing, and Customer Analytics."}}},domains:{"agriculture/agricultural_technology":{caption:"Agricultural Technology",description:"Innovation and technology applications in farming including drones, IoT, and automation.",extends:"agriculture",name:"agricultural_technology",attributes:{}},"agriculture/agriculture":{caption:"Agriculture",description:"Cultivation of plants and livestock, farm management, agtech innovations, and sustainable food production systems.",extends:"base_domain",name:"agriculture",category:"agriculture",attributes:{}},"agriculture/crop_management":{caption:"Crop Management",description:"Planning, monitoring, and optimizing crop production and yield.",extends:"agriculture",name:"crop_management",attributes:{}},"agriculture/livestock_management":{caption:"Livestock Management",description:"Care, breeding, and management of farm animals and livestock operations.",extends:"agriculture",name:"livestock_management",attributes:{}},"agriculture/precision_agriculture":{caption:"Precision Agriculture",description:"Data-driven farming using sensors, GPS, and analytics for optimized crop management.",extends:"agriculture",name:"precision_agriculture",attributes:{}},"agriculture/sustainable_farming":{caption:"Sustainable Farming",description:"Environmentally responsible agricultural practices and organic farming methods.",extends:"agriculture",name:"sustainable_farming",attributes:{}},"education/curriculum_design":{caption:"Curriculum Design",description:"Creating structured educational content and learning experiences for students. Subdomains: Instructional Design, Learning Objectives, Assessment Strategies, and Content Development.",extends:"education",name:"curriculum_design",attributes:{}},"education/e_learning":{caption:"E-Learning",description:"Delivering educational content and instruction through digital platforms and online courses. Subdomains: Online Course Development, Virtual Classrooms, Interactive Learning Tools, and Mobile Learning.",extends:"education",name:"e_learning",attributes:{}},"education/education":{caption:"Education",description:"Systems, methods, and technologies used to teach, learn, and foster knowledge development in individuals and communities. Subdomains: E-Learning, Curriculum Design, Learning Management Systems, Educational Technology, Pedagogy",extends:"base_domain",category:"education",name:"education",attributes:{}},"education/educational_technology":{caption:"Educational Technology",description:"Integrating digital tools and resources to enhance teaching and learning experiences. Subdomains: EdTech Innovations, Classroom Technology, Digital Content, and Gamification in Education.",extends:"education",name:"educational_technology",attributes:{}},"education/learning_management_systems":{caption:"Learning Management Systems",description:"Software platforms for delivering, tracking, and managing educational courses and training programs. Subdomains: User Experience Design, Content Management, Reporting and Analytics, and System Integration.",extends:"education",name:"learning_management_systems",attributes:{}},"education/pedagogy":{caption:"Pedagogy",description:"The methods and practices of teaching, focusing on how best to convey knowledge and skills to learners. Subdomains: Teaching Strategies, Student-Centered Learning, Instructional Theory, and Learning Styles.",extends:"education",name:"pedagogy",attributes:{}},"energy/energy":{caption:"Energy",description:"Production, distribution, and management of energy resources including renewable energy, power grids, and energy efficiency.",extends:"base_domain",name:"energy",category:"energy",attributes:{}},"energy/energy_management":{caption:"Energy Management",description:"Optimization of energy consumption, efficiency programs, and demand response.",extends:"energy",name:"energy_management",attributes:{}},"energy/energy_storage":{caption:"Energy Storage",description:"Battery systems, pumped hydro, and other energy storage technologies.",extends:"energy",name:"energy_storage",attributes:{}},"energy/oil_and_gas":{caption:"Oil and Gas",description:"Exploration, extraction, refining, and distribution of petroleum products.",extends:"energy",name:"oil_and_gas",attributes:{}},"energy/power_generation":{caption:"Power Generation",description:"Electricity generation from various sources including nuclear, thermal, and renewable.",extends:"energy",name:"power_generation",attributes:{}},"energy/renewable_energy":{caption:"Renewable Energy",description:"Solar, wind, hydro, and other sustainable energy sources and technologies.",extends:"energy",name:"renewable_energy",attributes:{}},"energy/smart_grids":{caption:"Smart Grids",description:"Intelligent power distribution networks with automated monitoring and control.",extends:"energy",name:"smart_grids",attributes:{}},"environmental_science/climate_science":{caption:"Climate Science",description:"Climate modeling, climate change research, atmospheric science, and weather prediction",extends:"environmental_science",name:"climate_science",attributes:{}},"environmental_science/conservation_biology":{caption:"Conservation Biology",description:"Species conservation, habitat protection, biodiversity, and wildlife management",extends:"environmental_science",name:"conservation_biology",attributes:{}},"environmental_science/ecology":{caption:"Ecology",description:"Ecosystem science, ecological modeling, population dynamics, and environmental interactions",extends:"environmental_science",name:"ecology",attributes:{}},"environmental_science/environmental_monitoring":{caption:"Environmental Monitoring",description:"Air quality monitoring, water quality testing, pollution tracking, and environmental sensors",extends:"environmental_science",name:"environmental_monitoring",attributes:{}},"environmental_science/environmental_policy":{caption:"Environmental Policy",description:"Environmental regulations, policy development, compliance, and environmental law",extends:"environmental_science",name:"environmental_policy",attributes:{}},"environmental_science/environmental_science":{caption:"Environmental Science",description:"Domain covering climate science, environmental monitoring, sustainability, conservation, and ecological research",extends:"base_domain",name:"environmental_science",category:"environmental_science",attributes:{}},"environmental_science/sustainability":{caption:"Sustainability",description:"Sustainable practices, carbon footprint reduction, circular economy, and green technology",extends:"environmental_science",name:"sustainability",attributes:{}},"finance_and_business/banking":{caption:"Banking",description:"Operations of financial institutions involved in accepting deposits, lending money, and other financial services. Subdomains: Retail Banking, Investment Banking, Corporate Banking, and Digital Banking.",extends:"finance_and_business",name:"banking",attributes:{}},"finance_and_business/consumer_goods":{caption:"Consumer Goods",description:"Creation, marketing, and distribution of products intended for personal use. Subdomains: Product Development, Consumer Behavior, Marketing, Retail, and Supply Chain Management.",extends:"finance_and_business",name:"consumer_goods",attributes:{}},"finance_and_business/finance":{caption:"Finance",description:"Managing money, investments, and financial risks within businesses or for individuals. Subdomains: Corporate Finance, Personal Finance, Risk Management, Accounting, and Financial Analysis.",extends:"finance_and_business",name:"finance",attributes:{}},"finance_and_business/finance_and_business":{caption:"Finance and Business",description:"Management of money, investments, and business operations, alongside the development and delivery of products and services in various industries.",extends:"base_domain",name:"finance_and_business",category:"finance_and_business",attributes:{}},"finance_and_business/investment_services":{caption:"Investment Services",description:"Managing financial assets, investment portfolios, and providing advisory services to clients. Subdomains: Asset Management, Hedge Funds, Private Equity, Mutual Funds, and Financial Planning.",extends:"finance_and_business",name:"investment_services",attributes:{}},"finance_and_business/retail":{caption:"Retail",description:"Sale of goods and services directly to consumers through various channels. Subdomains: E-commerce, In-store Retail, Inventory Management, Customer Experience, and Omnichannel Retail.",extends:"finance_and_business",name:"retail",attributes:{}},"government_and_public_sector/civic_engagement":{caption:"Civic Engagement",description:"Citizen participation, community outreach, public consultation, and participatory governance",extends:"government_and_public_sector",name:"civic_engagement",attributes:{}},"government_and_public_sector/e_government":{caption:"E-Government",description:"Digital government services, online portals, citizen engagement platforms, and digital identity",extends:"government_and_public_sector",name:"e_government",attributes:{}},"government_and_public_sector/emergency_management":{caption:"Emergency Management",description:"Disaster response, emergency planning, crisis management, and public safety coordination",extends:"government_and_public_sector",name:"emergency_management",attributes:{}},"government_and_public_sector/government_and_public_sector":{caption:"Government and Public Sector",description:"Domain covering public administration, civic services, e-government, policy making, and public infrastructure",extends:"base_domain",name:"government_and_public_sector",category:"government_and_public_sector",attributes:{}},"government_and_public_sector/public_administration":{caption:"Public Administration",description:"Government operations, administrative processes, civil service, and bureaucratic systems",extends:"government_and_public_sector",name:"public_administration",attributes:{}},"government_and_public_sector/public_infrastructure":{caption:"Public Infrastructure",description:"Infrastructure planning, public works, utilities management, and infrastructure maintenance",extends:"government_and_public_sector",name:"public_infrastructure",attributes:{}},"government_and_public_sector/public_policy":{caption:"Public Policy",description:"Policy development, legislative processes, policy analysis, and public affairs",extends:"government_and_public_sector",name:"public_policy",attributes:{}},"healthcare/health_information_systems":{caption:"Health Information Systems",description:"Systems for managing healthcare data to support clinical and administrative decision-making. Subdomains: Hospital Information Systems, Clinical Decision Support, Health Data Security, and Interoperability Solutions.",extends:"healthcare",name:"health_information_systems",attributes:{}},"healthcare/healthcare":{caption:"Healthcare",description:"Management, delivery, and innovation of medical services, treatments, and technologies aimed at improving the health and well-being of individuals and populations.",extends:"base_domain",name:"healthcare",category:"healthcare",attributes:{}},"healthcare/healthcare_informatics":{caption:"Healthcare Informatics",description:"The management and analysis of healthcare data to improve patient care and operational efficiency. Subdomains: Electronic Health Records, Health Data Analytics, Clinical Informatics, and Health IT Systems.",extends:"healthcare",name:"healthcare_informatics",attributes:{}},"healthcare/medical_technology":{caption:"Medical Technology",description:"Innovations and devices used to improve the diagnosis, treatment, and management of health conditions. Subdomains: Medical Devices, Diagnostic Equipment, Wearable Health Tech, and Biotech Innovations.",extends:"healthcare",name:"medical_technology",attributes:{}},"healthcare/patient_management_systems":{caption:"Patient Management Systems",description:"Software solutions that help healthcare providers manage patient information and clinical processes. Subdomains: Appointment Scheduling, Patient Portals, Billing and Coding, and Health Record Management.",extends:"healthcare",name:"patient_management_systems",attributes:{}},"healthcare/telemedicine":{caption:"Telemedicine",description:"The delivery of healthcare services through telecommunications technology. Subdomains: Remote Consultation, Telehealth Platforms, Mobile Health, and Virtual Care.",extends:"healthcare",name:"telemedicine",attributes:{}},"hospitality_and_tourism/event_planning":{caption:"Event Planning",description:"Conference management, event coordination, venue management, and event services",extends:"hospitality_and_tourism",name:"event_planning",attributes:{}},"hospitality_and_tourism/food_and_beverage":{caption:"Food and Beverage",description:"Restaurant management, catering services, menu planning, and culinary operations",extends:"hospitality_and_tourism",name:"food_and_beverage",attributes:{}},"hospitality_and_tourism/hospitality_and_tourism":{caption:"Hospitality and Tourism",description:"Domain covering hotel management, travel services, tourism, event planning, and hospitality technology",extends:"base_domain",name:"hospitality_and_tourism",category:"hospitality_and_tourism",attributes:{}},"hospitality_and_tourism/hospitality_technology":{caption:"Hospitality Technology",description:"Property management systems, booking engines, guest experience platforms, and hospitality software",extends:"hospitality_and_tourism",name:"hospitality_technology",attributes:{}},"hospitality_and_tourism/hotel_management":{caption:"Hotel Management",description:"Hotel operations, reservations, guest services, and property management systems",extends:"hospitality_and_tourism",name:"hotel_management",attributes:{}},"hospitality_and_tourism/tourism_management":{caption:"Tourism Management",description:"Destination management, tourist attractions, tourism marketing, and visitor experiences",extends:"hospitality_and_tourism",name:"tourism_management",attributes:{}},"hospitality_and_tourism/travel_services":{caption:"Travel Services",description:"Travel booking, itinerary planning, travel agencies, and booking platforms",extends:"hospitality_and_tourism",name:"travel_services",attributes:{}},"human_resources/compensation_and_benefits":{caption:"Compensation and Benefits",description:"Designing and managing salary structures, bonuses, and benefits to attract and retain employees. Subdomains: Salary Benchmarking, Benefits Administration, Incentive Programs, and Retirement Planning.",extends:"human_resources",name:"compensation_and_benefits",attributes:{}},"human_resources/employee_relations":{caption:"Employee Relations",description:"Maintaining positive relationships between the employer and employees to foster a productive work environment. Subdomains: Conflict Resolution, Employee Engagement, Workplace Culture, and Labor Relations.",extends:"human_resources",name:"employee_relations",attributes:{}},"human_resources/hr_analytics":{caption:"HR Analytics",description:"Using data analysis to improve HR decision-making, workforce planning, and employee performance metrics. Subdomains: People Analytics, Predictive HR, Workforce Metrics, and Data-Driven HR Strategies.",extends:"human_resources",name:"hr_analytics",attributes:{}},"human_resources/human_resources":{caption:"Human Resources",description:"Managing and optimizing the workforce of an organization, focusing on recruitment, employee development, and workplace culture. Subdomains: Recruitment, Employee Relations, Training and Development, Compensation and Benefits, and HR Analytics.",extends:"base_domain",name:"human_resources",category:"human_resources",attributes:{}},"human_resources/recruitment":{caption:"Recruitment",description:"Attracting, screening, and selecting qualified candidates for job openings within an organization. Subdomains: Talent Acquisition, Candidate Sourcing, Interviewing Techniques, and Onboarding Processes.",extends:"human_resources",name:"recruitment",attributes:{}},"human_resources/training_and_development":{caption:"Training and Development",description:"Providing employees with skills and knowledge to enhance their job performance and career growth. Subdomains: Skills Training, Leadership Development, Career Pathing, and E-Learning Platforms.",extends:"human_resources",name:"training_and_development",attributes:{}},"industrial_manufacturing/automation":{caption:"Automation",description:"Using technology to perform processes with minimal human intervention. Subdomains: Automated Manufacturing, Control Systems, Industrial IoT, and Process Automation.",extends:"industrial_manufacturing",name:"automation",attributes:{}},"industrial_manufacturing/industrial_manufacturing":{caption:"Industrial Manufacturing",description:"The use of automation and technology in manufacturing, production of goods, and industrial processes to create products on a large scale. Subdomains: Automation, Robotics, Supply Chain Management, Lean Manufacturing, and Process Engineering.",extends:"base_domain",name:"industrial_manufacturing",category:"industrial_manufacturing",attributes:{}},"industrial_manufacturing/lean_manufacturing":{caption:"Lean Manufacturing",description:"Methodology focusing on minimizing waste and maximizing efficiency in the production process. Subdomains: Continuous Improvement, Six Sigma, Value Stream Mapping, and Kaizen.",extends:"industrial_manufacturing",name:"lean_manufacturing",attributes:{}},"industrial_manufacturing/process_engineering":{caption:"Process Engineering",description:"Designing, implementing, and optimizing industrial processes to improve efficiency and quality. Subdomains: Process Design, Process Optimization, Quality Control, and Safety Engineering.",extends:"industrial_manufacturing",name:"process_engineering",attributes:{}},"industrial_manufacturing/robotics":{caption:"Robotics",description:"Designing and using robots for manufacturing tasks to enhance productivity and precision. Subdomains: Robotic Process Automation, Industrial Robotics, AI and Robotics, and Collaborative Robots.",extends:"industrial_manufacturing",name:"robotics",attributes:{}},"industrial_manufacturing/supply_chain_management":{caption:"Supply Chain Management",description:"Coordinating and managing all activities involved in the production and delivery of goods. Subdomains: Inventory Management, Procurement, Logistics Management, and Demand Forecasting.",extends:"industrial_manufacturing",name:"supply_chain_management",attributes:{}},"insurance/actuarial_science":{caption:"Actuarial Science",description:"Actuarial analysis, risk modeling, statistical modeling, and pricing strategies",extends:"insurance",name:"actuarial_science",attributes:{}},"insurance/claims_processing":{caption:"Claims Processing",description:"Claims management, loss adjustment, claims automation, and settlement processes",extends:"insurance",name:"claims_processing",attributes:{}},"insurance/insurance":{caption:"Insurance",description:"Domain covering insurance products, risk assessment, claims processing, underwriting, and insurance technology",extends:"base_domain",name:"insurance",category:"insurance",attributes:{}},"insurance/insurance_sales":{caption:"Insurance Sales",description:"Agent management, distribution channels, customer acquisition, and sales platforms",extends:"insurance",name:"insurance_sales",attributes:{}},"insurance/insurtech":{caption:"InsurTech",description:"Insurance technology, digital insurance platforms, telematics, and insurance innovation",extends:"insurance",name:"insurtech",attributes:{}},"insurance/policy_management":{caption:"Policy Management",description:"Policy administration, renewals, endorsements, and policy lifecycle management",extends:"insurance",name:"policy_management",attributes:{}},"insurance/underwriting":{caption:"Underwriting",description:"Risk assessment, policy pricing, underwriting automation, and risk evaluation",extends:"insurance",name:"underwriting",attributes:{}},"legal/contract_law":{caption:"Contract Law",description:"Legal principles governing agreements and contracts between parties.",extends:"legal",name:"contract_law",attributes:{}},"legal/corporate_governance":{caption:"Corporate Governance",description:"Systems, principles, and processes for directing and controlling corporations.",extends:"legal",name:"corporate_governance",attributes:{}},"legal/intellectual_property":{caption:"Intellectual Property",description:"Protection and management of patents, trademarks, copyrights, and trade secrets.",extends:"legal",name:"intellectual_property",attributes:{}},"legal/legal":{caption:"Legal",description:"Legal systems, compliance, regulatory frameworks, contract management, and judicial processes.",extends:"base_domain",name:"legal",category:"legal",attributes:{}},"legal/legal_research":{caption:"Legal Research",description:"Investigation of legal precedents, statutes, and case law.",extends:"legal",name:"legal_research",attributes:{}},"legal/litigation":{caption:"Litigation",description:"Legal proceedings and dispute resolution through court systems.",extends:"legal",name:"litigation",attributes:{}},"legal/regulatory_compliance":{caption:"Regulatory Compliance",description:"Ensuring adherence to laws, regulations, and industry standards.",extends:"legal",name:"regulatory_compliance",attributes:{}},"life_science/bioinformatics":{caption:"Bioinformatics",description:"the application of computational techniques to analyze and interpret biological data. Subdomains: Sequence Analysis, Systems Biology, Data Mining, and Structural Bioinformatics.",extends:"life_science",name:"bioinformatics",attributes:{}},"life_science/biotechnology":{caption:"Biotechnology",description:"The application of biological systems and organisms to develop or create products and technologies that improve the quality of human life. Subdomains: Medical Biotechnology, Agricultural Biotechnology, Industrial Biotechnology, and Environmental Biotechnology.",extends:"life_science",name:"biotechnology",attributes:{}},"life_science/genomics":{caption:"Genomics",description:"The study of genomes to understand genetic structure, function, and evolution. Subdomains: Comparative Genomics, Functional Genomics, Population Genomics, and Metagenomics.",extends:"life_science",name:"genomics",attributes:{}},"life_science/life_science":{caption:"Life Science",description:"Scientific research and innovations in biology, genetics, biotechnology, and other related fields, with the goal of understanding life processes and advancing medical and environmental solutions. Subdomains: Biotechnology, Pharmaceutical Research, Genomics, Bioinformatics, and Molecular Biology.",extends:"base_domain",name:"life_science",category:"life_science",attributes:{}},"life_science/molecular_biology":{caption:"Molecular Biology",description:"Molecular Biology is the branch of biology that focuses on the structure, function, and interactions of biological macromolecules, such as DNA, RNA, and proteins. Subdomains: Genomics, Gene Expression, and Cell Signaling.",extends:"life_science",name:"molecular_biology",attributes:{}},"life_science/pharmaceutical_research":{caption:"Pharmaceutical Research",description:"The discovery, development, and testing of new drugs and therapies to treat diseases and improve health outcomes. Subdomains: Drug Discovery, Clinical Trials, Pharmacology, and Regulatory Affairs.",extends:"life_science",name:"pharmaceutical_research",attributes:{}},"marketing_and_advertising/advertising":{caption:"Advertising",description:"Ad campaigns, media buying, creative development, and advertising platforms",extends:"marketing_and_advertising",name:"advertising",attributes:{}},"marketing_and_advertising/brand_management":{caption:"Brand Management",description:"Brand strategy, brand identity, brand positioning, and reputation management",extends:"marketing_and_advertising",name:"brand_management",attributes:{}},"marketing_and_advertising/digital_marketing":{caption:"Digital Marketing",description:"SEO, SEM, content marketing, social media marketing, and online campaigns",extends:"marketing_and_advertising",name:"digital_marketing",attributes:{}},"marketing_and_advertising/market_research":{caption:"Market Research",description:"Consumer research, market analysis, competitive intelligence, and research methodologies",extends:"marketing_and_advertising",name:"market_research",attributes:{}},"marketing_and_advertising/marketing_analytics":{caption:"Marketing Analytics",description:"Marketing metrics, ROI analysis, attribution modeling, and performance tracking",extends:"marketing_and_advertising",name:"marketing_analytics",attributes:{}},"marketing_and_advertising/marketing_and_advertising":{caption:"Marketing and Advertising",description:"Domain covering digital marketing, advertising campaigns, brand management, market research, and marketing automation",extends:"base_domain",name:"marketing_and_advertising",category:"marketing_and_advertising",attributes:{}},"marketing_and_advertising/marketing_automation":{caption:"Marketing Automation",description:"Marketing platforms, campaign automation, lead nurturing, and marketing technology",extends:"marketing_and_advertising",name:"marketing_automation",attributes:{}},"media_and_entertainment/broadcasting":{caption:"Broadcasting",description:"Radio and television broadcasting systems and operations.",extends:"media_and_entertainment",name:"broadcasting",attributes:{}},"media_and_entertainment/content_creation":{caption:"Content Creation",description:"Production of digital and traditional media content including video, audio, and written material.",extends:"media_and_entertainment",name:"content_creation",attributes:{}},"media_and_entertainment/digital_media":{caption:"Digital Media",description:"Social media, blogs, podcasts, and other digital content platforms.",extends:"media_and_entertainment",name:"digital_media",attributes:{}},"media_and_entertainment/gaming":{caption:"Gaming",description:"Video game development, esports, and interactive entertainment.",extends:"media_and_entertainment",name:"gaming",attributes:{}},"media_and_entertainment/media_and_entertainment":{caption:"Media and Entertainment",description:"Creation, distribution, and consumption of content across various media platforms including broadcasting, streaming, gaming, and publishing.",extends:"base_domain",name:"media_and_entertainment",category:"media_and_entertainment",attributes:{}},"media_and_entertainment/publishing":{caption:"Publishing",description:"Book, magazine, and digital publishing operations and distribution.",extends:"media_and_entertainment",name:"publishing",attributes:{}},"media_and_entertainment/streaming_services":{caption:"Streaming Services",description:"On-demand video and audio streaming platforms and content delivery.",extends:"media_and_entertainment",name:"streaming_services",attributes:{}},"real_estate/construction":{caption:"Construction",description:"Building construction, project management, and construction technology.",extends:"real_estate",name:"construction",attributes:{}},"real_estate/facilities_management":{caption:"Facilities Management",description:"Building operations, maintenance, and facility services.",extends:"real_estate",name:"facilities_management",attributes:{}},"real_estate/property_management":{caption:"Property Management",description:"Management of residential and commercial properties including maintenance and tenant relations.",extends:"real_estate",name:"property_management",attributes:{}},"real_estate/proptech":{caption:"PropTech",description:"Property technology innovations including smart buildings and real estate platforms.",extends:"real_estate",name:"proptech",attributes:{}},"real_estate/real_estate":{caption:"Real Estate",description:"Property management, real estate transactions, construction, urban planning, and property technology.",extends:"base_domain",name:"real_estate",category:"real_estate",attributes:{}},"real_estate/real_estate_investment":{caption:"Real Estate Investment",description:"Property investment strategies, portfolio management, and real estate finance.",extends:"real_estate",name:"real_estate_investment",attributes:{}},"real_estate/urban_planning":{caption:"Urban Planning",description:"City planning, zoning, and urban development strategies.",extends:"real_estate",name:"urban_planning",attributes:{}},"research_and_development/grant_management":{caption:"Grant Management",description:"Research funding, grant applications, project budgeting, and compliance reporting",extends:"research_and_development",name:"grant_management",attributes:{}},"research_and_development/innovation_management":{caption:"Innovation Management",description:"Innovation processes, idea management, technology transfer, and commercialization",extends:"research_and_development",name:"innovation_management",attributes:{}},"research_and_development/laboratory_management":{caption:"Laboratory Management",description:"Lab operations, equipment management, safety protocols, and laboratory information systems",extends:"research_and_development",name:"laboratory_management",attributes:{}},"research_and_development/product_development":{caption:"Product Development",description:"New product design, prototyping, testing, and product lifecycle management",extends:"research_and_development",name:"product_development",attributes:{}},"research_and_development/research_and_development":{caption:"Research and Development",description:"Domain covering scientific research, innovation, R&D management, laboratory operations, and experimental design",extends:"base_domain",name:"research_and_development",category:"research_and_development",attributes:{}},"research_and_development/research_data_management":{caption:"Research Data Management",description:"Data storage, research databases, data sharing, and research informatics",extends:"research_and_development",name:"research_data_management",attributes:{}},"research_and_development/scientific_research":{caption:"Scientific Research",description:"Research methodology, experimental design, data collection, and scientific investigation",extends:"research_and_development",name:"scientific_research",attributes:{}},"retail_and_ecommerce/customer_experience":{caption:"Customer Experience",description:"Personalization, customer service, loyalty programs, and shopping experience optimization",extends:"retail_and_ecommerce",name:"customer_experience",attributes:{}},"retail_and_ecommerce/inventory_management":{caption:"Inventory Management",description:"Stock control, warehouse management, inventory tracking, and supply planning",extends:"retail_and_ecommerce",name:"inventory_management",attributes:{}},"retail_and_ecommerce/online_retail":{caption:"Online Retail",description:"E-commerce platforms, online storefronts, digital marketplaces, and web retail",extends:"retail_and_ecommerce",name:"online_retail",attributes:{}},"retail_and_ecommerce/order_fulfillment":{caption:"Order Fulfillment",description:"Order processing, shipping, logistics, returns management, and last-mile delivery",extends:"retail_and_ecommerce",name:"order_fulfillment",attributes:{}},"retail_and_ecommerce/point_of_sale":{caption:"Point of Sale",description:"POS systems, retail checkout, payment processing, and in-store transactions",extends:"retail_and_ecommerce",name:"point_of_sale",attributes:{}},"retail_and_ecommerce/retail_analytics":{caption:"Retail Analytics",description:"Sales analytics, customer insights, merchandising analytics, and retail intelligence",extends:"retail_and_ecommerce",name:"retail_analytics",attributes:{}},"retail_and_ecommerce/retail_and_ecommerce":{caption:"Retail and E-Commerce",description:"Domain covering online retail, inventory management, customer experience, fulfillment, and retail operations",extends:"base_domain",name:"retail_and_ecommerce",category:"retail_and_ecommerce",attributes:{}},"social_services/case_management":{caption:"Case Management",description:"Client case tracking, service coordination, needs assessment, and case documentation",extends:"social_services",name:"case_management",attributes:{}},"social_services/child_and_family_services":{caption:"Child and Family Services",description:"Child welfare, family support, foster care, adoption services, and family counseling",extends:"social_services",name:"child_and_family_services",attributes:{}},"social_services/community_outreach":{caption:"Community Outreach",description:"Community programs, outreach services, community engagement, and local support initiatives",extends:"social_services",name:"community_outreach",attributes:{}},"social_services/disability_services":{caption:"Disability Services",description:"Disability support, accessibility services, assistive technology, and disability advocacy",extends:"social_services",name:"disability_services",attributes:{}},"social_services/housing_assistance":{caption:"Housing Assistance",description:"Homeless services, housing support, emergency shelter, and housing programs",extends:"social_services",name:"housing_assistance",attributes:{}},"social_services/mental_health_services":{caption:"Mental Health Services",description:"Mental health support, counseling, crisis intervention, and psychological services",extends:"social_services",name:"mental_health_services",attributes:{}},"social_services/social_services":{caption:"Social Services",description:"Domain covering social work, community services, welfare programs, case management, and social assistance",extends:"base_domain",name:"social_services",category:"social_services",attributes:{}},"sports_and_fitness/athletic_training":{caption:"Athletic Training",description:"Performance training, coaching, workout programs, and athlete development",extends:"sports_and_fitness",name:"athletic_training",attributes:{}},"sports_and_fitness/fitness_and_wellness":{caption:"Fitness and Wellness",description:"Fitness programs, wellness coaching, health tracking, and personal training",extends:"sports_and_fitness",name:"fitness_and_wellness",attributes:{}},"sports_and_fitness/sports_analytics":{caption:"Sports Analytics",description:"Performance metrics, game analysis, player statistics, and sports data science",extends:"sports_and_fitness",name:"sports_analytics",attributes:{}},"sports_and_fitness/sports_and_fitness":{caption:"Sports and Fitness",description:"Domain covering sports management, fitness programs, athletic training, sports analytics, and wellness",extends:"base_domain",name:"sports_and_fitness",category:"sports_and_fitness",attributes:{}},"sports_and_fitness/sports_management":{caption:"Sports Management",description:"Team management, sports facilities, event organization, and sports administration",extends:"sports_and_fitness",name:"sports_management",attributes:{}},"sports_and_fitness/sports_medicine":{caption:"Sports Medicine",description:"Injury prevention, sports rehabilitation, athletic healthcare, and performance medicine",extends:"sports_and_fitness",name:"sports_medicine",attributes:{}},"sports_and_fitness/sports_technology":{caption:"Sports Technology",description:"Wearable devices, performance tracking systems, sports apps, and fitness technology",extends:"sports_and_fitness",name:"sports_technology",attributes:{}},"technology/automation/automation":{caption:"Automation",description:"Use of technology to perform processes or procedures with minimal human intervention.",extends:"technology",name:"process_automation",attributes:{}},"technology/automation/rpa":{caption:"Robotic Process Automation (RPA)",description:"Technology that uses software robots to automate repetitive, rule-based tasks typically performed by humans.",extends:"process_automation",name:"rpa",attributes:{}},"technology/automation/workflow_automation":{caption:"Workflow Automation",description:"Automation of business processes through the use of software to reduce manual work and improve efficiency.",extends:"process_automation",name:"workflow_automation",attributes:{}},"technology/blockchain/blockchain":{caption:"Blockchain",description:"Distributed ledger technology that maintains a continuously growing list of records secured using cryptography.",extends:"technology",name:"blockchain",attributes:{}},"technology/blockchain/cryptocurrency":{caption:"Cryptocurrency",description:"Digital or virtual currency secured by cryptography, typically operating on blockchain technology.",extends:"blockchain",name:"cryptocurrency",attributes:{}},"technology/blockchain/defi":{caption:"Decentralized Finance (DeFi)",description:"Financial services built on blockchain networks that operate without traditional intermediaries.",extends:"blockchain",name:"defi",attributes:{}},"technology/blockchain/smart_contracts":{caption:"Smart Contracts",description:"Self-executing contracts with terms directly written into code, running on blockchain networks.",extends:"blockchain",name:"smart_contracts",attributes:{}},"technology/cloud_computing/aws":{caption:"Amazon Web Services (AWS)",description:"Comprehensive cloud computing platform offered by Amazon.",extends:"cloud_computing",name:"aws",attributes:{}},"technology/cloud_computing/azure":{caption:"Microsoft Azure",description:"Cloud computing service created by Microsoft for building, testing, deploying, and managing applications.",extends:"cloud_computing",name:"azure",attributes:{}},"technology/cloud_computing/cloud_computing":{caption:"Cloud Computing",description:"Delivery of computing services including servers, storage, databases, networking, software, and analytics over the internet.",extends:"technology",name:"cloud_computing",attributes:{}},"technology/cloud_computing/gcp":{caption:"Google Cloud Platform (GCP)",description:"Suite of cloud computing services offered by Google.",extends:"cloud_computing",name:"gcp",attributes:{}},"technology/communication_systems/broadcasting_systems":{caption:"Broadcasting Systems",description:"Systems for distributing audio and video content to large audiences via radio, television, or internet.",extends:"communication_systems",name:"broadcasting_systems",attributes:{}},"technology/communication_systems/communication_systems":{caption:"Communication Systems",description:"Technologies for transmitting and receiving information over various media.",extends:"technology",name:"communication_systems",attributes:{}},"technology/communication_systems/signal_processing":{caption:"Signal Processing",description:"Analysis, modification, and synthesis of signals such as sound, images, and sensor data.",extends:"communication_systems",name:"signal_processing",attributes:{}},"technology/communication_systems/telecommunication":{caption:"Telecommunication",description:"Transmission of information over long distances using electronic and digital technologies.",extends:"communication_systems",name:"telecommunication",attributes:{}},"technology/communication_systems/wireless_communication":{caption:"Wireless Communication",description:"Communication technologies that use electromagnetic waves to transmit data without physical connections.",extends:"communication_systems",name:"wireless_communication",attributes:{}},"technology/data_science/big_data":{caption:"Big Data",description:"Large and complex datasets that require advanced tools and techniques for processing and analysis.",extends:"data_science",name:"big_data",attributes:{}},"technology/data_science/data_engineering":{caption:"Data Engineering",description:"Design and construction of systems for collecting, storing, and processing data at scale.",extends:"data_science",name:"data_engineering",attributes:{}},"technology/data_science/data_science":{caption:"Data Science",description:"Extracting insights and knowledge from structured and unstructured data using scientific methods, processes, and algorithms.",extends:"technology",name:"data_science",attributes:{}},"technology/data_science/data_visualization":{caption:"Data Visualization",description:"Graphical representation of information and data using visual elements like charts, graphs, and maps.",extends:"data_science",name:"data_visualization",attributes:{}},"technology/information_technology/database_administration":{caption:"Database Administration",description:"Management and maintenance of database systems and data storage.",extends:"information_technology",name:"database_administration",attributes:{}},"technology/information_technology/help_desk_support":{caption:"Help Desk Support",description:"Technical support and assistance for end users and IT systems.",extends:"information_technology",name:"help_desk_support",attributes:{}},"technology/information_technology/information_technology":{caption:"Information Technology",description:"All aspects of managing and supporting technology systems and infrastructure.",extends:"technology",name:"information_technology",attributes:{}},"technology/information_technology/performance_analysis":{caption:"Performance Analysis",description:"Analysis and optimization of system performance to ensure efficient operation.",extends:"information_technology",name:"performance_analysis",attributes:{}},"technology/information_technology/system_administration":{caption:"System Administration",description:"Management and maintenance of computer systems and servers.",extends:"information_technology",name:"system_administration",attributes:{}},"technology/iot/industrial_iot":{caption:"Industrial IoT",description:"IoT applications in industrial settings for automation, monitoring, and optimization.",extends:"internet_of_things",name:"industrial_iot",attributes:{}},"technology/iot/iot":{caption:"Internet of Things (IoT)",description:"Connecting everyday objects to the internet for data exchange and automation.",extends:"technology",name:"internet_of_things",attributes:{}},"technology/iot/iot_devices":{caption:"IoT Devices",description:"Physical devices embedded with sensors, software, and connectivity to collect and exchange data.",extends:"internet_of_things",name:"iot_devices",attributes:{}},"technology/iot/iot_networks":{caption:"IoT Networks",description:"Communication protocols and network infrastructure for connecting IoT devices.",extends:"internet_of_things",name:"iot_networks",attributes:{}},"technology/iot/iot_security":{caption:"IoT Security",description:"Protection of IoT devices, networks, and data from cyber threats and vulnerabilities.",extends:"internet_of_things",name:"iot_security",attributes:{}},"technology/iot/smart_homes":{caption:"Smart Homes",description:"Residential environments with IoT devices for automation, monitoring, and control.",extends:"internet_of_things",name:"smart_homes",attributes:{}},"technology/networking/network_architecture":{caption:"Network Architecture",description:"Design and structure of computer networks including topology, protocols, and components.",extends:"networking",name:"network_architecture",attributes:{}},"technology/networking/network_management":{caption:"Network Management",description:"Tasks like monitoring, configuring, and optimizing networks.",extends:"networking",name:"network_management",attributes:{}},"technology/networking/network_operations":{caption:"Network Operations",description:"Ensures the smooth operation and performance of network infrastructure.",extends:"networking",name:"network_operations",attributes:{}},"technology/networking/network_protocols":{caption:"Network Protocols",description:"Rules and standards that govern communication between devices in a network.",extends:"networking",name:"network_protocols",attributes:{}},"technology/networking/network_security":{caption:"Network Security",description:"Protection of network infrastructure and data from unauthorized access and attacks.",extends:"networking",name:"network_security",attributes:{}},"technology/networking/networking":{caption:"Networking",description:"Design, management, and security of computer networks.",extends:"technology",name:"networking",attributes:{}},"technology/security/application_security":{caption:"Application Security",description:"Security measures and practices to protect applications from threats and vulnerabilities.",extends:"security",name:"application_security",attributes:{}},"technology/security/cyber_network_security":{caption:"Cyber Network Security",description:"Cybersecurity protection of network infrastructure and data from unauthorized access, misuse, or attacks.",extends:"security",name:"cyber_network_security",attributes:{}},"technology/security/cybersecurity":{caption:"Cybersecurity",description:"Protection of computer systems, networks, and data from digital attacks and unauthorized access.",extends:"security",name:"cybersecurity",attributes:{}},"technology/security/data_security":{caption:"Data Security",description:"Protection of digital data from unauthorized access, corruption, or theft throughout its lifecycle.",extends:"security",name:"data_security",attributes:{}},"technology/security/identity_management":{caption:"Identity Management",description:"Processes and technologies for managing digital identities and controlling access to resources.",extends:"security",name:"identity_management",attributes:{}},"technology/security/incident_management":{caption:"Incident Management",description:"Processes and tools for detecting, responding to, and resolving security incidents and IT service disruptions.",extends:"security",name:"incident_management",attributes:{}},"technology/security/security":{caption:"Security",description:"Protecting systems, data, and networks from cyber threats and vulnerabilities.",extends:"technology",name:"security",attributes:{}},"technology/software_engineering/apis_integration":{caption:"APIs and Integration",description:"Application Programming Interfaces and integration technologies that enable different software systems to communicate and work together.",extends:"software_engineering",name:"apis_integration",attributes:{}},"technology/software_engineering/devops":{caption:"DevOps",description:"Practices that combine software development and IT operations to shorten development cycles and improve deployment reliability.",extends:"software_engineering",name:"devops",attributes:{}},"technology/software_engineering/mlops":{caption:"MLOps",description:"Set of practices that combines machine learning and DevOps to standardize and streamline the machine learning lifecycle.",extends:"software_engineering",name:"mlops",attributes:{}},"technology/software_engineering/quality_assurance":{caption:"Quality Assurance",description:"Processes and practices to ensure software quality through testing, code review, and quality standards.",extends:"software_engineering",name:"quality_assurance",attributes:{}},"technology/software_engineering/software_development":{caption:"Software Development",description:"Process of designing, creating, testing, and maintaining software applications and systems.",extends:"software_engineering",name:"software_development",attributes:{}},"technology/software_engineering/software_engineering":{caption:"Software Engineering",description:"Designing, developing, and maintaining software applications and systems.",extends:"technology",name:"software_engineering",attributes:{}},"technology/technology":{caption:"Technology",description:"Development, management, and use of systems, devices, and software to solve problems and enhance human capabilities.",extends:"base_domain",name:"technology",category:"technology",attributes:{}},"telecommunications/internet_services":{caption:"Internet Services",description:"ISP operations, broadband services, internet connectivity, and access technologies",extends:"telecommunications",name:"internet_services",attributes:{}},"telecommunications/iot_connectivity":{caption:"IoT Connectivity",description:"IoT networks, M2M communications, NB-IoT, LoRaWAN, and connected device management",extends:"telecommunications",name:"iot_connectivity",attributes:{}},"telecommunications/network_infrastructure":{caption:"Network Infrastructure",description:"Telecom network design, fiber optics, network equipment, and infrastructure management",extends:"telecommunications",name:"network_infrastructure",attributes:{}},"telecommunications/telecom_operations":{caption:"Telecom Operations",description:"Service provisioning, billing systems, customer management, and operations support",extends:"telecommunications",name:"telecom_operations",attributes:{}},"telecommunications/telecommunications":{caption:"Telecommunications",description:"Domain covering network infrastructure, wireless communications, telecom services, and connectivity solutions",extends:"base_domain",name:"telecommunications",category:"telecommunications",attributes:{}},"telecommunications/voip_and_unified_communications":{caption:"VoIP and Unified Communications",description:"Voice over IP, video conferencing, unified communications platforms, and collaboration tools",extends:"telecommunications",name:"voip_and_unified_communications",attributes:{}},"telecommunications/wireless_communications":{caption:"Wireless Communications",description:"Mobile networks, 5G/6G technology, wireless protocols, and cellular services",extends:"telecommunications",name:"wireless_communications",attributes:{}},"transportation/automotive":{caption:"Automotive",description:"The design, development, manufacturing, and marketing of motor vehicles. Subdomains: Vehicle Design, Automotive Engineering, Electric Vehicles, and Vehicle Manufacturing.",extends:"transportation",name:"automotive",attributes:{}},"transportation/autonomous_vehicles":{caption:"Autonomous Vehicles",description:"Vehicles equipped with technology to navigate and operate without human control. Subdomains: Self-Driving Cars, Autonomous Trucks, Sensor Technology, and Vehicle AI.",extends:"transportation",name:"autonomous_vehicles",attributes:{}},"transportation/freight":{caption:"Freight",description:"The transportation of goods in bulk. Subdomains: Freight Forwarding, Cargo Management, Logistics Operations, and Freight Brokerage.",extends:"transportation",name:"freight",attributes:{}},"transportation/logistics":{caption:"Logistics",description:"The coordination of complex operations involving people, facilities, and supplies. Subdomains: Warehousing, Distribution Management, Transportation Planning, and Reverse Logistics.",extends:"transportation",name:"logistics",attributes:{}},"transportation/public_transit":{caption:"Public Transit",description:"Shared transportation services available for the public, such as buses and trains. Subdomains: Urban Transit Planning, Rail Systems, Bus Networks, and Transit Operations.",extends:"transportation",name:"public_transit",attributes:{}},"transportation/supply_chain":{caption:"Supply Chain",description:"The system of production, processing, and distribution of goods. Subdomains: Supplier Management, Production Scheduling, Inventory Control, and Global Supply Chain.",extends:"transportation",name:"supply_chain",attributes:{}},"transportation/transportation":{caption:"Transportation",description:"Systems and processes involved in the movement of goods and people, as well as the physical infrastructure supporting them. Subdomains: Logistics, Automotive, Public Transit, Supply Chain, Freight, and Autonomous Vehicles.",extends:"base_domain",name:"transportation",category:"transportation",attributes:{}},"trust_and_safety/content_moderation":{caption:"Content Moderation",description:"Reviewing and managing user-generated content to ensure it complies with community guidelines and legal standards. Subdomains: Automated Moderation, Community Guidelines, Human Moderation, and Harmful Content Detection.",extends:"trust_and_safety",name:"content_moderation",attributes:{}},"trust_and_safety/data_privacy":{caption:"Data Privacy",description:"Safeguarding personal information from unauthorized access and ensuring compliance with privacy laws and regulations. Subdomains: Privacy Regulations Compliance, Data Encryption, Data Anonymization, and User Consent Management.",extends:"trust_and_safety",name:"data_privacy",attributes:{}},"trust_and_safety/fraud_prevention":{caption:"Fraud Prevention",description:"Identifying and stopping fraudulent activities to protect individuals and organizations from financial and reputational damage. Subdomains: Transaction Monitoring, Identity Verification, Fraud Analytics, and Fraud Awareness Training.",extends:"trust_and_safety",name:"fraud_prevention",attributes:{}},"trust_and_safety/online_safety":{caption:"Online Safety",description:"Protecting internet users from various forms of harm to ensure a secure digital environment. Subdomains: Cybersecurity Awareness, Child Online Protection, Identity Protection, and Digital Wellbeing.",extends:"trust_and_safety",name:"online_safety",attributes:{}},"trust_and_safety/risk_management":{caption:"Risk Management",description:"Identifying, assessing, and prioritizing risks to minimize their impact on an organization's objectives and operations. Subdomains: Risk Assessment, Mitigation Strategies, Crisis Management, and Compliance and Auditing.",extends:"trust_and_safety",name:"risk_management",attributes:{}},"trust_and_safety/trust_and_safety":{caption:"Trust and Safety",description:"Maintaining a secure and reliable environment, primarily online, by managing risks, preventing harm, and ensuring safety and privacy. Subdomains: Online Safety, Content Moderation, Fraud Prevention, Data Privacy, and Risk Management.",extends:"base_domain",name:"trust_and_safety",category:"trust_and_safety",attributes:{}}}},Jn=Rr;function Yn(i){let t=Kn.skills||{};return i in t}function Qn(i){let t=Jn.domains||{};return i in t}var fe=class{constructor(e,t){this.sdk=e,this._dirtyMetadata=new Set,this.registrationFile=t,this._endpointCrawler=new Te(5e3)}async _waitForTransactionWithRetry(e,t){try{return await this.sdk.chainClient.waitForTransaction({hash:e,timeoutMs:t})}catch(n){if((n instanceof Error?n.message:String(n)).toLowerCase().includes("timed out"))return await this.sdk.chainClient.waitForTransaction({hash:e,timeoutMs:t*2});throw n}}get agentId(){return this.registrationFile.agentId}get agentURI(){return this.registrationFile.agentURI}get name(){return this.registrationFile.name}get description(){return this.registrationFile.description}get image(){return this.registrationFile.image}get mcpEndpoint(){return this.registrationFile.endpoints.find(t=>t.type===M.MCP)?.value}get a2aEndpoint(){return this.registrationFile.endpoints.find(t=>t.type===M.A2A)?.value}get ensEndpoint(){return this.registrationFile.endpoints.find(t=>t.type===M.ENS)?.value}get walletAddress(){return this.registrationFile.walletAddress}async getWallet(){if(!this.registrationFile.agentId)throw new Error("Agent must be registered before reading wallet from chain.");let{tokenId:e}=B(this.registrationFile.agentId),t=this.sdk.identityRegistryAddress(),n=await this.sdk.chainClient.readContract({address:t,abi:O,functionName:"getAgentWallet",args:[BigInt(e)]});if(n.toLowerCase()!=="0x0000000000000000000000000000000000000000")return n}get mcpTools(){return this.registrationFile.endpoints.find(t=>t.type===M.MCP)?.meta?.mcpTools}get mcpPrompts(){return this.registrationFile.endpoints.find(t=>t.type===M.MCP)?.meta?.mcpPrompts}get mcpResources(){return this.registrationFile.endpoints.find(t=>t.type===M.MCP)?.meta?.mcpResources}get a2aSkills(){return this.registrationFile.endpoints.find(t=>t.type===M.A2A)?.meta?.a2aSkills}async setMCP(e,t="2025-06-18",n=!0){this.registrationFile.endpoints=this.registrationFile.endpoints.filter(s=>s.type!==M.MCP);let a={version:t};if(n)try{let s=await this._endpointCrawler.fetchMcpCapabilities(e);s&&(s.mcpTools&&(a.mcpTools=s.mcpTools),s.mcpPrompts&&(a.mcpPrompts=s.mcpPrompts),s.mcpResources&&(a.mcpResources=s.mcpResources))}catch{}let r={type:M.MCP,value:e,meta:a};return this.registrationFile.endpoints.push(r),this.registrationFile.updatedAt=Math.floor(Date.now()/1e3),this}async setA2A(e,t="0.30",n=!0){this.registrationFile.endpoints=this.registrationFile.endpoints.filter(s=>s.type!==M.A2A);let a={version:t};if(n)try{let s=await this._endpointCrawler.fetchA2aCapabilities(e);s?.a2aSkills&&(a.a2aSkills=s.a2aSkills)}catch{}let r={type:M.A2A,value:e,meta:a};return this.registrationFile.endpoints.push(r),this.registrationFile.updatedAt=Math.floor(Date.now()/1e3),this}setENS(e,t="1.0"){this.registrationFile.endpoints=this.registrationFile.endpoints.filter(a=>a.type!==M.ENS),e!==this._lastRegisteredEns&&this._dirtyMetadata.add("agentName");let n={type:M.ENS,value:e,meta:{version:t}};return this.registrationFile.endpoints.push(n),this.registrationFile.updatedAt=Math.floor(Date.now()/1e3),this}removeEndpoint(e,t){let{type:n,value:a}=e&&typeof e=="object"?{type:e.type,value:e.value}:{type:e,value:t};return n===void 0&&a===void 0?this.registrationFile.endpoints=[]:this.registrationFile.endpoints=this.registrationFile.endpoints.filter(r=>{let s=n===void 0||r.type===n,o=a===void 0||r.value===a;return!(s&&o)}),this.registrationFile.updatedAt=Math.floor(Date.now()/1e3),this}removeEndpoints(){return this.removeEndpoint()}_getOrCreateOasfEndpoint(){let e=this.registrationFile.endpoints.find(n=>n.type===M.OASF);if(e)return e;let t={type:M.OASF,value:"https://github.com/agntcy/oasf/",meta:{version:"v0.8.0",skills:[],domains:[]}};return this.registrationFile.endpoints.push(t),t}addSkill(e,t=!1){if(t&&!Yn(e))throw new Error(`Invalid OASF skill slug: ${e}. Use validateOASF=false to skip validation.`);let n=this._getOrCreateOasfEndpoint();n.meta||(n.meta={}),Array.isArray(n.meta.skills)||(n.meta.skills=[]);let a=n.meta.skills;return a.includes(e)||a.push(e),this.registrationFile.updatedAt=Math.floor(Date.now()/1e3),this}removeSkill(e){let t=this.registrationFile.endpoints.find(n=>n.type===M.OASF);if(t&&t.meta){let n=t.meta.skills;if(Array.isArray(n)){let a=n.indexOf(e);a!==-1&&n.splice(a,1)}this.registrationFile.updatedAt=Math.floor(Date.now()/1e3)}return this}addDomain(e,t=!1){if(t&&!Qn(e))throw new Error(`Invalid OASF domain slug: ${e}. Use validateOASF=false to skip validation.`);let n=this._getOrCreateOasfEndpoint();n.meta||(n.meta={}),Array.isArray(n.meta.domains)||(n.meta.domains=[]);let a=n.meta.domains;return a.includes(e)||a.push(e),this.registrationFile.updatedAt=Math.floor(Date.now()/1e3),this}removeDomain(e){let t=this.registrationFile.endpoints.find(n=>n.type===M.OASF);if(t&&t.meta){let n=t.meta.domains;if(Array.isArray(n)){let a=n.indexOf(e);a!==-1&&n.splice(a,1)}this.registrationFile.updatedAt=Math.floor(Date.now()/1e3)}return this}async setWallet(e,t){if(!this.registrationFile.agentId)throw new Error("Agent must be registered before setting agentWallet on-chain. Register the agent first, then call setWallet().");if(this.sdk.isReadOnly)throw new Error("No signer configured to submit setWallet transaction");if(!this.sdk.chainClient.isAddress(e))throw new Error(`Invalid newWallet address: ${e}`);let{tokenId:n}=B(this.registrationFile.agentId),a=this.sdk.identityRegistryAddress();try{let y=await this.getWallet();if(y&&y.toLowerCase()===e.toLowerCase()){let b=await this.sdk.chainId();this.registrationFile.walletAddress=e,this.registrationFile.walletChainId=b,this.registrationFile.updatedAt=Math.floor(Date.now()/1e3);return}}catch{}let r=Number(await this.sdk.chainClient.getBlockTimestamp("latest")),s=t?.deadline??r+60;if(s<r)throw new Error(`Invalid deadline: ${s} is in the past (chain time: ${r})`);if(s>r+300)throw new Error(`Invalid deadline: ${s} is too far in the future. Must be <= chainTime + 300s. (chain time: ${r})`);let o=await this.sdk.chainId(),c=a,l=await this.sdk.chainClient.readContract({address:a,abi:O,functionName:"ownerOf",args:[BigInt(n)]}),f,p;try{let y=await this.sdk.chainClient.readContract({address:a,abi:O,functionName:"eip712Domain",args:[]});f=y?.name??y?.[1],p=y?.version??y?.[2]}catch{}let g;try{g=await this.sdk.chainClient.readContract({address:a,abi:O,functionName:"DOMAIN_SEPARATOR",args:[]})}catch{}let m;if(t?.signature){let y=typeof t.signature=="string"?t.signature.startsWith("0x")?t.signature:`0x${t.signature}`:(()=>{let b="0x";for(let v of t.signature)b+=v.toString(16).padStart(2,"0");return b})();m=de(y)}else{let y=await this.sdk.chainClient.getAddress();if(!t?.newWalletPrivateKey&&(!y||y.toLowerCase()!==e.toLowerCase()))throw new Error(`The new wallet must sign the EIP-712 message. Pass opts.newWalletPrivateKey or opts.signature. SDK signer is ${y||"unknown"}, newWallet is ${e}.`);let b=[];f&&b.push(f),b.push("ERC8004IdentityRegistry","IdentityRegistry","ERC8004IdentityRegistryUpgradeable","IdentityRegistryUpgradeable");let v=[p||"1","1"];if(g){let w=b.flatMap(I=>v.map(A=>({dn:I,dv:A}))).find(({dn:I,dv:A})=>{try{return Nt({name:I,version:A,chainId:o,verifyingContract:c}).toLowerCase()===String(g).toLowerCase()}catch{return!1}});w&&(b.unshift(w.dn),v.unshift(w.dv))}let x=[];for(let w of b)for(let I of v){let A={name:w,version:I,chainId:o,verifyingContract:c};x.push({domain:A,primaryType:"AgentWalletSet",types:{AgentWalletSet:[{name:"agentId",type:"uint256"},{name:"newWallet",type:"address"},{name:"owner",type:"address"},{name:"deadline",type:"uint256"}]},message:{agentId:BigInt(n),newWallet:e,owner:l,deadline:BigInt(s)}}),x.push({domain:A,primaryType:"AgentWalletSet",types:{AgentWalletSet:[{name:"agentId",type:"uint256"},{name:"newWallet",type:"address"},{name:"deadline",type:"uint256"}]},message:{agentId:BigInt(n),newWallet:e,deadline:BigInt(s)}})}let T;for(let w of x)try{let I;if(t?.newWalletPrivateKey){let R=Fe(t.newWalletPrivateKey.startsWith("0x")?t.newWalletPrivateKey:`0x${t.newWalletPrivateKey}`);I=de(await R.signTypedData({domain:w.domain,types:w.types,primaryType:w.primaryType,message:w.message}))}else I=await this.sdk.chainClient.signTypedData({domain:w.domain,types:w.types,primaryType:w.primaryType,message:w.message});let A=await Ut({domain:w.domain,types:w.types,primaryType:w.primaryType,message:w.message,signature:I});if(A.toLowerCase()!==ce(e).toLowerCase())throw new Error(`EIP-712 recovery mismatch: recovered ${A}, expected ${e}`);m=I;break}catch(I){T=I}if(!m){let w=T instanceof Error?T.message:String(T);throw new Error(`Failed to produce a valid wallet signature for this registry: ${w}`)}}let h=await this.sdk.chainClient.writeContract({address:a,abi:O,functionName:"setAgentWallet",args:[BigInt(n),e,BigInt(s),m]});return new W(h,this.sdk.chainClient,async()=>(this.registrationFile.walletAddress=e,this.registrationFile.walletChainId=o,this.registrationFile.updatedAt=Math.floor(Date.now()/1e3),this.registrationFile))}async unsetWallet(){if(!this.registrationFile.agentId)throw new Error("Agent must be registered before unsetting agentWallet on-chain. Register the agent first, then call unsetWallet().");if(this.sdk.isReadOnly)throw new Error("No signer configured to submit unsetWallet transaction");let{tokenId:e}=B(this.registrationFile.agentId),t=this.sdk.identityRegistryAddress();try{if(!await this.getWallet()){this.registrationFile.walletAddress=void 0,this.registrationFile.walletChainId=void 0,this.registrationFile.updatedAt=Math.floor(Date.now()/1e3);return}}catch{}let n=await this.sdk.chainClient.writeContract({address:t,abi:O,functionName:"unsetAgentWallet",args:[BigInt(e)]});return new W(n,this.sdk.chainClient,async()=>(this.registrationFile.walletAddress=void 0,this.registrationFile.walletChainId=void 0,this.registrationFile.updatedAt=Math.floor(Date.now()/1e3),this.registrationFile))}setActive(e){return this.registrationFile.active=e,this.registrationFile.updatedAt=Math.floor(Date.now()/1e3),this}setX402Support(e){return this.registrationFile.x402support=e,this.registrationFile.updatedAt=Math.floor(Date.now()/1e3),this}setTrust(e=!1,t=!1,n=!1){let a=[];return e&&a.push(X.REPUTATION),t&&a.push(X.CRYPTO_ECONOMIC),n&&a.push(X.TEE_ATTESTATION),this.registrationFile.trustModels=a,this.registrationFile.updatedAt=Math.floor(Date.now()/1e3),this}setMetadata(e){for(let t of Object.keys(e))this._dirtyMetadata.add(t);return Object.assign(this.registrationFile.metadata,e),this.registrationFile.updatedAt=Math.floor(Date.now()/1e3),this}getMetadata(){return{...this.registrationFile.metadata}}delMetadata(e){return e in this.registrationFile.metadata&&(delete this.registrationFile.metadata[e],this._dirtyMetadata.delete(e),this.registrationFile.updatedAt=Math.floor(Date.now()/1e3)),this}getRegistrationFile(){return this.registrationFile}updateInfo(e,t,n){return e!==void 0&&(this.registrationFile.name=e),t!==void 0&&(this.registrationFile.description=t),n!==void 0&&(this.registrationFile.image=n),this.registrationFile.updatedAt=Math.floor(Date.now()/1e3),this}async registerIPFS(){if(!this.registrationFile.name||!this.registrationFile.description)throw new Error("Agent must have name and description before registration");if(!this.sdk.ipfsClient)throw new Error("IPFS client not configured. Initialize SDK with ipfs config to use registerIPFS().");if(this.registrationFile.agentId){let e=await this.sdk.chainId(),t=this.sdk.identityRegistryAddress(),n=await this.sdk.ipfsClient.addRegistrationFile(this.registrationFile,e,t),{tokenId:a}=B(this.registrationFile.agentId),r=await this.sdk.chainClient.writeContract({address:t,abi:O,functionName:"setAgentURI",args:[BigInt(a),`ipfs://${n}`]});return new W(r,this.sdk.chainClient,async()=>{if(this._dirtyMetadata.size>0)try{await this._updateMetadataOnChain()}catch{}return this._lastRegisteredWallet=this.walletAddress,this._lastRegisteredEns=this.ensEndpoint,this._dirtyMetadata.clear(),this.registrationFile.agentURI=`ipfs://${n}`,this.registrationFile.updatedAt=Math.floor(Date.now()/1e3),this.registrationFile})}else{let e=this._collectMetadataForRegistration(),t=this.sdk.identityRegistryAddress(),n=await this.sdk.chainClient.writeContract({address:t,abi:O,functionName:"register",args:["",e]});return new W(n,this.sdk.chainClient,async a=>{let r=this._extractAgentIdFromReceipt(a),s=await this.sdk.chainId();this.registrationFile.agentId=`${s}:${r}`,this.registrationFile.updatedAt=Math.floor(Date.now()/1e3);let o=await this.sdk.ipfsClient.addRegistrationFile(this.registrationFile,s,t),{tokenId:c}=B(this.registrationFile.agentId),l=await this.sdk.chainClient.writeContract({address:t,abi:O,functionName:"setAgentURI",args:[BigInt(c),`ipfs://${o}`]});return await this._waitForTransactionWithRetry(l,G.TRANSACTION_WAIT),this._lastRegisteredWallet=this.walletAddress,this._lastRegisteredEns=this.ensEndpoint,this._dirtyMetadata.clear(),this.registrationFile.agentURI=`ipfs://${o}`,this.registrationFile.updatedAt=Math.floor(Date.now()/1e3),this.registrationFile})}}async registerHTTP(e){if(!this.registrationFile.name||!this.registrationFile.description)throw new Error("Agent must have name and description before registration");if(this.registrationFile.agentId)return await this.setAgentURI(e);{let t=this._collectMetadataForRegistration(),n=this.sdk.identityRegistryAddress(),a=await this.sdk.chainClient.writeContract({address:n,abi:O,functionName:"register",args:[e,t]});return new W(a,this.sdk.chainClient,async r=>{let s=this._extractAgentIdFromReceipt(r),o=await this.sdk.chainId();return this.registrationFile.agentId=`${o}:${s}`,this.registrationFile.agentURI=e,this.registrationFile.updatedAt=Math.floor(Date.now()/1e3),this._dirtyMetadata.clear(),this.registrationFile})}}async setAgentURI(e){if(!this.registrationFile.agentId)throw new Error("Agent must be registered before setting URI");let{tokenId:t}=B(this.registrationFile.agentId),n=this.sdk.identityRegistryAddress(),a=await this.sdk.chainClient.writeContract({address:n,abi:O,functionName:"setAgentURI",args:[BigInt(t),e]});return new W(a,this.sdk.chainClient,async()=>(this.registrationFile.agentURI=e,this.registrationFile.updatedAt=Math.floor(Date.now()/1e3),this.registrationFile))}async transfer(e){if(!this.registrationFile.agentId)throw new Error("Agent must be registered before transfer");let{tokenId:t}=B(this.registrationFile.agentId),n=await this.sdk.chainClient.ensureAddress(),a=e.toLowerCase();if(!this.sdk.chainClient.isAddress(a))throw new Error(`Invalid address: ${e}`);if(a==="0x0000000000000000000000000000000000000000")throw new Error("Cannot transfer agent to zero address");let r=this.sdk.chainClient.toChecksumAddress(a);if(r.toLowerCase()===n.toLowerCase())throw new Error("Cannot transfer agent to yourself");let s=this.sdk.identityRegistryAddress(),o=await this.sdk.chainClient.writeContract({address:s,abi:O,functionName:"transferFrom",args:[n,r,BigInt(t)]});return new W(o,this.sdk.chainClient,async()=>(this.registrationFile.walletAddress=void 0,this.registrationFile.walletChainId=void 0,this.registrationFile.updatedAt=Math.floor(Date.now()/1e3),{txHash:o,from:n,to:r,agentId:this.registrationFile.agentId}))}async _registerWithoutUri(){let e=this._collectMetadataForRegistration(),t=this.sdk.identityRegistryAddress(),n;e.length>0?n=await this.sdk.chainClient.writeContract({address:t,abi:O,functionName:"register",args:["",e]}):n=await this.sdk.chainClient.writeContract({address:t,abi:O,functionName:"register",args:[]});let a=await this._waitForTransactionWithRetry(n,G.TRANSACTION_WAIT),r=this._extractAgentIdFromReceipt(a),s=await this.sdk.chainId();this.registrationFile.agentId=`${s}:${r}`,this.registrationFile.updatedAt=Math.floor(Date.now()/1e3)}async _registerWithUri(e){let t=this._collectMetadataForRegistration(),n=this.sdk.identityRegistryAddress(),a=await this.sdk.chainClient.writeContract({address:n,abi:O,functionName:"register",args:[e,t]}),r=await this._waitForTransactionWithRetry(a,G.TRANSACTION_WAIT),s=this._extractAgentIdFromReceipt(r),o=await this.sdk.chainId();return this.registrationFile.agentId=`${o}:${s}`,this.registrationFile.agentURI=e,this.registrationFile.updatedAt=Math.floor(Date.now()/1e3),this.registrationFile}async _updateMetadataOnChain(){let e=this._collectMetadataForRegistration(),{tokenId:t}=B(this.registrationFile.agentId),n=this.sdk.identityRegistryAddress();for(let a of e)if(this._dirtyMetadata.has(a.metadataKey)){let r=await this.sdk.chainClient.writeContract({address:n,abi:O,functionName:"setMetadata",args:[BigInt(t),a.metadataKey,a.metadataValue]});try{await this._waitForTransactionWithRetry(r,G.TRANSACTION_WAIT)}catch{}}}_collectMetadataForRegistration(){let e=[];for(let[t,n]of Object.entries(this.registrationFile.metadata)){if(t==="agentWallet")continue;let a;typeof n=="string"?a=new TextEncoder().encode(n):typeof n=="number"?a=new TextEncoder().encode(n.toString()):a=new TextEncoder().encode(JSON.stringify(n)),e.push({metadataKey:t,metadataValue:Dt(a)})}return e}_extractAgentIdFromReceipt(e){let t="0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef";for(let n of e.logs||[])try{if(!n.topics||n.topics.length===0)continue;let a=Pe({abi:O,data:n.data,topics:n.topics});if(a&&a.eventName==="Registered"){let r=a.args?.agentId;if(r!==void 0)return BigInt(r)}}catch{try{let a=Array.isArray(n.topics)?n.topics:[];if(a.length>=4){let r=String(a[0]);if(r===t||r.toLowerCase()===t.toLowerCase()){let s=String(a[3]),o=s.startsWith("0x")?s.slice(2):s;return BigInt("0x"+o)}}}catch{}}throw new Error("Could not extract agent ID from transaction receipt - no Registered or Transfer event found")}};var It=class{constructor(e){this._subgraphUrls={},this._chainId=e.chainId;let t=e.privateKey??e.signer;this._hasSignerConfig=!!(t||e.walletProvider),this._chainClient=new _e({chainId:e.chainId,rpcUrl:e.rpcUrl,privateKey:t,walletProvider:e.walletProvider});let n=e.registryOverrides||{},a=Wn[e.chainId]||{};this._registries={...a,...n[e.chainId]||{}},e.subgraphOverrides&&Object.assign(this._subgraphUrls,e.subgraphOverrides);let r;e.chainId in this._subgraphUrls?r=this._subgraphUrls[e.chainId]:e.chainId in Q?r=Q[e.chainId]:e.subgraphUrl&&(r=e.subgraphUrl),r&&(this._subgraphClient=new ae(r)),this._indexer=new ke(this._subgraphClient,this._subgraphUrls),e.ipfs&&(this._ipfsClient=this._initializeIpfsClient(e)),this._feedbackManager=new Ce(this._chainClient,this._ipfsClient,void 0,void 0,this._subgraphClient),this._feedbackManager.setSubgraphClientGetter(s=>this.getSubgraphClient(s),this._chainId)}_initializeIpfsClient(e){if(!e.ipfs)throw new Error("IPFS provider not specified");let t={};if(e.ipfs==="node"){if(!e.ipfsNodeUrl)throw new Error("ipfsNodeUrl is required when ipfs='node'");t.url=e.ipfsNodeUrl}else if(e.ipfs==="filecoinPin"){if(!e.filecoinPrivateKey)throw new Error("filecoinPrivateKey is required when ipfs='filecoinPin'");t.filecoinPinEnabled=!0,t.filecoinPrivateKey=e.filecoinPrivateKey}else if(e.ipfs==="pinata"){if(!e.pinataJwt)throw new Error("pinataJwt is required when ipfs='pinata'");t.pinataEnabled=!0,t.pinataJwt=e.pinataJwt}else throw new Error(`Invalid ipfs value: ${e.ipfs}. Must be 'node', 'filecoinPin', or 'pinata'`);return new Ie(t)}async chainId(){return this._chainId}registries(){return{...this._registries}}getSubgraphClient(e){let t=e!==void 0?e:this._chainId;if(t===this._chainId&&this._subgraphClient)return this._subgraphClient;let n;if(t in this._subgraphUrls?n=this._subgraphUrls[t]:t in Q&&(n=Q[t]),n)return new ae(n)}identityRegistryAddress(){let e=this._registries.IDENTITY;if(!e)throw new Error(`No identity registry address for chain ${this._chainId}`);return this._feedbackManager.setIdentityRegistryAddress(e),e}reputationRegistryAddress(){let e=this._registries.REPUTATION;if(!e)throw new Error(`No reputation registry address for chain ${this._chainId}`);return this._feedbackManager.setReputationRegistryAddress(e),e}validationRegistryAddress(){let e=this._registries.VALIDATION;if(!e)throw new Error(`No validation registry address for chain ${this._chainId}`);return e}get isReadOnly(){return!this._hasSignerConfig}createAgent(e,t,n){let a={name:e,description:t,image:n,endpoints:[],trustModels:[X.REPUTATION],owners:[],operators:[],active:!1,x402support:!1,metadata:{},updatedAt:Math.floor(Date.now()/1e3)};return new fe(this,a)}async loadAgent(e){let{chainId:t,tokenId:n}=B(e),a=await this.chainId();if(t!==a)throw new Error(`Agent ${e} is not on current chain ${a}`);let r;try{r=await this._chainClient.readContract({address:this.identityRegistryAddress(),abi:O,functionName:"tokenURI",args:[BigInt(n)]})}catch(o){let c=o instanceof Error?o.message:String(o);throw new Error(`Failed to load agent ${e}: ${c}`)}let s;return!r||r===""?s=this._createEmptyRegistrationFile():s=await this._loadRegistrationFile(r),s.agentId=e,s.agentURI=r||void 0,new fe(this,s)}async getAgent(e){let t,n;e.includes(":")?(t=B(e).chainId,n=e):(t=this._chainId,n=oe(this._chainId,parseInt(e,10)));let a=t!==this._chainId?t:void 0,r=a?this.getSubgraphClient(a):this._subgraphClient;if(!r)throw new Error(`Subgraph client required for getAgent on chain ${a||this._chainId}`);return r.getAgentById(n)}async searchAgents(e={},t={}){let n=t.pageSize??50,a=t.cursor,r=t.sort??[];return this._indexer.searchAgents(e,n,a,r)}async searchAgentsByReputation(e={},t={}){let n=0;if(t.cursor)try{n=parseInt(t.cursor,10)}catch{n=0}let a=t.sort??["createdAt:desc"],r=t.pageSize??50,s=t.includeRevoked??!1,o=t.chains;return this._indexer.searchAgentsByReputation(e.agents,e.tags,e.reviewers,e.capabilities,e.skills,e.tasks,e.names,e.minAverageValue,s,r,n,a,o)}async transferAgent(e,t){return(await this.loadAgent(e)).transfer(t)}async isAgentOwner(e,t){let{tokenId:n}=B(e);return(await this._chainClient.readContract({address:this.identityRegistryAddress(),abi:O,functionName:"ownerOf",args:[BigInt(n)]})).toLowerCase()===t.toLowerCase()}async getAgentOwner(e){let{tokenId:t}=B(e);return await this._chainClient.readContract({address:this.identityRegistryAddress(),abi:O,functionName:"ownerOf",args:[BigInt(t)]})}prepareFeedbackFile(e,t){return this._feedbackManager.prepareFeedbackFile(e,t)}async giveFeedback(e,t,n,a,r,s){return this._feedbackManager.setReputationRegistryAddress(this.reputationRegistryAddress()),this._feedbackManager.setIdentityRegistryAddress(this.identityRegistryAddress()),this._feedbackManager.giveFeedback(e,t,n,a,r,s)}async getFeedback(e,t,n){return this._feedbackManager.getFeedback(e,t,n)}async searchFeedback(e,t={}){let n=[...e.agents??[],...e.agentId?[e.agentId]:[]],a=n.length>0?Array.from(new Set(n)):void 0;if(!((a?.length??0)>0||(e.reviewers?.length??0)>0||(e.tags?.length??0)>0||(e.capabilities?.length??0)>0||(e.skills?.length??0)>0||(e.tasks?.length??0)>0||(e.names?.length??0)>0||t.minValue!==void 0||t.maxValue!==void 0))throw new Error("searchFeedback requires at least one filter (agentId/agents/reviewers/tags/capabilities/skills/tasks/names/minValue/maxValue).");let s={agents:a,tags:e.tags,reviewers:e.reviewers,capabilities:e.capabilities,skills:e.skills,tasks:e.tasks,names:e.names,includeRevoked:e.includeRevoked,minValue:t.minValue,maxValue:t.maxValue};return this._feedbackManager.searchFeedback(s)}async appendResponse(e,t,n,a){return this._feedbackManager.setReputationRegistryAddress(this.reputationRegistryAddress()),this._feedbackManager.appendResponse(e,t,n,a.uri,a.hash)}async revokeFeedback(e,t){return this._feedbackManager.setReputationRegistryAddress(this.reputationRegistryAddress()),this._feedbackManager.revokeFeedback(e,t)}async getReputationSummary(e,t,n){return this._feedbackManager.setReputationRegistryAddress(this.reputationRegistryAddress()),this._feedbackManager.getReputationSummary(e,t,n)}_createEmptyRegistrationFile(){return{name:"",description:"",endpoints:[],trustModels:[],owners:[],operators:[],active:!1,x402support:!1,metadata:{},updatedAt:Math.floor(Date.now()/1e3)}}async _loadRegistrationFile(e){try{let t;if(e.startsWith("ipfs://")){let n=e.slice(7);if(this._ipfsClient)t=await this._ipfsClient.getJson(n);else{let a=Re.map(s=>`${s}${n}`),r=!1;for(let s of a)try{let o=await fetch(s,{signal:AbortSignal.timeout(G.IPFS_GATEWAY)});if(o.ok){t=await o.json(),r=!0;break}}catch{continue}if(!r)throw new Error("Failed to retrieve data from all IPFS gateways")}}else if(e.startsWith("http://")||e.startsWith("https://")){let n=await fetch(e);if(!n.ok)throw new Error(`Failed to fetch registration file: HTTP ${n.status}`);t=await n.json()}else{if(e.startsWith("data:"))throw new Error(`Data URIs are not supported. Expected HTTP(S) or IPFS URI, got: ${e}`);if(!e||e.trim()==="")return this._createEmptyRegistrationFile();throw new Error(`Unsupported URI scheme: ${e}`)}if(typeof t!="object"||t===null||Array.isArray(t))throw new Error("Invalid registration file format: expected an object");return this._transformRegistrationFile(t)}catch(t){let n=t instanceof Error?t.message:String(t);throw new Error(`Failed to load registration file: ${n}`)}}_transformRegistrationFile(e){let t=this._transformEndpoints(e),{walletAddress:n,walletChainId:a}=this._extractWalletInfo(e),r=Array.isArray(e.supportedTrust)?e.supportedTrust:Array.isArray(e.trustModels)?e.trustModels:[];return{name:typeof e.name=="string"?e.name:"",description:typeof e.description=="string"?e.description:"",image:typeof e.image=="string"?e.image:void 0,endpoints:t,trustModels:r,owners:Array.isArray(e.owners)?e.owners.filter(s=>typeof s=="string"):[],operators:Array.isArray(e.operators)?e.operators.filter(s=>typeof s=="string"):[],active:typeof e.active=="boolean"?e.active:!1,x402support:typeof e.x402support=="boolean"?e.x402support:typeof e.x402Support=="boolean"?e.x402Support:!1,metadata:typeof e.metadata=="object"&&e.metadata!==null&&!Array.isArray(e.metadata)?e.metadata:{},updatedAt:typeof e.updatedAt=="number"?e.updatedAt:Math.floor(Date.now()/1e3),walletAddress:n,walletChainId:a}}_transformEndpoints(e){let t=[],n=Array.isArray(e.services)?e.services:Array.isArray(e.endpoints)?e.endpoints:null;if(!n)return t;for(let a of n)if(a.type&&a.value!==void 0)t.push({type:a.type,value:a.value,meta:a.meta});else{let r=this._transformEndpointLegacy(a,e);r&&t.push(r)}return t}_transformEndpointLegacy(e,t){let n=typeof e.name=="string"?e.name:"",a=typeof e.endpoint=="string"?e.endpoint:"",r=typeof e.version=="string"?e.version:void 0,s=n.toLowerCase(),o={mcp:M.MCP,a2a:M.A2A,ens:M.ENS,did:M.DID,agentwallet:M.WALLET,wallet:M.WALLET},c;if(o[s]){if(c=o[s],c===M.WALLET){let l=a.match(/eip155:(\d+):(0x[a-fA-F0-9]{40})/);l&&(t._walletAddress=l[2],t._walletChainId=parseInt(l[1],10))}}else c=n;return{type:c,value:a,meta:r?{version:r}:void 0}}_extractWalletInfo(e){return typeof e._walletAddress=="string"&&typeof e._walletChainId=="number"?{walletAddress:e._walletAddress,walletChainId:e._walletChainId}:typeof e.walletAddress=="string"&&typeof e.walletChainId=="number"?{walletAddress:e.walletAddress,walletChainId:e.walletChainId}:{}}get chainClient(){return this._chainClient}get ipfsClient(){return this._ipfsClient}get subgraphClient(){return this._subgraphClient}};export{fe as Agent,ke as AgentIndexer,Wn as DEFAULT_REGISTRIES,Q as DEFAULT_SUBGRAPH_URLS,Ir as ERC721_ABI,Cr as ERC721_URI_STORAGE_ABI,Te as EndpointCrawler,Ce as FeedbackManager,O as IDENTITY_REGISTRY_ABI,Ie as IPFSClient,J as REPUTATION_REGISTRY_ABI,It as SDK,ae as SubgraphClient,W as TransactionHandle,ab as VALIDATION_REGISTRY_ABI,_e as ViemChainClient};
//# sourceMappingURL=agent0-sdk.bundle.mjs.map